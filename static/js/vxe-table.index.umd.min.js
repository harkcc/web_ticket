!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("vue"),require("@vxe-ui/core"),require("xe-utils")):"function"==typeof define&&define.amd?define([,"@vxe-ui/core","xe-utils"],t):"object"==typeof exports?exports.VXETable=t(require("vue"),require("@vxe-ui/core"),require("xe-utils")):e.VXETable=t(e.Vue,e.VxeUI,e.XEUtils)}("undefined"!=typeof self?self:this,function(y,wo,yo){return function(){"use strict";var o={9274:function(e){e.exports=y},4345:function(e){e.exports=wo},8871:function(e){e.exports=yo},9306:function(e,t,r){var l=r(4901),o=r(6823),n=TypeError;e.exports=function(e){if(l(e))return e;throw new n(o(e)+" is not a function")}},8551:function(e,t,r){var l=r(34),o=String,n=TypeError;e.exports=function(e){if(l(e))return e;throw new n(o(e)+" is not an object")}},9617:function(e,t,r){function l(i){return function(e,t,r){var l=s(e),o=d(l);if(0!==o){var n,a=c(r,o);if(i&&t!=t){for(;a<o;)if((n=l[a++])!=n)return!0}else for(;a<o;a++)if((i||a in l)&&l[a]===t)return i||a||0}return!i&&-1}}var s=r(5397),c=r(5610),d=r(6198);e.exports={includes:l(!0),indexOf:l(!1)}},4527:function(e,t,r){var l=r(3724),o=r(4376),n=TypeError,a=Object.getOwnPropertyDescriptor,r=l&&!function(){if(void 0!==this)return 1;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=r?function(e,t){if(o(e)&&!a(e,"length").writable)throw new n("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},4576:function(e,t,r){var r=r(9504),l=r({}.toString),o=r("".slice);e.exports=function(e){return o(l(e),8,-1)}},7740:function(e,t,r){var s=r(9297),c=r(5031),d=r(7347),u=r(4913);e.exports=function(e,t,r){for(var l=c(t),o=u.f,n=d.f,a=0;a<l.length;a++){var i=l[a];s(e,i)||r&&s(r,i)||o(e,i,n(t,i))}}},6699:function(e,t,r){var l=r(3724),o=r(4913),n=r(6980);e.exports=l?function(e,t,r){return o.f(e,t,n(1,r))}:function(e,t,r){return e[t]=r,e}},6980:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6840:function(e,t,r){var a=r(4901),i=r(4913),s=r(283),c=r(9433);e.exports=function(e,t,r,l){var o=(l=l||{}).enumerable,n=void 0!==l.name?l.name:t;if(a(r)&&s(r,n,l),l.global)o?e[t]=r:c(t,r);else{try{l.unsafe?e[t]&&(o=!0):delete e[t]}catch(e){}o?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return e}},9433:function(e,t,r){var l=r(4475),o=Object.defineProperty;e.exports=function(t,r){try{o(l,t,{value:r,configurable:!0,writable:!0})}catch(e){l[t]=r}return r}},3724:function(e,t,r){r=r(9039);e.exports=!r(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},4055:function(e,t,r){var l=r(4475),r=r(34),o=l.document,n=r(o)&&r(o.createElement);e.exports=function(e){return n?o.createElement(e):{}}},6837:function(e){var t=TypeError;e.exports=function(e){if(9007199254740991<e)throw t("Maximum allowed index exceeded");return e}},9392:function(e){e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7388:function(e,t,r){var l,o,n=r(4475),r=r(9392),a=n.process,n=n.Deno,a=a&&a.versions||n&&n.version,n=a&&a.v8;!(o=n?0<(l=n.split("."))[0]&&l[0]<4?1:+(l[0]+l[1]):o)&&r&&(!(l=r.match(/Edge\/(\d+)/))||74<=l[1])&&(l=r.match(/Chrome\/(\d+)/))&&(o=+l[1]),e.exports=o},8727:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6518:function(e,t,r){var c=r(4475),d=r(7347).f,u=r(6699),p=r(6840),m=r(9433),h=r(7740),f=r(2796);e.exports=function(e,t){var r,l,o,n=e.target,a=e.global,i=e.stat,s=a?c:i?c[n]||m(n,{}):c[n]&&c[n].prototype;if(s)for(r in t){if(l=t[r],o=e.dontCallGetSet?(o=d(s,r))&&o.value:s[r],!f(a?r:n+(i?".":"#")+r,e.forced)&&void 0!==o){if(typeof l==typeof o)continue;h(l,o)}(e.sham||o&&o.sham)&&u(l,"sham",!0),p(s,r,l,e)}}},9039:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},616:function(e,t,r){r=r(9039);e.exports=!r(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})},9565:function(e,t,r){var r=r(616),l=Function.prototype.call;e.exports=r?l.bind(l):function(){return l.apply(l,arguments)}},350:function(e,t,r){var l=r(3724),r=r(9297),o=Function.prototype,n=l&&Object.getOwnPropertyDescriptor,r=r(o,"name"),a=r&&"something"===function(){}.name,l=r&&(!l||n(o,"name").configurable);e.exports={EXISTS:r,PROPER:a,CONFIGURABLE:l}},9504:function(e,t,r){var r=r(616),l=Function.prototype,o=l.call,l=r&&l.bind.bind(o,o);e.exports=r?l:function(e){return function(){return o.apply(e,arguments)}}},7751:function(e,t,r){var l=r(4475),o=r(4901);e.exports=function(e,t){return arguments.length<2?(r=l[e],o(r)?r:void 0):l[e]&&l[e][t];var r}},5966:function(e,t,r){var l=r(9306),o=r(4117);e.exports=function(e,t){e=e[t];return o(e)?void 0:l(e)}},4475:function(e,t,r){function l(e){return e&&e.Math===Math&&e}e.exports=l("object"==typeof globalThis&&globalThis)||l("object"==typeof window&&window)||l("object"==typeof self&&self)||l("object"==typeof r.g&&r.g)||l("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(e,t,r){var l=r(9504),o=r(8981),n=l({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return n(o(e),t)}},421:function(e){e.exports={}},5917:function(e,t,r){var l=r(3724),o=r(9039),n=r(4055);e.exports=!l&&!o(function(){return 7!==Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a})},7055:function(e,t,r){var l=r(9504),o=r(9039),n=r(4576),a=Object,i=l("".split);e.exports=o(function(){return!a("z").propertyIsEnumerable(0)})?function(e){return"String"===n(e)?i(e,""):a(e)}:a},3706:function(e,t,r){var l=r(9504),o=r(4901),r=r(7629),n=l(Function.toString);o(r.inspectSource)||(r.inspectSource=function(e){return n(e)}),e.exports=r.inspectSource},1181:function(e,t,r){var l,o,n,a,i=r(8622),s=r(4475),c=r(34),d=r(6699),u=r(9297),p=r(7629),m=r(6119),r=r(421),h="Object already initialized",f=s.TypeError,s=s.WeakMap,v=i||p.state?((n=p.state||(p.state=new s)).get=n.get,n.has=n.has,n.set=n.set,l=function(e,t){if(n.has(e))throw new f(h);return t.facade=e,n.set(e,t),t},o=function(e){return n.get(e)||{}},function(e){return n.has(e)}):(r[a=m("state")]=!0,l=function(e,t){if(u(e,a))throw new f(h);return t.facade=e,d(e,a,t),t},o=function(e){return u(e,a)?e[a]:{}},function(e){return u(e,a)});e.exports={set:l,get:o,has:v,enforce:function(e){return v(e)?o(e):l(e,{})},getterFor:function(t){return function(e){if(c(e)&&(e=o(e)).type===t)return e;throw new f("Incompatible receiver, "+t+" required")}}}},4376:function(e,t,r){var l=r(4576);e.exports=Array.isArray||function(e){return"Array"===l(e)}},4901:function(e){var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},2796:function(e,t,r){function l(e,t){return(e=s[i(e)])===d||e!==c&&(n(t)?o(t):!!t)}var o=r(9039),n=r(4901),a=/#|\.prototype\./,i=l.normalize=function(e){return String(e).replace(a,".").toLowerCase()},s=l.data={},c=l.NATIVE="N",d=l.POLYFILL="P";e.exports=l},4117:function(e){e.exports=function(e){return null==e}},34:function(e,t,r){var l=r(4901);e.exports=function(e){return"object"==typeof e?null!==e:l(e)}},6395:function(e){e.exports=!1},757:function(e,t,r){var l=r(7751),o=r(4901),n=r(1625),r=r(7040),a=Object;e.exports=r?function(e){return"symbol"==typeof e}:function(e){var t=l("Symbol");return o(t)&&n(t.prototype,a(e))}},6198:function(e,t,r){var l=r(8014);e.exports=function(e){return l(e.length)}},283:function(e,t,r){var l=r(9504),o=r(9039),n=r(4901),a=r(9297),i=r(3724),s=r(350).CONFIGURABLE,c=r(3706),r=r(1181),d=r.enforce,u=r.get,p=String,m=Object.defineProperty,h=l("".slice),f=l("".replace),v=l([].join),g=i&&!o(function(){return 8!==m(function(){},"length",{value:8}).length}),x=String(String).split("String"),r=e.exports=function(e,t,r){"Symbol("===h(p(t),0,7)&&(t="["+f(p(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!a(e,"name")||s&&e.name!==t)&&(i?m(e,"name",{value:t,configurable:!0}):e.name=t),g&&r&&a(r,"arity")&&e.length!==r.arity&&m(e,"length",{value:r.arity});try{r&&a(r,"constructor")&&r.constructor?i&&m(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}r=d(e);return a(r,"source")||(r.source=v(x,"string"==typeof t?t:"")),e};Function.prototype.toString=r(function(){return n(this)&&u(this).source||c(this)},"toString")},741:function(e){var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){e=+e;return(0<e?r:t)(e)}},4913:function(e,t,r){var l=r(3724),o=r(5917),n=r(8686),a=r(8551),i=r(6969),s=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,u="enumerable",p="configurable",m="writable";t.f=l?n?function(e,t,r){var l;return a(e),t=i(t),a(r),"function"==typeof e&&"prototype"===t&&"value"in r&&m in r&&!r[m]&&(l=d(e,t))&&l[m]&&(e[t]=r.value,r={configurable:(p in r?r:l)[p],enumerable:(u in r?r:l)[u],writable:!1}),c(e,t,r)}:c:function(e,t,r){if(a(e),t=i(t),a(r),o)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new s("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},7347:function(e,t,r){var l=r(3724),o=r(9565),n=r(8773),a=r(6980),i=r(5397),s=r(6969),c=r(9297),d=r(5917),u=Object.getOwnPropertyDescriptor;t.f=l?u:function(e,t){if(e=i(e),t=s(t),d)try{return u(e,t)}catch(e){}if(c(e,t))return a(!o(n.f,e,t),e[t])}},8480:function(e,t,r){var l=r(1828),o=r(8727).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return l(e,o)}},3717:function(e,t){t.f=Object.getOwnPropertySymbols},1625:function(e,t,r){r=r(9504);e.exports=r({}.isPrototypeOf)},1828:function(e,t,r){var l=r(9504),a=r(9297),i=r(5397),s=r(9617).indexOf,c=r(421),d=l([].push);e.exports=function(e,t){var r,l=i(e),o=0,n=[];for(r in l)!a(c,r)&&a(l,r)&&d(n,r);for(;t.length>o;)!a(l,r=t[o++])||~s(n,r)||d(n,r);return n}},8773:function(e,t){var r={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,o=l&&!r.call({1:2},1);t.f=o?function(e){e=l(this,e);return!!e&&e.enumerable}:r},4270:function(e,t,r){var o=r(9565),n=r(4901),a=r(34),i=TypeError;e.exports=function(e,t){var r,l;if("string"===t&&n(r=e.toString)&&!a(l=o(r,e)))return l;if(n(r=e.valueOf)&&!a(l=o(r,e)))return l;if("string"!==t&&n(r=e.toString)&&!a(l=o(r,e)))return l;throw new i("Can't convert object to primitive value")}},5031:function(e,t,r){var l=r(7751),o=r(9504),n=r(8480),a=r(3717),i=r(8551),s=o([].concat);e.exports=l("Reflect","ownKeys")||function(e){var t=n.f(i(e)),r=a.f;return r?s(t,r(e)):t}},7750:function(e,t,r){var l=r(4117),o=TypeError;e.exports=function(e){if(l(e))throw new o("Can't call method on "+e);return e}},6119:function(e,t,r){var l=r(5745),o=r(3392),n=l("keys");e.exports=function(e){return n[e]||(n[e]=o(e))}},7629:function(e,t,r){var l=r(6395),o=r(4475),r=r(9433),n="__core-js_shared__",e=e.exports=o[n]||r(n,{});(e.versions||(e.versions=[])).push({version:"3.37.1",mode:l?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(e,t,r){var l=r(7629);e.exports=function(e,t){return l[e]||(l[e]=t||{})}},4495:function(e,t,r){var l=r(7388),o=r(9039),n=r(4475).String;e.exports=!!Object.getOwnPropertySymbols&&!o(function(){var e=Symbol("symbol detection");return!n(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&l&&l<41})},5610:function(e,t,r){var l=r(1291),o=Math.max,n=Math.min;e.exports=function(e,t){e=l(e);return e<0?o(e+t,0):n(e,t)}},5397:function(e,t,r){var l=r(7055),o=r(7750);e.exports=function(e){return l(o(e))}},1291:function(e,t,r){var l=r(741);e.exports=function(e){e=+e;return e!=e||0==e?0:l(e)}},8014:function(e,t,r){var l=r(1291),o=Math.min;e.exports=function(e){e=l(e);return 0<e?o(e,9007199254740991):0}},8981:function(e,t,r){var l=r(7750),o=Object;e.exports=function(e){return o(l(e))}},2777:function(e,t,r){var l=r(9565),o=r(34),n=r(757),a=r(5966),i=r(4270),r=r(8227),s=TypeError,c=r("toPrimitive");e.exports=function(e,t){if(!o(e)||n(e))return e;var r=a(e,c);if(r){if(r=l(r,e,t=void 0===t?"default":t),!o(r)||n(r))return r;throw new s("Can't convert object to primitive value")}return i(e,t=void 0===t?"number":t)}},6969:function(e,t,r){var l=r(2777),o=r(757);e.exports=function(e){e=l(e,"string");return o(e)?e:e+""}},6823:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},3392:function(e,t,r){var r=r(9504),l=0,o=Math.random(),n=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+n(++l+o,36)}},7040:function(e,t,r){r=r(4495);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(e,t,r){var l=r(3724),r=r(9039);e.exports=l&&r(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},8622:function(e,t,r){var l=r(4475),r=r(4901),l=l.WeakMap;e.exports=r(l)&&/native code/.test(String(l))},8227:function(e,t,r){var l=r(4475),o=r(5745),n=r(9297),a=r(3392),i=r(4495),r=r(7040),s=l.Symbol,c=o("wks"),d=r?s.for||s:s&&s.withoutSetter||a;e.exports=function(e){return n(c,e)||(c[e]=i&&n(s,e)?s[e]:d("Symbol."+e)),c[e]}},4114:function(e,t,r){var l=r(6518),n=r(8981),a=r(6198),i=r(4527),s=r(6837);l({target:"Array",proto:!0,arity:1,forced:r(9039)(function(){return 4294967297!==[].push.call({length:4294967296},1)})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=n(this),r=a(t),l=arguments.length;s(r+l);for(var o=0;o<l;o++)t[r]=arguments[o],r++;return i(t,r),r}})}},n={};function l(e){var t=n[e];return void 0!==t||(t=n[e]={exports:{}},o[e].call(t.exports,t,t.exports,l)),t.exports}l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},l.d=function(e,t){for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.p="";var i={};{l.r(i),l.d(i,{Colgroup:function(){return tr},Column:function(){return Jt},Grid:function(){return bo},Table:function(){return Ql},Toolbar:function(){return ao},VXETable:function(){return $t},VxeColgroup:function(){return er},VxeColumn:function(){return Qt},VxeGrid:function(){return xo},VxeTable:function(){return Zl},VxeToolbar:function(){return no},VxeUI:function(){return mr.VxeUI},_t:function(){return Lt},clipboard:function(){return Mt},commands:function(){return St},config:function(){return At},default:function(){return ct},formats:function(){return Rt},getConfig:function(){return ht},getI18n:function(){return bt},getIcon:function(){return vt},getTheme:function(){return pt},globalEvents:function(){return Ct},globalResize:function(){return wt},hooks:function(){return Ft},install:function(){return st},interceptor:function(){return kt},log:function(){return It},menus:function(){return Et},modal:function(){return Pt},print:function(){return Ht},readFile:function(){return Nt},renderer:function(){return yt},saveFile:function(){return _t},setConfig:function(){return mt},setI18n:function(){return xt},setIcon:function(){return ft},setLanguage:function(){return gt},setTheme:function(){return ut},setup:function(){return Ot},t:function(){return Vt},use:function(){return Dt},validators:function(){return Tt},version:function(){return dt}});var s={},mr=(l.r(s),l.d(s,{Colgroup:function(){return tr},Column:function(){return Jt},Grid:function(){return bo},Table:function(){return Ql},Toolbar:function(){return ao},VXETable:function(){return $t},VxeColgroup:function(){return er},VxeColumn:function(){return Qt},VxeGrid:function(){return xo},VxeTable:function(){return Zl},VxeToolbar:function(){return no},VxeUI:function(){return mr.VxeUI},_t:function(){return Lt},clipboard:function(){return Mt},commands:function(){return St},config:function(){return At},formats:function(){return Rt},getConfig:function(){return ht},getI18n:function(){return bt},getIcon:function(){return vt},getTheme:function(){return pt},globalEvents:function(){return Ct},globalResize:function(){return wt},hooks:function(){return Ft},install:function(){return st},interceptor:function(){return kt},log:function(){return It},menus:function(){return Et},modal:function(){return Pt},print:function(){return Ht},readFile:function(){return Nt},renderer:function(){return yt},saveFile:function(){return _t},setConfig:function(){return mt},setI18n:function(){return xt},setIcon:function(){return ft},setLanguage:function(){return gt},setTheme:function(){return ut},setup:function(){return Ot},t:function(){return Vt},use:function(){return Dt},validators:function(){return Tt},version:function(){return dt}}),"undefined"!=typeof window&&(e=(e=window.document.currentScript)&&e.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(l.p=e[1]),l(4345)),e=l(8871),hr=l.n(e),d=null,u=null,p=null,h="z-index-manage",f=null,v="z-index-style",g={m:1e3,s:1e3};function x(){return d||"undefined"!=typeof document&&(d=document),d}function C(){return u=d&&!u?d.body||d.getElementsByTagName("body")[0]:u}function w(){var e;f||!(e=x())||(f=e.getElementById(v))||((f=e.createElement("style")).id=v,e.getElementsByTagName("head")[0].appendChild(f)),f&&(f.innerHTML=":root{--dom-main"+(e="-z-index")+":"+M()+";--dom-sub"+e+":"+O()+"}")}function T(){var e,t;return p||(e=x())&&!(p=e.getElementById(h))&&(t=C())&&((p=e.createElement("div")).id=h,p.style.display="none",t.appendChild(p),S(g.m),F(g.s)),p}function R(r){return function(e){var t;return e&&(e=Number(e),g[r]=e,t=T())&&(t.dataset?t.dataset[r]=e+"":t.setAttribute("data-"+r,e+"")),w(),g[r]}}var S=R("m");function k(l,o){return function(e){var t=T(),r=(r=t&&(t=t.dataset?t.dataset[l]:t.getAttribute("data-"+l))?Number(t):r)||g[l];return e?Number(e)<r?o():e:r}}var M=k("m",I);function I(){return S(M()+1)}var F=R("s"),D=k("s",A);function O(){return M()+D()}function A(){return F(D()+1),O()}var e={setCurrent:S,getCurrent:M,getNext:I,setSubCurrent:F,getSubCurrent:O,getSubNext:A,getMax:function(){var e=0;if(x()){var t=C();if(t)for(var r=t.getElementsByTagName("*"),l=0;l<r.length;l++){var o=r[l];o&&o.style&&1===o.nodeType&&(o=o.style.zIndex)&&/^\d+$/.test(o)&&(e=Math.max(e,Number(o)))}}return e}},$=(w(),e);function fr(e){return e&&!1!==e.enabled}function _(e){return null==e||""===e}function N(e){var e=e.name,t=hr().lastIndexOf(e,"."),r=e.substring(t+1,e.length).toLowerCase();return{filename:e.substring(0,t),type:r}}function Lr(){return $.getNext()}function $r(){return $.getCurrent()}function _r(e){return e&&e.children&&0<e.children.length}function Nr(e,t){var r;return e?(r=mr.VxeUI.getConfig().translate,hr().toValueString(r?r(""+e,t):e)):""}function vr(e,t){return""+(_(e)?t?mr.VxeUI.getConfig().emptyCell:"":e)}function Hr(e){return""===e||hr().eqNull(e)}const dt="4.9.15",ut=(mr.VxeUI.version=dt,mr.VxeUI.tableVersion=dt,mr.VxeUI.setConfig({emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,padding:!0,minHeight:144,resizeConfig:{},resizableConfig:{dragMode:"auto",showDragTip:!0},radioConfig:{strict:!0},rowDragConfig:{showIcon:!0},columnDragConfig:{showIcon:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single",theme:"beautify"},columnConfig:{maxFixedSize:4},customConfig:{allowVisible:!0,allowResizable:!0,allowFixed:!0,allowSort:!0,showFooter:!0,placement:"top-right",modalOptions:{showMaximize:!0,mask:!0,lockView:!0,resize:!0,escClosable:!0}},sortConfig:{showIcon:!0,iconLayout:"vertical"},filterConfig:{showIcon:!0},treeConfig:{rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0},editConfig:{showIcon:!0,showAsterisk:!0,autoFocus:!0},importConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},printConfig:{},mouseConfig:{extension:!0},keyboardConfig:{isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0,selectCellByBody:!0},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},scrollX:{gt:60},scrollY:{gt:100}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,showResponseMsg:!0,showActiveMsg:!0,props:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{}}),e="vxe-table-icon-",mr.VxeUI.setIcon({TABLE_SORT_ASC:e+"caret-up",TABLE_SORT_DESC:e+"caret-down",TABLE_FILTER_NONE:e+"funnel",TABLE_FILTER_MATCH:e+"funnel",TABLE_EDIT:e+"edit",TABLE_TITLE_PREFIX:e+"question-circle-fill",TABLE_TITLE_SUFFIX:e+"question-circle-fill",TABLE_TREE_LOADED:e+"spinner roll",TABLE_TREE_OPEN:e+"caret-right rotate90",TABLE_TREE_CLOSE:e+"caret-right",TABLE_EXPAND_LOADED:e+"spinner roll",TABLE_EXPAND_OPEN:e+"arrow-right rotate90",TABLE_EXPAND_CLOSE:e+"arrow-right",TABLE_CHECKBOX_CHECKED:e+"checkbox-checked-fill",TABLE_CHECKBOX_UNCHECKED:e+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:e+"checkbox-indeterminate-fill",TABLE_RADIO_CHECKED:e+"radio-checked-fill",TABLE_RADIO_UNCHECKED:e+"radio-unchecked",TABLE_CUSTOM_SORT:e+"drag-handle",TABLE_MENU_OPTIONS:e+"arrow-right",TABLE_DRAG_ROW:e+"drag-handle",TABLE_DRAG_COLUMN:e+"drag-handle",TOOLBAR_TOOLS_REFRESH:e+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:e+"repeat roll",TOOLBAR_TOOLS_IMPORT:e+"upload",TOOLBAR_TOOLS_EXPORT:e+"download",TOOLBAR_TOOLS_PRINT:e+"print",TOOLBAR_TOOLS_FULLSCREEN:e+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:e+"minimize",TOOLBAR_TOOLS_CUSTOM:e+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:e+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:e+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:e+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:e+"fixed-right-fill"}),mr.VxeUI.setTheme),pt=mr.VxeUI.getTheme,mt=mr.VxeUI.setConfig,ht=mr.VxeUI.getConfig,ft=mr.VxeUI.setIcon,vt=mr.VxeUI.getIcon,gt=mr.VxeUI.setLanguage,xt=mr.VxeUI.setI18n,bt=mr.VxeUI.getI18n,Ct=mr.VxeUI.globalEvents,wt=mr.VxeUI.globalResize,yt=mr.VxeUI.renderer,Tt=mr.VxeUI.validators,Et=mr.VxeUI.menus,Rt=mr.VxeUI.formats,St=mr.VxeUI.commands,kt=mr.VxeUI.interceptor,Mt=mr.VxeUI.clipboard,It=mr.VxeUI.log,Ft=mr.VxeUI.hooks,Dt=mr.VxeUI.use,Ot=e=>mr.VxeUI.setConfig(e),At=(mr.VxeUI.setup=Ot,e=>mr.VxeUI.setConfig(e)),Vt=(mr.VxeUI.config=At,(e,t)=>mr.VxeUI.getI18n(e,t)),Lt=(mr.VxeUI.t=Vt,(e,t)=>Nr(e,t)),$t=(mr.VxeUI._t=Lt,mr.VxeUI),_t=e=>mr.VxeUI.saveFile(e),Nt=e=>mr.VxeUI.readFile(e),Ht=e=>mr.VxeUI.print(e),Pt={get(e){return mr.VxeUI.modal.get(e)},close(e){return mr.VxeUI.modal.close(e)},open(e){return mr.VxeUI.modal.open(e)},alert(e,t,r){return mr.VxeUI.modal.alert(e,t,r)},confirm(e,t,r){return mr.VxeUI.modal.confirm(e,t,r)},message(e,t){return mr.VxeUI.modal.message(e,t)},notification(e,t,r){return mr.VxeUI.modal.notification(e,t,r)}};var gr=l(9274),e=(l(4114),mr.VxeUI["log"]),H="table v4.9.15";const Mr=e.create("warn",H),Ir=e.create("error",H),{getI18n:Bt,formats:jt}=mr.VxeUI;class Ut{constructor(e,t,{renderHeader:r,renderCell:l,renderFooter:o,renderData:n}={}){var a=e.xegrid,i=t.formatter,s=!hr().isBoolean(t.visible)||t.visible,c=e["props"],d=["seq","checkbox","radio","expand","html"];t.type&&-1===d.indexOf(t.type)&&Mr("vxe.error.errProp",["type="+t.type,d.join(", ")]),(hr().isBoolean(t.cellRender)||t.cellRender&&!hr().isObject(t.cellRender))&&Mr("vxe.error.errProp",["column.cell-render="+t.cellRender,"column.cell-render={}"]),(hr().isBoolean(t.editRender)||t.editRender&&!hr().isObject(t.editRender))&&Mr("vxe.error.errProp",["column.edit-render="+t.editRender,"column.edit-render={}"]),t.cellRender&&t.editRender&&Mr("vxe.error.errConflicts",["column.cell-render","column.edit-render"]),"expand"===t.type&&(d=c["treeConfig"],c=e.getComputeMaps()["computeTreeOpts"],e=c.value,d)&&(e.showLine||e.line)&&Ir("vxe.error.errConflicts",["tree-config.showLine","column.type=expand"]),i&&(hr().isString(i)?(c=jt.get(i)||hr()[i])&&hr().isFunction(c.tableCellFormatMethod||c.cellFormatMethod)||Ir("vxe.error.notFormats",[i]):!hr().isArray(i)||(d=jt.get(i[0])||hr()[i[0]])&&hr().isFunction(d.tableCellFormatMethod||d.cellFormatMethod)||Ir("vxe.error.notFormats",[i[0]])),Object.assign(this,{type:t.type,property:t.field,field:t.field,title:t.title,width:t.width,minWidth:t.minWidth,maxWidth:t.maxWidth,resizable:t.resizable,fixed:t.fixed,align:t.align,headerAlign:t.headerAlign,footerAlign:t.footerAlign,showOverflow:t.showOverflow,showHeaderOverflow:t.showHeaderOverflow,showFooterOverflow:t.showFooterOverflow,className:t.className,headerClassName:t.headerClassName,footerClassName:t.footerClassName,formatter:i,footerFormatter:t.footerFormatter,sortable:t.sortable,sortBy:t.sortBy,sortType:t.sortType,filters:X(t.filters),filterMultiple:!hr().isBoolean(t.filterMultiple)||t.filterMultiple,filterMethod:t.filterMethod,filterResetMethod:t.filterResetMethod,filterRecoverMethod:t.filterRecoverMethod,filterRender:t.filterRender,treeNode:t.treeNode,dragSort:t.dragSort,cellType:t.cellType,cellRender:t.cellRender,editRender:t.editRender,contentRender:t.contentRender,headerExportMethod:t.headerExportMethod,exportMethod:t.exportMethod,footerExportMethod:t.footerExportMethod,titleHelp:t.titleHelp,titlePrefix:t.titlePrefix,titleSuffix:t.titleSuffix,params:t.params,id:t.colId||hr().uniqueId("col_"),parentId:null,visible:s,halfVisible:!1,defaultVisible:s,defaultFixed:t.fixed,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderFixed:"",renderVisible:!1,renderWidth:0,renderHeight:0,renderResizeWidth:0,renderAutoWidth:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:r||t.renderHeader,renderCell:l||t.renderCell,renderFooter:o||t.renderFooter,renderData:n,slots:t.slots}),a&&(e=a.getComputeMaps()["computeProxyOpts"],(c=e.value).beforeColumn)&&c.beforeColumn({$grid:a,column:this})}getTitle(){return Nr(this.title||("seq"===this.type?Bt("vxe.table.seqTitle"):""))}getKey(){var e=this["type"];return this.field||(e?"type="+e:null)}update(e,t){"filters"!==e&&("field"===e&&(this.property=t),this[e]=t)}}const zt={},al=hr().browse();function Fe(e,t){return e?hr().isFunction(e)?e(t):e:""}function P(e){return zt[e]||(zt[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),zt[e]}function Pr(e){return e&&/^\d+(px)?$/.test(e)}function Br(e){return e&&/^\d+%$/.test(e)}function jr(e,t){return e&&e.className&&e.className.match&&e.className.match(P(t))}function xr(e,t){e&&jr(e,t)&&(e.className=e.className.replace(P(t),""))}function br(e,t){e&&!jr(e,t)&&(xr(e,t),e.className=e.className+" "+t)}function ce(){var e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function de(e){return e?e.offsetHeight:0}function Ur(e){return e?(e=getComputedStyle(e),hr().toNumber(e.paddingTop)+hr().toNumber(e.paddingBottom)):0}function Cr(e,t){e&&(e.scrollTop=t)}function wr(e,t){e&&(e.scrollLeft=t)}function De(e,t){t="html"===t.type?e.innerText:e.textContent;e.getAttribute("title")!==t&&e.setAttribute("title",t)}function yr(e,t,r,l){let o,n=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;n&&n.nodeType&&n!==document;){if(r&&jr(n,r)&&(!l||l(n)))o=n;else if(n===t)return{flag:!r||!!o,container:t,targetElem:o};n=n.parentNode}return{flag:!1}}function U(e,t){return function e(t,r,l){if(t){var o=t.parentNode;if(l.top+=t.offsetTop,l.left+=t.offsetLeft,o&&o!==document.documentElement&&o!==document.body&&(l.top-=o.scrollTop,l.left-=o.scrollLeft),(!r||t!==r&&t.offsetParent!==r)&&t.offsetParent)return e(t.offsetParent,r,l)}return l}(e,t,{left:0,top:0})}function B(e){var e=e.getBoundingClientRect(),t=e.top,e=e.left,{scrollTop:r,scrollLeft:l,visibleHeight:o,visibleWidth:n}=ce();return{boundingTop:t,top:r+t,boundingLeft:e,left:l+e,visibleHeight:o,visibleWidth:n}}const Wt="scrollIntoViewIfNeeded",qt="scrollIntoView";function zr(e){return e&&1===e.nodeType}const Xt=(e,t)=>{const r=[];return e.forEach(e=>{e.parentId=t?t.id:null,e.visible&&(e.children&&e.children.length&&e.children.some(e=>e.visible)?(r.push(e),r.push(...Xt(e.children,e))):r.push(e))}),r};function Wr(e,t,r){const l=e["internalData"];return e.clearScroll().then(()=>{if(t||r)return l.lastScrollLeft=0,l.lastScrollTop=0,e.scrollTo(t,r)})}function qr(){return hr().uniqueId("row_")}function Xr(e){var t=e["props"],e=e.getComputeMaps()["computeRowOpts"],t=t["rowId"],e=e.value;return t||e.keyField||"_X_ROW_KEY"}function Tr(e,t){t=hr().get(t,Xr(e));return hr().eqNull(t)?"":encodeURIComponent(t)}const Fr=(e,t)=>t?hr().isString(t)?e.getColumnByField(t):t:null;function z(e){return e?(e=getComputedStyle(e),hr().toNumber(e.paddingLeft)+hr().toNumber(e.paddingRight)):0}function W(e){var t,r;return e?(r=getComputedStyle(e),t=hr().toNumber(r.marginLeft),r=hr().toNumber(r.marginRight),e.offsetWidth+t+r):0}function q(e,t){return e.querySelector(".vxe-cell"+t)}function X(e){return e&&hr().isArray(e)?e.map(({label:e,value:t,data:r,resetValue:l,checked:o})=>({label:e,value:t,data:r,resetValue:l,checked:!!o,_checked:!!o})):e}function Er(e,t){return hr().get(e,t.field)}function Rr(e,t,r){hr().set(e,t.field,r)}function Sr(e){if(e){e=e.value;if(e)return e.$el||e}return null}function K(e){return e&&(e.constructor===Ut||e instanceof Ut)}function Y(r,e,l){Object.keys(e).forEach(t=>{(0,gr.watch)(()=>e[t],e=>{l.update(t,e),r&&("filters"===t?(r.setFilter(l,e),r.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(t)&&r.handleRefreshColumnQueue())})})}function G(e,t,r,l){var e=e["reactData"],o=e["staticColumns"],n=t.parentNode,l=l?l.columnConfig:null,l=l?l.children:o;n&&l&&(l.splice(hr().arrayIndexOf(n.children,t),0,r),e.staticColumns=o.slice(0))}function Z(e,t){var e=e["reactData"],r=e["staticColumns"],l=hr().findTree(r,e=>e.id===t.id,{children:"children"});l&&l.items.splice(l.index,1),e.staticColumns=r.slice(0)}function Kr(e,t){var e=e["internalData"],r=e["fullColumnIdData"];if(!t)return null;let l=t.parentId;for(;r[l];){const t=r[l].column;if(!(l=t.parentId))return t}return t}function Oe(t,r,l){for(let e=0;e<t.length;e++){var{row:o,col:n,rowspan:a,colspan:i}=t[e];if(-1<n&&-1<o&&a&&i){if(o===r&&n===l)return{rowspan:a,colspan:i};if(o<=r&&r<o+a&&n<=l&&l<n+i)return{rowspan:0,colspan:0}}}}function Yr(r,l){var{reactData:e,internalData:o}=r,n=r.props["showOverflow"],a=r.getRefMaps()["refTableBody"],{columnStore:e,scrollYLoad:t}=e,{afterFullData:i,scrollYStore:o,fullAllDataRowIdData:s}=o,a=a.value,{leftList:e,rightList:c}=e,a=a?a.$el:null,d=Tr(r,l);let u=0,p=(e.forEach(e=>{u+=e.renderWidth}),0);if(c.forEach(e=>{p+=e.renderWidth}),a){e=a.clientHeight,c=a.scrollTop,a=a.querySelector(`[rowid="${d}"]`);if(a){var m=a.offsetParent,m=a.offsetTop+(m?m.offsetTop:0),a=a.clientHeight;if(m<c||c+e<m)return r.scrollTo(null,m);if(e+c<=m+a)return r.scrollTo(null,c+a)}else if(t){if(n)return r.scrollTo(null,(r.findRowIndexOf(i,l)-1)*o.rowHeight);let t=0;m=s[d],a=m?m.height:0;for(let e=0;e<i.length;e++){var h=i[e],f=Tr(r,h);if(h===l||f===d)break;h=s[f];t+=h?h.height:0}return t<c?r.scrollTo(null,t-u-1):r.scrollTo(null,t+a-(e-p-1))}}return Promise.resolve()}function Gr(o,n,t){var{reactData:a,internalData:i}=o,s=o.getRefMaps()["refTableBody"],{columnStore:a,scrollXLoad:c}=a,d=i["visibleColumn"],{leftList:i,rightList:a}=a,s=s.value,s=s?s.$el:null;if(!n.fixed){let r=0,l=(i.forEach(e=>{r+=e.renderWidth}),0);if(a.forEach(e=>{l+=e.renderWidth}),s){i=s.clientWidth,a=s.scrollLeft;let e=null;if(t&&(t=Tr(o,t),e=s.querySelector(`[rowid="${t}"] .`+n.id)),e=e||s.querySelector("."+n.id)){t=e.offsetParent,s=e.offsetLeft+(t?t.offsetLeft:0),t=e.clientWidth;if(s<a+r)return o.scrollTo(s-r-1);if(s+t-a>i-l)return o.scrollTo(s+t-(i-l-1))}else if(c){let t=0;s=n.renderWidth;for(let e=0;e<d.length;e++){var u=d[e];if(u===n||u.id===n.id)break;t+=u.renderWidth}return t<a?o.scrollTo(t-r-1):o.scrollTo(t+s-(i-l-1))}}}return Promise.resolve()}function Q(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function J(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function ee(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function kr(e){return hr().isArray(e)?e:[e]}const{getI18n:Kt,getIcon:E,renderer:Yt,formats:Gt,renderEmptyElement:Zt}=mr.VxeUI;function b(e,t){var{$table:r,column:l,level:o}=e,l=l["dragSort"],{treeConfig:n,dragConfig:a}=r.props,{computeRowOpts:r,computeRowDragOpts:i}=r.getComputeMaps(),r=r.value,{showIcon:i,visibleMethod:s}=i.value,s=s||(a?a.rowVisibleMethod:null),t=hr().isArray(t)?t:[t];return!(l&&r.drag&&(i||a&&a.showRowIcon))||s&&!s(e)||n&&o||t.unshift(function(t){const r=t["$table"];var e=r.props["dragConfig"],{icon:l,disabledMethod:o}=(l=r.getComputeMaps()["computeRowDragOpts"]).value;const n=(o=o||(e?e.rowDisabledMethod:null))&&o(t);return(0,gr.h)("span",{key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":n}],onMousedown(e){n||r.handleCellDragMousedownEvent(e,t)},onMouseup:r.handleCellDragMouseupEvent},[(0,gr.h)("i",{class:l||(e?e.rowIcon:"")||E().TABLE_DRAG_ROW})])}(e)),t}function te(e,t){return[function(t){const{$table:r,column:e}=t,l=e.titlePrefix||e.titleHelp;return l?(0,gr.h)("i",{class:["vxe-cell-title-prefix-icon",l.icon||E().TABLE_TITLE_PREFIX],onMouseenter(e){r.triggerHeaderTitleEvent(e,l,t)},onMouseleave(e){r.handleTargetLeaveEvent(e)}}):Zt(r)}(e),function(t){const{$table:r,column:e}=t;var{computeColumnOpts:l,computeColumnDragOpts:o}=r.getComputeMaps(),l=l.value,{showIcon:o,icon:n,visibleMethod:a,disabledMethod:i}=o.value;const s=i&&i(t);return!l.drag||!o||a&&!a(t)||e.fixed||e.parentId?Zt(r):(0,gr.h)("span",{key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":s}],onMousedown(e){s||r.handleHeaderCellDragMousedownEvent(e,t)},onMouseup:r.handleHeaderCellDragMouseupEvent},[(0,gr.h)("i",{class:n||E().TABLE_DRAG_COLUMN})])}(e),...hr().isArray(t)?t:[t],function(t){const{$table:r,column:e}=t,l=e.titleSuffix;return l?(0,gr.h)("i",{class:["vxe-cell-title-suffix-icon",l.icon||E().TABLE_TITLE_SUFFIX],onMouseenter(e){r.triggerHeaderTitleEvent(e,l,t)},onMouseleave(e){r.handleTargetLeaveEvent(e)}}):Zt(r)}(e)]}function re(t,e){const{$table:r,column:l}=t,{props:o,reactData:n}=r;var a=r.getComputeMaps()["computeTooltipOpts"],i=o["showHeaderOverflow"],{type:s,showHeaderOverflow:c}=l;const d=a.value.showAll;a=hr().isUndefined(c)||hr().isNull(c)?i:c;const u="title"===a,p=!0===a||"tooltip"===a;i={};return(u||p||d)&&(i.onMouseenter=e=>{n._isResize||(u?De(e.currentTarget,l):(p||d)&&r.triggerHeaderTooltipEvent(e,t))}),(p||d)&&(i.onMouseleave=e=>{n._isResize||(p||d)&&r.handleTargetLeaveEvent(e)}),["html"===s&&hr().isString(e)?(0,gr.h)("span",{class:"vxe-cell--title",innerHTML:e,...i}):(0,gr.h)("span",{class:"vxe-cell--title",...i},kr(e))]}function le(e,t){var r,l;return hr().isFunction(e)?e(t):(l=(l=(r=hr().isArray(e))?Gt.get(e[0]):Gt.get(e))?l.tableFooterCellFormatMethod:null)?r?l(t,...e.slice(1)):l(t):""}function oe(e){var{$table:e,row:t,column:r}=e;return vr(e.getCellLabel(t,r),1)}const m={createColumn(e,t){var{type:r,sortable:l,filters:o,editRender:n,treeNode:a}=t,i=e["props"],s=i["editConfig"],{computeEditOpts:i,computeCheckboxOpts:c}=e.getComputeMaps(),d=c.value,u=i.value,p={renderHeader:m.renderDefaultHeader,renderCell:a?m.renderTreeCell:m.renderDefaultCell,renderFooter:m.renderDefaultFooter};switch(r){case"seq":p.renderHeader=m.renderSeqHeader,p.renderCell=a?m.renderTreeIndexCell:m.renderSeqCell;break;case"radio":p.renderHeader=m.renderRadioHeader,p.renderCell=a?m.renderTreeRadioCell:m.renderRadioCell;break;case"checkbox":p.renderHeader=m.renderCheckboxHeader,p.renderCell=d.checkField?a?m.renderTreeSelectionCellByProp:m.renderCheckboxCellByProp:a?m.renderTreeSelectionCell:m.renderCheckboxCell;break;case"expand":p.renderCell=m.renderExpandCell,p.renderData=m.renderExpandData;break;case"html":p.renderCell=a?m.renderTreeHTMLCell:m.renderHTMLCell,o&&l?p.renderHeader=m.renderSortAndFilterHeader:l?p.renderHeader=m.renderSortHeader:o&&(p.renderHeader=m.renderFilterHeader);break;default:s&&n?(p.renderHeader=m.renderEditHeader,p.renderCell="cell"===u.mode?a?m.renderTreeCellEdit:m.renderCellEdit:a?m.renderTreeRowEdit:m.renderRowEdit):o&&l?p.renderHeader=m.renderSortAndFilterHeader:l?p.renderHeader=m.renderSortHeader:o&&(p.renderHeader=m.renderFilterHeader)}return c=e,i=p,K(r=t)?r:(0,gr.reactive)(new Ut(c,r,i))},renderHeaderTitle(e){var{$table:t,column:r}=e,{slots:l,editRender:o,cellRender:n}=r,o=o||n,n=l?l.header:null;if(n)return re(e,t.callSlot(n,e));if(o){l=Yt.get(o.name);if(l){t=l.renderTableHeader||l.renderHeader;if(t)return re(e,kr(t(o,e)))}}return re(e,vr(r.getTitle(),1))},renderDefaultHeader(e){return te(e,m.renderHeaderTitle(e))},renderDefaultCell(e){var{$table:t,row:r,column:l}=e,{slots:o,editRender:n,cellRender:a}=l,a=n||a,o=o?o.default:null;if(o)return b(e,t.callSlot(o,e));if(a){o=Yt.get(a.name);if(o){var i=o.renderTableCell||o.renderCell,o=o.renderTableDefault||o.renderDefault,i=n?i:o;if(i)return b(e,kr(i(a,Object.assign({$type:n?"edit":"cell"},e))))}}o=t.getCellLabel(r,l),i=n?n.placeholder:"";return b(e,[(0,gr.h)("span",{class:"vxe-cell--label"},[n&&Hr(o)?(0,gr.h)("span",{class:"vxe-cell--placeholder"},vr(Nr(i),1)):(0,gr.h)("span",vr(o,1))])])},renderTreeCell(e){return m.renderTreeIcon(e,m.renderDefaultCell(e))},renderDefaultFooter(e){return[(0,gr.h)("span",{class:"vxe-cell--item"},function(e){var{$table:t,column:r,_columnIndex:l,items:o,row:n}=e,{slots:a,editRender:i,cellRender:s,footerFormatter:c}=r,i=i||s;if(s=a?a.footer:null)return t.callSlot(s,e);if(i){a=Yt.get(i.name);if(a){t=a.renderTableFooter||a.renderFooter;if(t)return kr(t(i,e))}}let d="";return hr().isArray(o)?d=o[l]:d=hr().get(n,r.field),[c?le(c,{itemValue:d,column:r,row:n,items:o,_columnIndex:l}):vr(d,1)]}(e))]},renderTreeIcon(t,e){const{$table:r,isHidden:l}=t;var{reactData:o,internalData:n}=r,a=r.getComputeMaps()["computeTreeOpts"],{treeExpandedMaps:o,treeExpandLazyLoadedMaps:i}=o,n=n["fullAllDataRowIdData"],a=a.value,{row:s,column:c,level:d}=t,c=c["slots"],{indent:u,lazy:p,trigger:m,iconLoaded:h,showIcon:f,iconOpen:v,iconClose:g}=a,x=a.children||a.childrenField,a=a.hasChild||a.hasChildField,x=s[x],x=x&&x.length,c=c?c.icon:null;let b=!1,C=!1,w=!1,y=!1;var T={};return c?r.callSlot(c,t):(l||(c=Tr(r,s),C=!!o[c],p&&(o=n[c],w=!!i[c],b=s[a],y=!!o.treeLoaded)),m&&"default"!==m||(T.onClick=e=>{r.triggerTreeExpandEvent(e,t)}),[(0,gr.h)("div",{class:["vxe-cell--tree-node",{"is--active":C}],style:{paddingLeft:d*u+"px"}},[f&&(!p||y?x:b)?[(0,gr.h)("div",{class:"vxe-tree--btn-wrapper",...T},[(0,gr.h)("i",{class:["vxe-tree--node-btn",w?h||E().TABLE_TREE_LOADED:C?v||E().TABLE_TREE_OPEN:g||E().TABLE_TREE_CLOSE]})])]:null,(0,gr.h)("div",{class:"vxe-tree-cell"},e)])])},renderSeqHeader(e){var{$table:t,column:r}=e,l=r["slots"],l=l?l.header:null;return te(e,re(e,l?t.callSlot(l,e):vr(r.getTitle(),1)))},renderSeqCell(e){var{$table:t,column:r}=e,l=t["props"],l=l["treeConfig"],o=t.getComputeMaps()["computeSeqOpts"],o=o.value,r=r["slots"],r=r?r.default:null;return r?b(e,t.callSlot(r,e)):(t=e["seq"],r=o.seqMethod,b(e,[(0,gr.h)("span",""+vr(r?r(e):l?t:(o.startIndex||0)+t,1))]))},renderTreeIndexCell(e){return m.renderTreeIcon(e,m.renderSeqCell(e))},renderRadioHeader(e){var{$table:t,column:r}=e,l=r["slots"],o=l?l.header:null,l=l?l.title:null;return te(e,re(e,o?t.callSlot(o,e):[(0,gr.h)("span",{class:"vxe-radio--label"},l?t.callSlot(l,e):vr(r.getTitle(),1))]))},renderRadioCell(t){const{$table:r,column:e,isHidden:l}=t;var o=r["reactData"],n=r.getComputeMaps()["computeRadioOpts"],o=o["selectRadioRow"],a=e["slots"],{labelField:n,checkMethod:i,visibleMethod:s}=n.value,c=t["row"],d=a?a.default:null,a=a?a.radio:null,o=r.eqRow(c,o);const u=!s||s({row:c});let p=!!i,m;l||(m={onClick(e){!p&&u&&r.triggerRadioRowEvent(e,t)}},i&&(p=!i({row:c})));s={...t,checked:o,disabled:p,visible:u};return a?b(t,r.callSlot(a,s)):(i=[],u&&i.push((0,gr.h)("span",{class:["vxe-radio--icon",o?E().TABLE_RADIO_CHECKED:E().TABLE_RADIO_UNCHECKED]})),(d||n)&&i.push((0,gr.h)("span",{class:"vxe-radio--label"},d?r.callSlot(d,s):hr().get(c,n))),b(t,[(0,gr.h)("span",{class:["vxe-cell--radio",{"is--checked":o,"is--disabled":p}],...m},i)]))},renderTreeRadioCell(e){return m.renderTreeIcon(e,m.renderRadioCell(e))},renderCheckboxHeader(e){const{$table:t,column:r,isHidden:l}=e;var o=t["reactData"],{computeIsAllCheckboxDisabled:n,computeCheckboxOpts:a}=t.getComputeMaps();const{isAllSelected:i,isIndeterminate:s}=o,c=n.value;var o=r["slots"],n=o?o.header:null,o=o?o.title:null,a=a.value,d=r.getTitle();let u;l||(u={onClick(e){c||t.triggerCheckAllEvent(e,!i)}});var p={...e,checked:i,disabled:c,indeterminate:s};return n?te(e,re(p,t.callSlot(n,p))):(a.checkStrictly?a.showHeader:!1!==a.showHeader)?te(e,re(p,[(0,gr.h)("span",{class:["vxe-cell--checkbox",{"is--checked":i,"is--disabled":c,"is--indeterminate":s}],title:Kt("vxe.table.allTitle"),...u},[(0,gr.h)("span",{class:["vxe-checkbox--icon",s?E().TABLE_CHECKBOX_INDETERMINATE:i?E().TABLE_CHECKBOX_CHECKED:E().TABLE_CHECKBOX_UNCHECKED]})].concat(o||d?[(0,gr.h)("span",{class:"vxe-checkbox--label"},o?t.callSlot(o,p):d)]:[]))])):te(e,re(p,[(0,gr.h)("span",{class:"vxe-checkbox--label"},o?t.callSlot(o,p):d)]))},renderCheckboxCell(t){const{$table:r,row:e,column:l,isHidden:o}=t;var{props:n,reactData:a}=r,n=n["treeConfig"],{selectCheckboxMaps:a,treeIndeterminateMaps:i}=a,s=r.getComputeMaps()["computeCheckboxOpts"],{labelField:s,checkMethod:c,visibleMethod:d}=s.value,u=l["slots"],p=u?u.default:null,u=u?u.checkbox:null;let m=!1,h=!1;const f=!d||d({row:e});let v=!!c,g;o||(d=Tr(r,e),h=!!a[d],g={onClick(e){!v&&f&&r.triggerCheckRowEvent(e,t,!h)}},c&&(v=!c({row:e})),n&&(m=!!i[d]));a={...t,checked:h,disabled:v,visible:f,indeterminate:m};return u?b(t,r.callSlot(u,a)):(c=[],f&&c.push((0,gr.h)("span",{class:["vxe-checkbox--icon",m?E().TABLE_CHECKBOX_INDETERMINATE:h?E().TABLE_CHECKBOX_CHECKED:E().TABLE_CHECKBOX_UNCHECKED]})),(p||s)&&c.push((0,gr.h)("span",{class:"vxe-checkbox--label"},p?r.callSlot(p,a):hr().get(e,s))),b(t,[(0,gr.h)("span",{class:["vxe-cell--checkbox",{"is--checked":h,"is--disabled":v,"is--indeterminate":m,"is--hidden":!f}],...g},c)]))},renderTreeSelectionCell(e){return m.renderTreeIcon(e,m.renderCheckboxCell(e))},renderCheckboxCellByProp(t){const{$table:r,row:e,column:l,isHidden:o}=t;var{props:n,reactData:a}=r,n=n["treeConfig"],a=a["treeIndeterminateMaps"],i=r.getComputeMaps()["computeCheckboxOpts"],i=i.value,{labelField:s,checkField:c,checkMethod:d,visibleMethod:u}=i,i=i.indeterminateField||i.halfField,p=l["slots"],m=p?p.default:null,p=p?p.checkbox:null;let h=!1,f=!1;const v=!u||u({row:e});let g=!!d,x;o||(u=Tr(r,e),f=hr().get(e,c),x={onClick(e){!g&&v&&r.triggerCheckRowEvent(e,t,!f)}},d&&(g=!d({row:e})),n&&(h=!!a[u]));c={...t,checked:f,disabled:g,visible:v,indeterminate:h};return p?b(t,r.callSlot(p,c)):(d=[],v&&(d.push((0,gr.h)("span",{class:["vxe-checkbox--icon",h?E().TABLE_CHECKBOX_INDETERMINATE:f?E().TABLE_CHECKBOX_CHECKED:E().TABLE_CHECKBOX_UNCHECKED]})),m||s)&&d.push((0,gr.h)("span",{class:"vxe-checkbox--label"},m?r.callSlot(m,c):hr().get(e,s))),b(t,[(0,gr.h)("span",{class:["vxe-cell--checkbox",{"is--checked":f,"is--disabled":g,"is--indeterminate":i&&!f?e[i]:h,"is--hidden":!v}],...x},d)]))},renderTreeSelectionCellByProp(e){return m.renderTreeIcon(e,m.renderCheckboxCellByProp(e))},renderExpandCell(t){const{$table:r,isHidden:e,row:l,column:o}=t;var n=r["reactData"],{rowExpandedMaps:n,rowExpandLazyLoadedMaps:a}=n,i=r.getComputeMaps()["computeExpandOpts"],{lazy:i,labelField:s,iconLoaded:c,showIcon:d,iconOpen:u,iconClose:p,visibleMethod:m}=i.value,h=o["slots"],f=h?h.default:null,h=h?h.icon:null;let v=!1,g=!1;return h?b(t,r.callSlot(h,t)):(e||(h=Tr(r,l),v=!!n[h],i&&(g=!!a[h])),b(t,[!d||m&&!m(t)?Zt(r):(0,gr.h)("span",{class:["vxe-table--expanded",{"is--active":v}],onClick(e){r.triggerRowExpandEvent(e,t)}},[(0,gr.h)("i",{class:["vxe-table--expand-btn",g?c||E().TABLE_EXPAND_LOADED:v?u||E().TABLE_EXPAND_OPEN:p||E().TABLE_EXPAND_CLOSE]})]),f||s?(0,gr.h)("span",{class:"vxe-table--expand-label"},f?r.callSlot(f,t):hr().get(l,s)):Zt(r)]))},renderExpandData(e){var{$table:t,column:r}=e,{slots:r,contentRender:l}=r,r=r?r.content:null;if(r)return t.callSlot(r,e);if(l){t=Yt.get(l.name);if(t){r=t.renderTableExpand||t.renderExpand;if(r)return kr(r(l,e))}}return[]},renderHTMLCell(e){var{$table:t,column:r}=e,r=r["slots"],r=r?r.default:null;return b(e,r?t.callSlot(r,e):[(0,gr.h)("span",{class:"vxe-cell--html",innerHTML:oe(e)})])},renderTreeHTMLCell(e){return m.renderTreeIcon(e,m.renderHTMLCell(e))},renderSortAndFilterHeader(e){return te(e,m.renderHeaderTitle(e).concat(m.renderSortIcon(e).concat(m.renderFilterIcon(e))))},renderSortHeader(e){return te(e,m.renderHeaderTitle(e).concat(m.renderSortIcon(e)))},renderSortIcon(e){const{$table:t,column:r}=e;var e=t.getComputeMaps()["computeSortOpts"],{showIcon:e,iconLayout:l,iconAsc:o,iconDesc:n}=e.value,a=r["order"];return e?[(0,gr.h)("span",{class:["vxe-cell--sort",`vxe-cell--sort-${l}-layout`]},[(0,gr.h)("i",{class:["vxe-sort--asc-btn",o||E().TABLE_SORT_ASC,{"sort--active":"asc"===a}],title:Kt("vxe.table.sortAsc"),onClick(e){e.stopPropagation(),t.triggerSortEvent(e,r,"asc")}}),(0,gr.h)("i",{class:["vxe-sort--desc-btn",n||E().TABLE_SORT_DESC,{"sort--active":"desc"===a}],title:Kt("vxe.table.sortDesc"),onClick(e){e.stopPropagation(),t.triggerSortEvent(e,r,"desc")}})])]:[]},renderFilterHeader(e){return te(e,m.renderHeaderTitle(e).concat(m.renderFilterIcon(e)))},renderFilterIcon(t){const{$table:r,column:e,hasFilter:l}=t;var o=r["reactData"],o=o["filterStore"],n=r.getComputeMaps()["computeFilterOpts"],{showIcon:n,iconNone:a,iconMatch:i}=n.value;return n?[(0,gr.h)("span",{class:["vxe-cell--filter",{"is--active":o.visible&&o.column===e}]},[(0,gr.h)("i",{class:["vxe-filter--btn",l?i||E().TABLE_FILTER_MATCH:a||E().TABLE_FILTER_NONE],title:Kt("vxe.table.filter"),onClick(e){r.triggerFilterEvent&&r.triggerFilterEvent(e,t.column,t)}})])]:[]},renderEditHeader(e){var{$table:t,column:r}=e,l=t["props"],o=t.getComputeMaps()["computeEditOpts"],{editConfig:l,editRules:n}=l,o=o.value,{sortable:a,filters:i,editRender:s}=r;let c=!1,d=(n&&(n=hr().get(n,r.field))&&(c=n.some(e=>e.required)),[]);return te(e,(d=fr(l)?[c&&o.showAsterisk?(0,gr.h)("i",{class:"vxe-cell--required-icon"}):Zt(t),fr(s)&&o.showIcon?(0,gr.h)("i",{class:["vxe-cell--edit-icon",o.icon||E().TABLE_EDIT]}):Zt(t)]:d).concat(m.renderHeaderTitle(e)).concat(a?m.renderSortIcon(e):[]).concat(i?m.renderFilterIcon(e):[]))},renderRowEdit(e){var{$table:t,column:r}=e,t=t["reactData"],t=t["editStore"],t=t["actived"],r=r["editRender"];return m.runRenderer(e,fr(r)&&t&&t.row===e.row)},renderTreeRowEdit(e){return m.renderTreeIcon(e,m.renderRowEdit(e))},renderCellEdit(e){var{$table:t,column:r}=e,t=t["reactData"],t=t["editStore"],t=t["actived"],r=r["editRender"];return m.runRenderer(e,fr(r)&&t&&t.row===e.row&&t.column===e.column)},renderTreeCellEdit(e){return m.renderTreeIcon(e,m.renderCellEdit(e))},runRenderer(e,t){var{$table:r,column:l}=e,{slots:l,editRender:o,formatter:n}=l,a=l?l.default:null,l=l?l.edit:null,i=Yt.get(o.name),i=i?i.renderTableEdit||i.renderEdit:null,s=Object.assign({$type:"",isEdit:t},e);return t?(s.$type="edit",l?r.callSlot(l,s):i?kr(i(o,s)):[]):a?b(e,r.callSlot(a,s)):n?b(e,[(0,gr.h)("span",{class:"vxe-cell--label"},oe(s))]):m.renderDefaultCell(s)}};var Zr=m,e={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],footerFormatter:[Function,Array,String],sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,treeNode:Boolean,dragSort:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,params:Object},ne=(0,gr.defineComponent)({name:"VxeColumn",props:e,setup(e,{slots:t}){const r=(0,gr.ref)(),l=(0,gr.inject)("$xeTable",null),o=(0,gr.inject)("$xeColgroup",null);if(!l)return()=>(0,gr.createCommentVNode)();const n=Zr.createColumn(l,e);n.slots=t;var t=()=>(0,gr.h)("div",{ref:r}),a={columnConfig:n,renderVN:t};return Y(l,e,n),(0,gr.onMounted)(()=>{var e=r.value;e&&G(l,e,n,o)}),(0,gr.onUnmounted)(()=>{Z(l,n)}),(0,gr.provide)("$xeColumn",a),(0,gr.provide)("$xeGrid",null),t}});const Qt=Object.assign({},ne,{install(e){e.component(ne.name,ne),e.component("VxeTableColumn",ne)}}),Jt=(mr.VxeUI.dynamicApp&&(mr.VxeUI.dynamicApp.component(ne.name,ne),mr.VxeUI.dynamicApp.component("VxeTableColumn",ne)),mr.VxeUI.component(ne),Qt);var ae=(0,gr.defineComponent)({name:"VxeColgroup",props:e,setup(e,{slots:t}){const r=(0,gr.ref)(),l=(0,gr.inject)("$xeTable",null),o=(0,gr.inject)("$xeColgroup",null);if(!l)return()=>(0,gr.createCommentVNode)();const n=Zr.createColumn(l,e);var a={},a=(t.header&&(a.header=t.header),n.slots=a,n.children=[],Y(l,e,n),(0,gr.onMounted)(()=>{var e=r.value;e&&G(l,e,n,o)}),(0,gr.onUnmounted)(()=>{Z(l,n)}),{columnConfig:n});return(0,gr.provide)("$xeColgroup",a),(0,gr.provide)("$xeGrid",null),()=>(0,gr.h)("div",{ref:r},t.default?t.default():[])}});const er=Object.assign({},ae,{install(e){e.component(ae.name,ae),e.component("VxeTableColgroup",ae)}}),tr=(mr.VxeUI.dynamicApp&&(mr.VxeUI.dynamicApp.component(ae.name,ae),mr.VxeUI.dynamicApp.component("VxeTableColgroup",ae)),mr.VxeUI.component(ae),er),{getI18n:rr,renderer:lr,renderEmptyElement:or}=mr.VxeUI,nr="body",ar={mini:3,small:2,medium:1};var Qr=(0,gr.defineComponent)({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:""}},setup(w){const me=(0,gr.inject)("$xeTable",{}),t=(0,gr.inject)("xesize",null),{xID:y,props:he,context:T,reactData:fe,internalData:ve}=me,{refTableBody:g,refTableHeader:m,refTableFooter:h,refTableLeftBody:x,refTableRightBody:b,refScrollXHandleElem:v,refScrollYHandleElem:L}=me.getRefMaps(),{computeEditOpts:ge,computeMouseOpts:xe,computeAreaOpts:Ee,computeSYOpts:be,computeEmptyOpts:$,computeKeyboardOpts:_,computeTooltipOpts:Re,computeRadioOpts:e,computeExpandOpts:Y,computeTreeOpts:u,computeCheckboxOpts:Ce,computeCellOpts:Se,computeValidOpts:ke,computeRowOpts:we,computeColumnOpts:ye}=me.getComputeMaps(),E=(0,gr.ref)(),R=(0,gr.ref)(),S=(0,gr.ref)(),k=(0,gr.ref)(),M=(0,gr.ref)(),I=(0,gr.ref)(),F=(0,gr.ref)(),p=()=>{if(t){var e=t.value;if(e)return ar[e]||0}return 0},Te=()=>{var e=he["delayHover"],{lastScrollTime:t,_isResize:r}=fe;return!!(r||t&&Date.now()<t+e)},f=(e,t)=>{let r=1;if(e){var l=u.value,o=e[l.children||l.childrenField];if(o&&me.isTreeExpandByRow(e))for(let e=0;e<o.length;e++)r+=f(o[e],t)}return r},Me=e=>{var{row:t,column:r}=e,l=ve["afterFullData"],o=he["treeConfig"],n=u.value,{slots:r,treeNode:a}=r,i=ve["fullAllDataRowIdData"],i=i[Tr(me,t)];let s=0,c=0,d=[];return i&&(s=i.level,c=i._index,d=i.items),r&&r.line?me.callSlot(r.line,e):(i=me.eqRow(l[0],t),o&&a&&(n.showLine||n.line)?[(0,gr.h)("div",{class:"vxe-tree--line-wrapper"},[(0,gr.h)("div",{class:"vxe-tree--line",style:{height:`${i?1:((e,t,r)=>{let l=1;return r&&(l=f(t[r-1],e)),fe.rowHeight*l-(r?1:12-p())})(e,d,c)}px`,left:s*n.indent+(s?2-p():0)+16+"px"}})])]:[])},G=(e,t,r,l,o,n,a,$,i,s,_,N)=>{var H=ve["fullAllDataRowIdData"],{columnKey:P,height:c,showOverflow:B,cellClassName:j,cellStyle:d,align:U,spanMethod:z,mouseConfig:W,editConfig:q,editRules:u,tooltipConfig:X}=he,{tableData:K,overflowX:p,currentColumn:Y,scrollXLoad:G,scrollYLoad:Z,mergeList:m,editStore:h,isAllOverflow:Q,validErrorMaps:f}=fe,J=ve["afterFullData"],v=Se.value,g=ke.value,ee=Ce.value,x=ge.value,b=Re.value,te=we.value,C=be.value,re=ye.value,le=xe.value,w=Ee.value["selectCellToRow"],{type:oe,cellRender:ne,editRender:y,align:T,showOverflow:E,className:ae,treeNode:ie,slots:se}=i,v=v["verticalAlign"],h=h["actived"],C=C["rHeight"],R=te["height"],S=i.id,k=y||ne,k=k?lr.get(k.name):null,ce=k?k.tableCellClassName||k.cellClassName:null,M=k?k.tableCellStyle||k.cellStyle:"";const I=b.showAll;var b=me.getColumnIndex(i),de=me.getVTColumnIndex(i),ue=fr(y);let F=r?i.fixed!==r:i.fixed&&p;p=hr().isUndefined(E)||hr().isNull(E)?B:E,E="ellipsis"===p;const D="title"===p,O=!0===p||"tooltip"===p;p=D||O||E;let pe;var A={},H=H[t],T=T||(k?k.tableCellAlign:"")||U,k=f[t+":"+S],U=u&&g.showMessage&&("default"===g.message?c||1<K.length:"inline"===g.message),f={colid:S};const V={$table:me,$grid:me.xegrid,isEdit:!1,seq:e,rowid:t,row:o,rowIndex:n,$rowIndex:a,_rowIndex:$,column:i,columnIndex:b,$columnIndex:s,_columnIndex:de,fixed:r,type:nr,isHidden:F,level:l,visibleData:J,data:K,items:N};if((D||O||I||X)&&(A.onMouseenter=e=>{Te()||(D?De(e.currentTarget,i):(O||I)&&me.triggerBodyTooltipEvent(e,V),me.dispatchEvent("cell-mouseenter",Object.assign({cell:e.currentTarget},V),e))}),(O||I||X)&&(A.onMouseleave=e=>{Te()||((O||I)&&me.handleTargetLeaveEvent(e),me.dispatchEvent("cell-mouseleave",Object.assign({cell:e.currentTarget},V),e))}),(ee.range||W)&&(A.onMousedown=e=>{me.triggerCellMousedownEvent(e,V)}),A.onClick=e=>{me.triggerCellClickEvent(e,V)},A.onDblclick=e=>{me.triggerCellDblclickEvent(e,V)},m.length){u=Oe(m,$,de);if(u){var{rowspan:c,colspan:e}=u;if(!c||!e)return null;1<c&&(f.rowspan=c),1<e&&(f.colspan=e)}}else if(z){var{rowspan:t=1,colspan:n=1}=z(V)||{};if(!t||!n)return null;1<t&&(f.rowspan=t),1<n&&(f.colspan=n)}!(F=F&&m&&(1<f.colspan||1<f.rowspan)?!1:F)&&q&&(y||ne)&&(x.showStatus||x.showUpdateStatus)&&(pe=me.isUpdateByRow(o,i.field));a=[];F&&B&&Q?a.push((0,gr.h)("div",{class:["vxe-cell",{"c--title":D,"c--tooltip":O,"c--ellipsis":E}],style:{maxHeight:p&&(C||R)?`${C||R}px`:""}})):(a.push(...Me(V),(0,gr.h)("div",{class:["vxe-cell",{"c--title":D,"c--tooltip":O,"c--ellipsis":E}],style:{maxHeight:p&&(C||R)?`${C||R}px`:""},title:D?me.getCellLabel(o,i):null},i.renderCell(V))),U&&k&&(b=k.rule,r=se?se.valid:null,l={...V,...k,rule:k},a.push((0,gr.h)("div",{class:["vxe-cell--valid-error-tip",Fe(g.className,l)],style:b&&b.maxWidth?{width:b.maxWidth+"px"}:null},[(0,gr.h)("div",{class:"vxe-cell--valid-error-wrapper vxe-cell--valid-error-theme-"+(g.theme||"normal")},[r?me.callSlot(r,l):[(0,gr.h)("span",{class:"vxe-cell--valid-error-msg"},k.content)]])]))));let L="";return p&&(C||R)?L=`${C||R}px`:!G&&!Z||p||(L=`${H.height||24}px`),W&&le.area&&w&&((s||!0!==w)&&w!==i.field||a.push((0,gr.h)("div",{class:"vxe-cell--area-status"}))),(0,gr.h)("td",{class:["vxe-body--column",S,{["col--"+T]:T,["col--vertical-"+v]:v,["col--"+oe]:oe,"col--last":s===_.length-1,"col--tree-node":ie,"col--edit":ue,"col--ellipsis":p,"fixed--hidden":F,"col--dirty":pe,"col--active":q&&ue&&h.row===o&&(h.column===i||"row"===x.mode),"col--valid-error":!!k,"col--current":Y===i},Fe(ce,V),Fe(ae,V),Fe(j,V)],key:P||re.useKey||te.useKey||re.drag?S:s,...f,style:Object.assign({height:L},hr().isFunction(M)?M(V):M,hr().isFunction(d)?d(V):d),...A},a)},K=(g,x,b)=>{const{stripe:C,rowKey:w,highlightHoverRow:y,rowClassName:T,rowStyle:E,showOverflow:R,editConfig:S,treeConfig:k}=he,{hasFixedColumn:M,treeExpandedMaps:I,scrollYLoad:F,rowExpandedMaps:D,expandColumn:O,selectRadioRow:A,pendingRowMaps:V,pendingRowList:L,isDragColMove:$}=fe,_=ve["fullAllDataRowIdData"],N=Ce.value,H=e.value,P=u.value,B=ge.value,j=we.value,U=ye.value,{transform:z,seqMode:W}=P,q=P.children||P.childrenField,X=[];return x.forEach((r,l)=>{var e={};let o;o=me.getRowIndex(r),(j.isHover||y)&&(e.onMouseenter=e=>{Te()||me.triggerHoverEvent(e,{row:r,rowIndex:o})},e.onMouseleave=()=>{Te()||me.clearHoverRow()});const n=Tr(me,r);var t=_[n];let a=0,i=-1,s=0;t&&(a=t.level,i=k&&z&&"increasing"===W?t._index+1:t.seq,s=t._index);var t={$table:me,seq:i,rowid:n,fixed:g,type:nr,level:a,row:r,rowIndex:o,$rowIndex:l,_rowIndex:s},c=O&&!!D[n];let d=!1,u=[],p=!1;S&&(p=me.isInsertByRow(r)),!k||F||z||(u=r[q],d=u&&0<u.length&&!!I[n]),j.drag&&!a&&(e.onDragstart=me.handleRowDragDragstartEvent,e.onDragend=me.handleRowDragDragendEvent,e.onDragover=me.handleRowDragDragoverEvent);var m,h,f=["vxe-body--row",k?"row--level-"+a:"",{"row--stripe":C&&(s+1)%2==0,"is--new":p,"is--expand-row":c,"is--expand-tree":d,"row--new":p&&(B.showStatus||B.showInsertStatus),"row--radio":H.highlight&&me.eqRow(A,r),"row--checked":N.highlight&&me.isCheckedByCheckboxRow(r),"row--pending":L.length&&!!V[n]},Fe(T,t)];const v=b.map((e,t)=>G(i,n,g,a,r,o,l,s,e,t,b,x));X.push(U.drag?(0,gr.h)(gr.TransitionGroup,{name:"vxe-header--col-list"+($?"":"-disabled"),tag:"tr",class:f,rowid:n,style:E?hr().isFunction(E)?E(t):E:null,key:w||j.useKey||j.drag||k?n:l,...e},{default:()=>v}):(0,gr.h)("tr",{class:f,rowid:n,style:E?hr().isFunction(E)?E(t):E:null,key:w||j.useKey||j.drag||k?n:l,...e},v)),c&&({height:f,padding:t}=Y.value,c={},m=(f&&(c.height=f+"px"),k&&(c.paddingLeft=a*P.indent+30+"px"),O)["showOverflow"],m=hr().isUndefined(m)||hr().isNull(m)?R:m,h={$table:me,seq:i,column:O,fixed:g,type:nr,level:a,row:r,rowIndex:o,$rowIndex:l,_rowIndex:s},X.push((0,gr.h)("tr",{class:["vxe-body--expanded-row",{"is--padding":t}],key:"expand_"+n,style:E?hr().isFunction(E)?E(h):E:null,...e},[(0,gr.h)("td",{class:{"vxe-body--expanded-column":1,"fixed--hidden":g&&!M,"col--ellipsis":m},colspan:b.length},[(0,gr.h)("div",{class:{"vxe-body--expanded-cell":1,"is--ellipsis":f},style:c},[O.renderData(h)])])]))),d&&X.push(...K(g,u,b))}),X},N=e=>{var t,r,l,o,n,a=w["fixedType"],{lastScrollTop:i,lastScrollLeft:s,inVirtualScroll:c,inBodyScroll:d,bodyScrollType:u,inFooterScroll:p}=ve;c||p||d&&u!==a||(c=m.value,p=g.value,d=h.value,u=x.value,t=b.value,o=E.value,c=c?c.$el:null,d=d?d.$el:null,(p=p.$el)&&(u=u?u.$el:null,t=t?t.$el:null,r=v.value,l=L.value,o=o.scrollTop,s=(n=p.scrollLeft)!==s,i=o!==i,ve.inBodyScroll=!0,ve.bodyScrollType=a,i&&(u&&"left"===a?(Cr(p,o),Cr(t,o)):t&&"right"===a?(Cr(p,o),Cr(u,o)):(Cr(u,o),Cr(t,o)),Cr(l,o),me.triggerScrollYEvent(e)),s&&(wr(r,n),wr(c,n),wr(d,n),me.triggerScrollXEvent(e)),me.handleScrollEvent(e,i,s,o,n,{type:nr,fixed:a})))};let C,D=0,O=0,A=0,V=!1;const H=(o,n,e,a,i)=>{var t=ve["elemStore"],{scrollXLoad:r,scrollYLoad:l}=fe,s=g.value,c=x.value,d=b.value;const u=c?c.$el:null,p=d?d.$el:null,m=s.$el;c=Sr(t["main-body-ySpace"]),d=Sr(t["main-body-xSpace"]);const h=(l&&c?c:m).clientHeight,f=(r&&d?d:m).clientWidth;s=V===n?Math.max(0,D-A):0;V=n,D=Math.abs(n?e-s:e+s),O=0,A=0,clearTimeout(C);const v=()=>{var e,t,r,l;A<D&&(e=w["fixedType"],{scrollTop:l,clientHeight:t,scrollHeight:r}=(O=Math.max(5,Math.floor(1.5*O)),(A+=O)>D&&(O-=A-D),m),l=l+O*(n?-1:1),m.scrollTop=l,u&&(u.scrollTop=l),p&&(p.scrollTop=l),(n?l<r-t:0<=l)&&(C=setTimeout(v,10)),me.dispatchEvent("scroll",{type:nr,fixed:e,scrollTop:m.scrollTop,scrollLeft:m.scrollLeft,scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,bodyHeight:h,bodyWidth:f,isX:a,isY:i},o))};v()},P=e=>{var{deltaY:t,deltaX:r}=e,l=he["highlightHoverRow"],o=fe["scrollYLoad"],{lastScrollTop:n,lastScrollLeft:a}=ve,i=we.value,s=g.value,c=E.value,s=s.$el,d=t<0;(d?c.scrollTop<=0:c.scrollTop>=c.scrollHeight-c.clientHeight)||(c=c.scrollTop+t,r=(s=s.scrollLeft+r)!==a,(a=c!==n)&&(e.preventDefault(),ve.lastScrollTop=c,ve.lastScrollLeft=s,fe.lastScrollTime=Date.now(),(i.isHover||l)&&me.clearHoverRow(),H(e,d,t,r,a),o)&&me.triggerScrollYEvent(e))};(0,gr.onMounted)(()=>{(0,gr.nextTick)(()=>{var e=w["fixedType"],t=ve["elemStore"],e=`${e||"main"}-body-`;t[e+"wrapper"]=E,t[e+"table"]=R,t[e+"colgroup"]=S,t[e+"list"]=k,t[e+"xSpace"]=M,t[e+"ySpace"]=I,t[e+"emptyBlock"]=F})}),(0,gr.onBeforeUnmount)(()=>{clearTimeout(C)}),(0,gr.onUnmounted)(()=>{var e=w["fixedType"],t=ve["elemStore"],e=`${e||"main"}-body-`;t[e+"wrapper"]=null,t[e+"table"]=null,t[e+"colgroup"]=null,t[e+"list"]=null,t[e+"xSpace"]=null,t[e+"ySpace"]=null,t[e+"emptyBlock"]=null});return()=>{let{fixedColumn:e,fixedType:t,tableColumn:r}=w;var{keyboardConfig:l,showOverflow:o,spanMethod:n,mouseConfig:a}=he;const{tableData:i,mergeList:s,scrollYLoad:c,isAllOverflow:d,isDragRowMove:u}=fe;var p=ve["visibleColumn"],m=T["slots"],h=we.value,f=be.value,v=$.value,g=_.value,x=xe.value,b=ye.value;t&&(r=fe.expandColumn||!(c||o&&d)||s.length||n||l&&g.isMerge?p:e);let C;o=m?m.empty:null,C=o?me.callSlot(o,{$table:me,$grid:me.xegrid}):(l=(n=v.name?lr.get(v.name):null)?n.renderTableEmpty||n.renderTableEmptyView||n.renderEmpty:null)?kr(l(v,{$table:me})):he.emptyText||rr("vxe.table.emptyText"),g={onScroll:N};return"wheel"===f.mode&&(g.onWheel=P),(0,gr.h)("div",{ref:E,class:["vxe-table--body-wrapper",t?`fixed-${t}--wrapper`:"body--wrapper"],xid:y,...g},[t?(0,gr.createCommentVNode)():(0,gr.h)("div",{ref:M,class:"vxe-body--x-space"}),(0,gr.h)("div",{ref:I,class:"vxe-body--y-space"}),(0,gr.h)("table",{ref:R,class:"vxe-table--body",xid:y,cellspacing:0,cellpadding:0,border:0},[(0,gr.h)("colgroup",{ref:S},r.map((e,t)=>(0,gr.h)("col",{name:e.id,key:t}))),h.drag||b.drag?(0,gr.h)(gr.TransitionGroup,{ref:k,name:"vxe-body--row-list"+(u?"":"-disabled"),tag:"tbody"},{default:()=>K(t,i,r)}):(0,gr.h)("tbody",{ref:k},K(t,i,r))]),(0,gr.h)("div",{class:"vxe-table--checkbox-range"}),a&&x.area?(0,gr.h)("div",{class:"vxe-table--cell-area"},[(0,gr.h)("span",{class:"vxe-table--cell-main-area"},x.extension?[(0,gr.h)("span",{class:"vxe-table--cell-main-area-btn",onMousedown(e){me.triggerCellAreaExtendMousedownEvent&&me.triggerCellAreaExtendMousedownEvent(e,{$table:me,fixed:t,type:nr})}})]:[]),(0,gr.h)("span",{class:"vxe-table--cell-copy-area"}),(0,gr.h)("span",{class:"vxe-table--cell-extend-area"}),(0,gr.h)("span",{class:"vxe-table--cell-multi-area"}),(0,gr.h)("span",{class:"vxe-table--cell-active-area"})]):or(me),t?or(me):(0,gr.h)("div",{class:"vxe-table--empty-block",ref:F},[(0,gr.h)("div",{class:"vxe-table--empty-content"},C)])])}}});const ir=mr.VxeUI["renderer"];var Jr=(0,gr.defineComponent)({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(O){const A=(0,gr.inject)("$xeTable",{}),{xID:d,props:u,reactData:V,internalData:I}=A,{refElem:F,refTableBody:D,refLeftContainer:L,refRightContainer:$,refCellResizeBar:_,refCellResizeTip:N}=A.getRefMaps(),{computeColumnOpts:p,computeResizableOpts:H}=A.getComputeMaps(),m=(0,gr.ref)([]),P=(0,gr.ref)(),h=(0,gr.ref)(),f=(0,gr.ref)(),v=(0,gr.ref)(),g=(0,gr.ref)(),x=(0,gr.ref)(),r=()=>{var e=V["isGroup"];m.value=e?(e=>{let t=1;const l=(r,e)=>{if(e&&(r.level=e.level+1,t<r.level)&&(t=r.level),r.children&&r.children.length&&r.children.some(e=>e.visible)){let t=0;r.children.forEach(e=>{e.visible&&(l(e,r),t+=e.colSpan)}),r.colSpan=t}else r.colSpan=1},r=(e.forEach(e=>{e.level=1,l(e)}),[]);for(let e=0;e<t;e++)r.push([]);return Xt(e).forEach(e=>{e.children&&e.children.length&&e.children.some(e=>e.visible)?e.rowSpan=1:e.rowSpan=t-e.level+1,r[e.level-1].push(e)}),r})(O.tableGroupColumn):[]},B=(e,r)=>{const s=r["column"],c=O["fixedType"],l=I["visibleColumn"],d=H.value;var t=D.value;const u=F.value,p=L.value,m=$.value,h=_.value,f=N.value,v=e["clientX"],g=P.value;var o=e.target;const x=r.cell=o.parentNode;let b=0;const C=t.$el;var t=U(o,g),o=o.clientWidth,n=Math.floor(o/2);const w=function(e){var{$table:t,column:r,cell:l}=e,o=t["props"];if(s=(s=t.getComputeMaps()["computeResizableOpts"]).value["minWidth"]){e=hr().isFunction(s)?s(e):s;if("auto"!==e)return Math.max(1,hr().toNumber(e))}var n,a,i,s=o["showHeaderOverflow"],{showHeaderOverflow:e,minWidth:o}=r,s="title"===(r=hr().isUndefined(e)||hr().isNull(e)?s:e)||(!0===r||"tooltip"===r)||"ellipsis"===r;let c=hr().floor(1.6*(hr().toNumber(getComputedStyle(l).fontSize)||14))+(z(l)+z(q(l,"")));if(s&&(e=z(q(l,">.vxe-cell--drag-handle")),r=z(q(l,">.vxe-cell--checkbox")),s=W(q(l,">.vxe-cell--required-icon")),d=W(q(l,">.vxe-cell--edit-icon")),n=W(q(l,">.vxe-cell-title-prefix-icon")),a=W(q(l,">.vxe-cell-title-suffix-icon")),i=W(q(l,">.vxe-cell--sort")),l=W(q(l,">.vxe-cell--filter")),c+=e+r+s+d+n+a+l+i),o){var d,e=t.getRefMaps()["refTableBody"],r=e.value,s=r?r.$el:null;if(s){if(Br(o))return d=(s.clientWidth-1)/100,Math.max(c,Math.floor(hr().toInteger(o)*d));if(Pr(o))return Math.max(c,hr().toInteger(o))}}return c}(r)-n;let y=t.left-x.clientWidth+o+w,T=t.left+n;const a=document.onmousemove,i=document.onmouseup,E="left"===c,R="right"===c;let S=0;if(E||R){var k=E?"nextElementSibling":"previousElementSibling";let e=x[k];for(;e&&!jr(e,"fixed--hidden");)jr(e,"col--group")||(S+=e.offsetWidth),e=e[k];R&&m&&(T=m.offsetLeft+S)}function M(t){t.stopPropagation(),t.preventDefault();var r=t.clientX-v;let e=T+r;if(r=c?0:C.scrollLeft,E?e=Math.min(e,(m?m.offsetLeft:C.clientWidth)-S-w):R?(y=(p?p.clientWidth:0)+S+w,e=Math.min(e,T+x.clientWidth-w)):y=Math.max(C.scrollLeft,y),r=(b=Math.max(e,y))-r,h.style.left=r+"px",d.showDragTip&&f){var l=u.clientWidth,o=g.getBoundingClientRect(),n=h.clientWidth,a=f.clientWidth,i=f.clientHeight;let e=-a;r<a+n?e=a+n-r:l<r&&(e+=l-r),f.style.left=e+"px",f.style.top=Math.min(u.clientHeight-i,Math.max(0,t.clientY-o.y-i/2))+"px",f.textContent=s.renderWidth+(R?T-b:b-T)+"px"}}V._isResize=!0,br(u,"drag--resize"),h.style.display="block",document.onmousemove=M,document.onmouseup=function(e){document.onmousemove=a,document.onmouseup=i;const t=s.renderWidth+(R?T-b:b-T);s.resizeWidth=t,"fixed"===d.dragMode&&l.forEach(e=>{e.id===s.id||e.resizeWidth||(e.resizeWidth=e.renderWidth)}),h.style.display="none",V._isResize=!1,I._lastResizeTime=Date.now(),A.analyColumnWidth(),A.recalculate(!0).then(()=>{A.saveCustomStore("update:visible"),A.updateCellAreas(),A.dispatchEvent("resizable-change",{...r,resizeWidth:t},e),setTimeout(()=>A.recalculate(!0),300)}),xr(u,"drag--resize")},M(e),A.closeMenu&&A.closeMenu()},b=(v,g)=>{const x=O["fixedType"],{resizable:b,border:C,columnKey:w,headerCellClassName:y,headerCellStyle:T,showHeaderOverflow:E,headerAlign:R,align:S,mouseConfig:k}=u,{currentColumn:M,scrollXLoad:I,overflowX:F,scrollbarWidth:e}=V,D=p.value;return v.map((e,t)=>{var{type:r,showHeaderOverflow:l,headerAlign:o,align:n,headerClassName:a,editRender:i,cellRender:s}=e,c=e.id,i=i||s,s=i?ir.get(i.name):null,i=e.children&&e.children.length,d=x?e.fixed!==x&&!i:!!e.fixed&&F,l=hr().eqNull(l)?E:l,o=o||(s?s.tableHeaderCellAlign:"")||R||n||(s?s.tableCellAlign:"")||S;let u="ellipsis"===l;n="title"===l,s=!0===l||"tooltip"===l;let p=n||s||u;var l=e.filters&&e.filters.some(e=>e.checked),m=A.getColumnIndex(e),h=A.getVTColumnIndex(e);const f={$table:A,$grid:A.xegrid,$rowIndex:g,column:e,columnIndex:m,$columnIndex:t,_columnIndex:h,fixed:x,type:"header",isHidden:d,hasFilter:l};m={onClick:e=>A.triggerHeaderCellClickEvent(e,f),onDblclick:e=>A.triggerHeaderCellDblclickEvent(e,f)};return I&&!p&&(u=p=!0),k&&(m.onMousedown=e=>A.triggerHeaderCellMousedownEvent(e,f)),D.drag&&!e.parentId&&(m.onDragstart=A.handleHeaderCellDragDragstartEvent,m.onDragend=A.handleHeaderCellDragDragendEvent,m.onDragover=A.handleHeaderCellDragDragoverEvent),(0,gr.h)("th",{class:["vxe-header--column",c,{["col--"+o]:o,["col--"+r]:r,"col--last":t===v.length-1,"col--fixed":e.fixed,"col--group":i,"col--ellipsis":p,"fixed--hidden":d,"is--sortable":e.sortable,"col--filter":!!e.filters,"is--filter-active":l,"col--current":M===e},a?hr().isFunction(a)?a(f):a:"",y?hr().isFunction(y)?y(f):y:""],colid:c,colspan:1<e.colSpan?e.colSpan:null,rowspan:1<e.rowSpan?e.rowSpan:null,style:T?hr().isFunction(T)?T(f):T:null,...m,key:w||D.useKey||D.drag||i?c:t},[(0,gr.h)("div",{class:["vxe-cell",{"c--title":n,"c--tooltip":s,"c--ellipsis":u}]},e.renderHeader(f)),d||i||!(hr().isBoolean(e.resizable)?e.resizable:D.resizable||b)?null:(0,gr.h)("div",{class:["vxe-resizable",{"is--line":!C||"none"===C}],onMousedown:e=>B(e,f)})])}).concat(e?[(0,gr.h)("th",{key:"gr"+g,class:"vxe-header--gutter col--gutter"})]:[])};return(0,gr.watch)(()=>O.tableColumn,r),(0,gr.onMounted)(()=>{(0,gr.nextTick)(()=>{var e=O["fixedType"],t=A["internalData"],t=t["elemStore"],e=`${e||"main"}-header-`;t[e+"wrapper"]=P,t[e+"table"]=h,t[e+"colgroup"]=f,t[e+"list"]=v,t[e+"xSpace"]=g,t[e+"repair"]=x,r()})}),(0,gr.onUnmounted)(()=>{var e=O["fixedType"],t=A["internalData"],t=t["elemStore"],e=`${e||"main"}-header-`;t[e+"wrapper"]=null,t[e+"table"]=null,t[e+"colgroup"]=null,t[e+"list"]=null,t[e+"xSpace"]=null,t[e+"repair"]=null}),()=>{var{fixedType:e,fixedColumn:t,tableColumn:r}=O,l=u["showHeaderOverflow"],{isGroup:o,scrollXLoad:n,scrollbarWidth:a}=V,i=I["visibleColumn"];let s=m.value,c=r;return o?c=i:(e&&(n||l)&&(c=t),s=[c]),(0,gr.h)("div",{ref:P,class:["vxe-table--header-wrapper",e?`fixed-${e}--wrapper`:"body--wrapper"],xid:d},[e?(0,gr.createCommentVNode)():(0,gr.h)("div",{ref:g,class:"vxe-body--x-space"}),(0,gr.h)("table",{ref:h,class:"vxe-table--header",xid:d,cellspacing:0,cellpadding:0,border:0},[(0,gr.h)("colgroup",{ref:f},c.map((e,t)=>(0,gr.h)("col",{name:e.id,key:t})).concat(a?[(0,gr.h)("col",{name:"col_gutter"})]:[])),(0,gr.h)("thead",{ref:v},(e=>{const l=O["fixedType"],{headerRowClassName:o,headerRowStyle:n}=u,a=V["isDragColMove"],i=p.value;return e.map((e,t)=>{var r={$table:A,$rowIndex:t,fixed:l,type:"header"};return i.drag?(0,gr.h)(gr.TransitionGroup,{name:"vxe-header--col-list"+(a?"":"-disabled"),tag:"tr",class:["vxe-header--row",o?hr().isFunction(o)?o(r):o:""],style:n?hr().isFunction(n)?n(r):n:null},{default:()=>b(e,t)}):(0,gr.h)("tr",{class:["vxe-header--row",o?hr().isFunction(o)?o(r):o:""],style:n?hr().isFunction(n)?n(r):n:null},b(e,t))})})(s))]),(0,gr.h)("div",{ref:x,class:"vxe-table--header-border-line"})])}}});const sr=mr.VxeUI["renderer"],cr="footer";var el=(0,gr.defineComponent)({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(u){const $=(0,gr.inject)("$xeTable",{}),{xID:d,props:p,reactData:m,internalData:h}=$,{refTableHeader:i,refTableBody:s,refScrollXHandleElem:c}=$.getRefMaps(),{computeTooltipOpts:t,computeColumnOpts:f}=$.getComputeMaps(),v=(0,gr.ref)(),g=(0,gr.ref)(),x=(0,gr.ref)(),b=(0,gr.ref)(),C=(0,gr.ref)(),w=e=>{var t,r,l,o,{inVirtualScroll:n,inBodyScroll:a}=h;n||a||(n=u["fixedType"],a=i.value,t=s.value,a=a?a.$el:null,(l=v.value)&&(t=t?t.$el:null)&&(r=c.value,l=l.scrollLeft,o=t.scrollTop,h.inFooterScroll=!0,wr(r,l),wr(a,l),wr(t,l),$.triggerScrollXEvent(e),$.handleScrollEvent(e,!1,!0,o,l,{type:cr,fixed:n})))},y=(g,x,b,C,w)=>{const y=u["fixedType"],{footerCellClassName:T,footerCellStyle:E,footerAlign:R,footerSpanMethod:S,align:k,columnKey:M,showFooterOverflow:I}=p,{scrollXLoad:F,overflowX:D,scrollbarWidth:e,currentColumn:O,mergeFooterList:A}=m,V=t.value,L=f.value;return g.map((t,e)=>{var{type:r,showFooterOverflow:l,footerAlign:o,align:n,footerClassName:a,editRender:i,cellRender:s}=t,i=i||s,s=i?sr.get(i.name):null;const c=V.showAll;i=t.children&&t.children.length,i=y?t.fixed!==y&&!i:t.fixed&&D,l=hr().eqNull(l)?I:l,o=o||(s?s.tableFooterCellAlign:"")||R||n||(s?s.tableCellAlign:"")||k;let d="ellipsis"===l;const u="title"===l,p=!0===l||"tooltip"===l;let m=u||p||d;var n={colid:t.id},s={},l=$.getColumnIndex(t),h=$.getVTColumnIndex(t),f=h;const v={$table:$,$grid:$.xegrid,row:b,rowIndex:w,_rowIndex:w,$rowIndex:C,column:t,columnIndex:l,$columnIndex:e,_columnIndex:h,itemIndex:f,items:b,fixed:y,type:cr,data:x};if(F&&!m&&(d=m=!0),(u||p||c)&&(s.onMouseenter=e=>{u?De(e.currentTarget,t):(p||c)&&$.triggerFooterTooltipEvent(e,v)}),(p||c)&&(s.onMouseleave=e=>{(p||c)&&$.handleTargetLeaveEvent(e)}),s.onClick=e=>{$.dispatchEvent("footer-cell-click",Object.assign({cell:e.currentTarget},v),e)},s.onDblclick=e=>{$.dispatchEvent("footer-cell-dblclick",Object.assign({cell:e.currentTarget},v),e)},A.length){l=function(t,r,l){for(let e=0;e<t.length;e++){var{row:o,col:n,rowspan:a,colspan:i}=t[e];if(-1<n&&-1<o&&a&&i){if(o===r&&n===l)return{rowspan:a,colspan:i};if(o<=r&&r<o+a&&n<=l&&l<n+i)return{rowspan:0,colspan:0}}}}(A,w,h);if(l){var{rowspan:f,colspan:h}=l;if(!f||!h)return null;1<f&&(n.rowspan=f),1<h&&(n.colspan=h)}}else if(S){var{rowspan:l=1,colspan:f=1}=S(v)||{};if(!l||!f)return null;1<l&&(n.rowspan=l),1<f&&(n.colspan=f)}return(0,gr.h)("td",{class:["vxe-footer--column",t.id,{["col--"+o]:o,["col--"+r]:r,"col--last":e===g.length-1,"fixed--hidden":i,"col--ellipsis":m,"col--current":O===t},Fe(a,v),Fe(T,v)],...n,style:E?hr().isFunction(E)?E(v):E:null,...s,key:M||L.useKey||L.drag?t.id:e},[(0,gr.h)("div",{class:["vxe-cell",{"c--title":u,"c--tooltip":p,"c--ellipsis":d}]},t.renderFooter(v))])}).concat(e?[(0,gr.h)("td",{key:"gr"+C,class:"vxe-footer--gutter col--gutter"})]:[])};return(0,gr.onMounted)(()=>{(0,gr.nextTick)(()=>{var e=u["fixedType"],t=h["elemStore"],e=`${e||"main"}-footer-`;t[e+"wrapper"]=v,t[e+"table"]=g,t[e+"colgroup"]=x,t[e+"list"]=b,t[e+"xSpace"]=C})}),(0,gr.onUnmounted)(()=>{var e=u["fixedType"],t=h["elemStore"],e=`${e||"main"}-footer-`;t[e+"wrapper"]=null,t[e+"table"]=null,t[e+"colgroup"]=null,t[e+"list"]=null,t[e+"xSpace"]=null}),()=>{let{fixedType:e,fixedColumn:t,tableColumn:r,footerTableData:l}=u;var{footerSpanMethod:o,showFooterOverflow:n}=p,a=h["visibleColumn"],{scrollXLoad:i,scrollbarWidth:s,mergeFooterList:c}=m,i=(e&&(r=m.expandColumn||!i&&!n||c.length&&o?a:t),{});return e||(i.onScroll=w),(0,gr.h)("div",{ref:v,class:["vxe-table--footer-wrapper",e?`fixed-${e}--wrapper`:"body--wrapper"],xid:d,...i},[e?(0,gr.createCommentVNode)():(0,gr.h)("div",{ref:C,class:"vxe-body--x-space"}),(0,gr.h)("table",{ref:g,class:"vxe-table--footer",xid:d,cellspacing:0,cellpadding:0,border:0},[(0,gr.h)("colgroup",{ref:x},r.map((e,t)=>(0,gr.h)("col",{name:e.id,key:t})).concat(s?[(0,gr.h)("col",{name:"col_gutter"})]:[])),(0,gr.h)("tfoot",{ref:b},(o=>{const{fixedType:n,tableColumn:a}=u,{footerRowClassName:i,footerRowStyle:s}=p,c=m["isDragColMove"],d=f.value;return o.map((e,t)=>{const r=t;var l={$table:$,row:e,_rowIndex:r,$rowIndex:t,fixed:n,type:cr};return d.drag?(0,gr.h)(gr.TransitionGroup,{name:"vxe-header--col-list"+(c?"":"-disabled"),tag:"tr",class:["vxe-footer--row",i?hr().isFunction(i)?i(l):i:""],style:s?hr().isFunction(s)?s(l):s:null},{default:()=>y(a,o,e,t,r)}):(0,gr.h)("tr",{class:["vxe-footer--row",i?hr().isFunction(i)?i(l):i:""],style:s?hr().isFunction(s)?s(l):s:null},y(a,o,e,t,r))})})(l))])])}}});const r=mr.VxeUI["getConfig"];var H={id:[String,Function],data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>r().table.minHeight},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>r().table.resizable},stripe:{type:Boolean,default:()=>r().table.stripe},border:{type:[Boolean,String],default:()=>r().table.border},padding:{type:Boolean,default:()=>r().table.padding},round:{type:Boolean,default:()=>r().table.round},size:{type:String,default:()=>r().table.size||r().size},fit:{type:Boolean,default:()=>r().table.fit},loading:Boolean,align:{type:String,default:()=>r().table.align},headerAlign:{type:String,default:()=>r().table.headerAlign},footerAlign:{type:String,default:()=>r().table.footerAlign},showHeader:{type:Boolean,default:()=>r().table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>r().table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>r().table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>r().table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>r().table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],mergeCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>r().table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>r().table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>r().table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>r().table.rowId},zIndex:Number,emptyText:{type:String,default:()=>r().table.emptyText},keepSource:{type:Boolean,default:()=>r().table.keepSource},autoResize:{type:Boolean,default:()=>r().table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,cellConfig:Object,rowConfig:Object,dragConfig:Object,rowDragConfig:Object,columnDragConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,animat:{type:Boolean,default:()=>r().table.animat},delayHover:{type:Number,default:()=>r().table.delayHover},params:Object},ue=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","current-change","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","cell-backspace-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","filter-change","filter-visible","clear-filter","resizable-change","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","row-dragstart","row-dragover","row-dragend","column-dragstart","column-dragover","column-dragend","enter-append-row","edit-actived","edit-activated","edit-disabled","valid-error","scroll","scroll-boundary","custom","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-selection","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"];const{getI18n:Me,getIcon:Ie,renderEmptyElement:dr}=mr.VxeUI;var tl=(0,gr.defineComponent)({name:"TableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(G){const Z=mr.VxeUI.getComponent("VxeModal"),Q=mr.VxeUI.getComponent("VxeDrawer"),J=mr.VxeUI.getComponent("VxeButton"),ee=mr.VxeUI.getComponent("VxeNumberInput"),te=mr.VxeUI.getComponent("VxeTooltip"),re=mr.VxeUI.getComponent("VxeRadioGroup"),le=(0,gr.inject)("$xeTable",{}),{props:oe,reactData:ne}=le,{computeCustomOpts:ae,computeColumnOpts:ie,computeIsMaxFixedColumn:se,computeResizableOpts:ce}=le.getComputeMaps(),de=(0,gr.ref)(),ue=(0,gr.ref)(),pe=(0,gr.ref)(),me=(0,gr.ref)();let c;const he=e=>{var t=G["customStore"];t.activeWrapper=!0,le.customOpenEvent(e)},fe=e=>{const t=G["customStore"];t.activeWrapper=!1,setTimeout(()=>{t.activeBtn||t.activeWrapper||le.customCloseEvent(e)},300)},ve=({$event:e})=>{le.saveCustom(),le.closeCustom(),le.emitCustomEvent("confirm",e)},ge=({$event:e})=>{le.closeCustom(),le.emitCustomEvent("close",e)},xe=({$event:e})=>{le.cancelCustom(),le.closeCustom(),le.emitCustomEvent("cancel",e)},r=e=>{le.resetCustom(!0),le.closeCustom(),le.emitCustomEvent("reset",e)},be=({$event:t})=>{mr.VxeUI.modal?mr.VxeUI.modal.confirm({content:Me("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then(e=>{"confirm"===e&&r(t)}):r(t)},l=t=>{var e=ne["customColumnList"],e=hr().findTree(e,e=>e===t);e&&e.parent&&(e=e["parent"],e.children)&&e.children.length&&(e.renderVisible=e.children.every(e=>e.renderVisible),e.halfVisible=!e.renderVisible&&e.children.some(e=>e.renderVisible||e.halfVisible),l(e))},Ce=e=>{const t=!e.renderVisible;ae.value.immediate?(hr().eachTree([e],e=>{e.visible=t,e.renderVisible=t,e.halfVisible=!1}),le.handleCustom(),le.saveCustomStore("update:visible")):hr().eachTree([e],e=>{e.renderVisible=t,e.halfVisible=!1}),l(e),le.checkCustomStatus()},we=(e,t)=>{var r=se.value;ae.value.immediate?(e.renderFixed===t?hr().eachTree([e],e=>{e.fixed="",e.renderFixed=""}):r&&!e.renderFixed||hr().eachTree([e],e=>{e.fixed=t,e.renderFixed=t}),le.handleCustom(),le.saveCustomStore("update:fixed")):e.renderFixed===t?hr().eachTree([e],e=>{e.renderFixed=""}):r&&!e.renderFixed||hr().eachTree([e],e=>{e.renderFixed=t})},ye=()=>{le.toggleCustomAllCheckbox()},Te=e=>{var t=e.currentTarget.parentNode.parentNode,r=t.getAttribute("colid"),r=le.getColumnById(r);t.draggable=!0,me.value=r,br(t,"active--drag-origin"),o(e)},Ee=e=>{var e=e.currentTarget.parentNode.parentNode,t=pe.value;e.draggable=!1,me.value=null,xr(e,"active--drag-origin"),t&&(t.style.display="")},Re=e=>{var t=new Image;e.dataTransfer&&e.dataTransfer.setDragImage(t,0,0)},Se=e=>{var t=ne["customColumnList"],r=ae.value,e=e.currentTarget,l=pe.value;if(c){if(c!==e){var o=c.getAttribute("drag-pos"),n=e.getAttribute("colid");const i=le.getColumnById(n);if(!i)return;var n=hr().findIndexOf(t,e=>e.id===i.id),a=c.getAttribute("colid");const s=le.getColumnById(a);if(!s)return;t.splice(n,1);a=hr().findIndexOf(t,e=>e.id===s.id);t.splice(a+("bottom"===o?1:0),0,i)}c.draggable=!1,c.removeAttribute("drag-pos"),xr(c,"active--drag-target")}me.value=null,e.draggable=!1,e.removeAttribute("drag-pos"),l&&(l.style.display=""),xr(e,"active--drag-target"),xr(e,"active--drag-origin"),r.immediate&&(hr().eachTree(t,(e,t,r,l,o)=>{o||(e.renderSortNumber=t+1)}),le.handleCustom(),le.saveCustomStore("update:sort"))},ke=e=>{var t=e.currentTarget,r=(c!==t&&xr(c,"active--drag-target"),t.getAttribute("colid")),r=le.getColumnById(r);r&&1===r.level&&(e.preventDefault(),r=e.clientY-t.getBoundingClientRect().y<t.clientHeight/2?"top":"bottom",br(t,"active--drag-target"),t.setAttribute("drag-pos",r),c=t),o(e)},o=e=>{var t,r=pe.value,l=ue.value;l&&r&&(t=(l=l.parentNode).getBoundingClientRect(),r.style.display="block",r.style.top=Math.min(l.clientHeight-l.scrollTop-r.clientHeight,e.clientY-t.y)+"px",r.style.left=Math.min(l.clientWidth-l.scrollLeft-r.clientWidth-16,e.clientX-t.x)+"px")};return(0,gr.nextTick)(()=>{var e=ae.value["mode"];Z||Ir("vxe.error.reqComp",["vxe-modal"]),Q||"drawer"!==e||Ir("vxe.error.reqComp",["vxe-drawer"]),J||Ir("vxe.error.reqComp",["vxe-button"]),ee||Ir("vxe.error.reqComp",["vxe-number-input"]),te||Ir("vxe.error.reqComp",["vxe-tooltip"]),re||Ir("vxe.error.reqComp",["vxe-radio-group"])}),()=>{var e=ae.value;if(["modal","drawer","popup"].includes(""+e.mode)){const d=G["customStore"],P=oe["resizable"];e=ne["customColumnList"];const u=ae.value,{mode:B,modalOptions:j,drawerOptions:U,allowVisible:p,allowSort:m,allowFixed:h,allowResizable:f,checkMethod:v,visibleMethod:g}=u,x=ie.value,b=x["maxFixedSize"],{minWidth:C,maxWidth:w}=ce.value;var t=Object.assign({},j),r=Object.assign({},U);const y=se.value;var l=u.slots||{};const T=l.header,E=l.top,R=l.bottom,S=l.default,k=l.footer,M=[],I=d.isAll,F=d.isIndeterminate,D=me.value,O={$table:le,$grid:le.xegrid,columns:e,isAllChecked:I,isAllIndeterminate:F};hr().eachTree(e,(r,l,e,t,o)=>{if(!g||g({column:r})){let e=0,t=0;f&&(l={$table:le,column:r,columnIndex:l,$columnIndex:l,$rowIndex:-1},C&&(e=hr().toNumber(hr().isFunction(C)?C(l):C)),w)&&(t=hr().toNumber(hr().isFunction(w)?w(l):w));var l=r.renderVisible,n=r.halfVisible,a=vr(r.getTitle(),1),i=r.children&&r.children.length;const c=!!v&&!v({column:r});var s=!l;M.push((0,gr.h)("tr",{key:r.id,colid:r.id,class:["vxe-table-custom-popup--row level--"+r.level,{"is--group":i}],onDragstart:Re,onDragend:Se,onDragover:ke},[p?(0,gr.h)("td",{class:"vxe-table-custom-popup--column-item col--visible"},[(0,gr.h)("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":l,"is--indeterminate":n,"is--disabled":c}],title:Me("vxe.custom.setting.colVisible"),onClick:()=>{c||Ce(r)}},[(0,gr.h)("span",{class:["vxe-checkbox--icon",n?Ie().TABLE_CHECKBOX_INDETERMINATE:l?Ie().TABLE_CHECKBOX_CHECKED:Ie().TABLE_CHECKBOX_UNCHECKED]})])]):(0,gr.createCommentVNode)(),m?(0,gr.h)("td",{class:"vxe-table-custom-popup--column-item col--sort"},[1===r.level?(0,gr.h)("span",{class:["vxe-table-custom-popup--column-sort-btn",{"is--disabled":c||s}],title:Me("vxe.custom.setting.sortHelpTip"),...c||s?{}:{onMousedown:Te,onMouseup:Ee}},[(0,gr.h)("i",{class:Ie().TABLE_CUSTOM_SORT})]):(0,gr.h)("span","-")]):(0,gr.createCommentVNode)(),(0,gr.h)("td",{class:"vxe-table-custom-popup--column-item col--name"},["html"===r.type?(0,gr.h)("div",{key:"1",class:"vxe-table-custom-popup--name",innerHTML:a}):(0,gr.h)("div",{key:"0",class:"vxe-table-custom-popup--name",title:a},a)]),f?(0,gr.h)("td",{class:"vxe-table-custom-popup--column-item col--resizable"},[r.children&&r.children.length||!(hr().isBoolean(r.resizable)?r.resizable:x.resizable||P)?(0,gr.h)("span","-"):ee?(0,gr.h)(ee,{type:"integer",disabled:c||s,modelValue:r.renderResizeWidth,min:e||void 0,max:t||void 0,"onUpdate:modelValue"(e){r.renderResizeWidth=Math.max(0,Number(e))}}):(0,gr.createCommentVNode)()]):(0,gr.createCommentVNode)(),h?(0,gr.h)("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[o?(0,gr.h)("span","-"):re?(0,gr.h)(re,{modelValue:r.renderFixed||"",type:"button",size:"mini",disabled:c||s,options:[{label:Me("vxe.custom.setting.fixedLeft"),value:"left",disabled:c||s||y},{label:Me("vxe.custom.setting.fixedUnset"),value:"",disabled:c||s},{label:Me("vxe.custom.setting.fixedRight"),value:"right",disabled:c||s||y}],"onUpdate:modelValue"(e){r.renderFixed=e}}):(0,gr.createCommentVNode)()]):(0,gr.createCommentVNode)()]))}});l={default:()=>S?le.callSlot(S,O):(0,gr.h)("div",{ref:ue,class:"vxe-table-custom-popup--body"},[E?(0,gr.h)("div",{class:"vxe-table-custom-popup--table-top"},le.callSlot(E,O)):dr(le),(0,gr.h)("div",{class:"vxe-table-custom-popup--table-wrapper"},[(0,gr.h)("table",{},[(0,gr.h)("colgroup",{},[p?(0,gr.h)("col",{class:"vxe-table-custom-popup--table-col-seq"}):(0,gr.createCommentVNode)(),m?(0,gr.h)("col",{class:"vxe-table-custom-popup--table-col-sort"}):(0,gr.createCommentVNode)(),(0,gr.h)("col",{class:"vxe-table-custom-popup--table-col-title"}),f?(0,gr.h)("col",{class:"vxe-table-custom-popup--table-col-width"}):(0,gr.createCommentVNode)(),h?(0,gr.h)("col",{class:"vxe-table-custom-popup--table-col-fixed"}):(0,gr.createCommentVNode)()]),(0,gr.h)("thead",{},[(0,gr.h)("tr",{},[p?(0,gr.h)("th",{},[(0,gr.h)("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":I,"is--indeterminate":F}],title:Me("vxe.table.allTitle"),onClick:ye},[(0,gr.h)("span",{class:["vxe-checkbox--icon",F?Ie().TABLE_CHECKBOX_INDETERMINATE:I?Ie().TABLE_CHECKBOX_CHECKED:Ie().TABLE_CHECKBOX_UNCHECKED]}),(0,gr.h)("span",{class:"vxe-checkbox--label"},Me("vxe.toolbar.customAll"))])]):(0,gr.createCommentVNode)(),m?(0,gr.h)("th",{},[(0,gr.h)("span",{class:"vxe-table-custom-popup--table-sort-help-title"},Me("vxe.custom.setting.colSort")),te?(0,gr.h)(te,{enterable:!0,content:Me("vxe.custom.setting.sortHelpTip"),popupClassName:"vxe-table--ignore-clear"},{default:()=>(0,gr.h)("i",{class:"vxe-table-custom-popup--table-sort-help-icon vxe-icon-question-circle-fill"})}):(0,gr.createCommentVNode)()]):(0,gr.createCommentVNode)(),(0,gr.h)("th",{},Me("vxe.custom.setting.colTitle")),f?(0,gr.h)("th",{},Me("vxe.custom.setting.colResizable")):(0,gr.createCommentVNode)(),h?(0,gr.h)("th",{},Me("vxe.custom.setting."+(b?"colFixedMax":"colFixed"),[b])):(0,gr.createCommentVNode)()])]),(0,gr.h)(gr.TransitionGroup,{class:"vxe-table-custom--panel-list",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>M})])]),R?(0,gr.h)("div",{class:"vxe-table-custom-popup--table-bottom"},le.callSlot(R,O)):dr(le),(0,gr.h)("div",{ref:pe,class:"vxe-table-custom-popup--drag-hint"},Me("vxe.custom.cstmDragTarget",[D?D.getTitle():""]))]),footer:()=>k?le.callSlot(k,O):(0,gr.h)("div",{class:"vxe-table-custom-popup--footer"},[J?(0,gr.h)(J,{content:u.resetButtonText||Me("vxe.custom.cstmRestore"),onClick:be}):(0,gr.createCommentVNode)(),J?(0,gr.h)(J,{content:u.resetButtonText||Me("vxe.custom.cstmCancel"),onClick:xe}):(0,gr.createCommentVNode)(),J?(0,gr.h)(J,{status:"primary",content:u.confirmButtonText||Me("vxe.custom.cstmConfirm"),onClick:ve}):(0,gr.createCommentVNode)()])};return T&&(l.header=()=>le.callSlot(T,O)),"drawer"===B?Q?(0,gr.h)(Q,{key:"drawer",className:["vxe-table-custom-drawer-wrapper","vxe-table--ignore-clear",r.className||""].join(" "),modelValue:d.visible,title:r.title||Me("vxe.custom.cstmTitle"),width:r.width||Math.min(880,Math.floor(.6*document.documentElement.clientWidth)),position:r.position,escClosable:!!r.escClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(e){d.visible=e}},l):(0,gr.createCommentVNode)():Z?(0,gr.h)(Z,{key:"modal",className:["vxe-table-custom-modal-wrapper","vxe-table--ignore-clear",t.className||""].join(" "),modelValue:d.visible,title:t.title||Me("vxe.custom.cstmTitle"),width:t.width||Math.min(880,document.documentElement.clientWidth),minWidth:t.minWidth||700,height:t.height||Math.min(680,document.documentElement.clientHeight),minHeight:t.minHeight||400,showZoom:t.showZoom,showMaximize:t.showMaximize,showMinimize:t.showMinimize,mask:t.mask,lockView:t.lockView,resize:t.resize,escClosable:!!t.escClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(e){d.visible=e}},l):(0,gr.createCommentVNode)()}{e=G["customStore"],r=ne["customColumnList"],t=ae.value,l=e["maxHeight"];const{checkMethod:A,visibleMethod:V,allowVisible:L,allowSort:z,allowFixed:W,trigger:q,placement:X}=t,K=se.value;var o=t.slots||{},$=o.header,_=o.top,N=o.bottom,H=o.default,o=o.footer;const Y=[];var n={},a=e.isAll,i=e.isIndeterminate,s=me.value,c=("hover"===q&&(n.onMouseenter=he,n.onMouseleave=fe),{$table:le,$grid:le.xegrid,columns:r,isAllChecked:a,isAllIndeterminate:i});return hr().eachTree(r,(e,t,r,l,o)=>{if(!V||V({column:e})){var n=e.renderVisible,a=e.halfVisible,i=e.children&&e.children.length,s=vr(e.getTitle(),1);const d=!!A&&!A({column:e});var c=!n;Y.push((0,gr.h)("li",{key:e.id,colid:e.id,class:["vxe-table-custom--option","level--"+e.level,{"is--hidden":d||c,"is--group":i}],onDragstart:Re,onDragend:Se,onDragover:ke},[L?(0,gr.h)("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":n,"is--indeterminate":a,"is--disabled":d}],title:Me("vxe.custom.setting.colVisible"),onClick:()=>{d||Ce(e)}},[(0,gr.h)("span",{class:["vxe-checkbox--icon",a?Ie().TABLE_CHECKBOX_INDETERMINATE:n?Ie().TABLE_CHECKBOX_CHECKED:Ie().TABLE_CHECKBOX_UNCHECKED]})]):(0,gr.createCommentVNode)(),z&&1===e.level?(0,gr.h)("div",{class:"vxe-table-custom--sort-option"},[(0,gr.h)("span",{class:["vxe-table-custom--sort-btn",{"is--disabled":d||c}],title:Me("vxe.custom.setting.sortHelpTip"),...d||c?{}:{onMousedown:Te,onMouseup:Ee}},[(0,gr.h)("i",{class:Ie().TABLE_CUSTOM_SORT})])]):(0,gr.createCommentVNode)(),"html"===e.type?(0,gr.h)("div",{key:"1",class:"vxe-table-custom--checkbox-label",innerHTML:s}):(0,gr.h)("div",{key:"0",class:"vxe-table-custom--checkbox-label"},s),!o&&W?(0,gr.h)("div",{class:"vxe-table-custom--fixed-option"},[J?(0,gr.h)(J,{mode:"text",icon:"left"===e.renderFixed?Ie().TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:Ie().TOOLBAR_TOOLS_FIXED_LEFT,status:"left"===e.renderFixed?"primary":"",disabled:d||c||K&&!e.renderFixed,title:Me("left"===e.renderFixed?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:()=>{we(e,"left")}}):(0,gr.createCommentVNode)(),J?(0,gr.h)(J,{mode:"text",icon:"right"===e.renderFixed?Ie().TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:Ie().TOOLBAR_TOOLS_FIXED_RIGHT,status:"right"===e.renderFixed?"primary":"",disabled:d||c||K&&!e.renderFixed,title:Me("right"===e.renderFixed?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:()=>{we(e,"right")}}):(0,gr.createCommentVNode)()]):(0,gr.createCommentVNode)()]))}}),(0,gr.h)("div",{ref:de,key:"simple",class:["vxe-table-custom-wrapper","placement--"+X,{"is--active":e.visible}],style:l&&!["left","right"].includes(X)?{maxHeight:l+"px"}:{}},e.visible?[(0,gr.h)("div",{class:"vxe-table-custom--header"},$?le.callSlot($,c):[(0,gr.h)("ul",{class:"vxe-table-custom--panel-list"},[(0,gr.h)("li",{class:"vxe-table-custom--option"},[L?(0,gr.h)("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":a,"is--indeterminate":i}],title:Me("vxe.table.allTitle"),onClick:ye},[(0,gr.h)("span",{class:["vxe-checkbox--icon",i?Ie().TABLE_CHECKBOX_INDETERMINATE:a?Ie().TABLE_CHECKBOX_CHECKED:Ie().TABLE_CHECKBOX_UNCHECKED]}),(0,gr.h)("span",{class:"vxe-checkbox--label"},Me("vxe.toolbar.customAll"))]):(0,gr.h)("span",{class:"vxe-checkbox--label"},Me("vxe.table.customTitle"))])])]),(0,gr.h)("div",{ref:ue,class:"vxe-table-custom--body"},[_?(0,gr.h)("div",{class:"vxe-table-custom--panel-top"},le.callSlot(_,c)):dr(le),H?(0,gr.h)("div",{class:"vxe-table-custom--panel-body"},le.callSlot(H,c)):(0,gr.h)(gr.TransitionGroup,{class:"vxe-table-custom--panel-list",name:"vxe-table-custom--list",tag:"ul",...n},{default:()=>Y}),N?(0,gr.h)("div",{class:"vxe-table-custom--panel-bottom"},le.callSlot(N,c)):dr(le),(0,gr.h)("div",{ref:pe,class:"vxe-table-custom-popup--drag-hint"},Me("vxe.custom.cstmDragTarget",[s&&"html"!==s.type?s.getTitle():""]))]),t.showFooter?(0,gr.h)("div",{class:"vxe-table-custom--footer"},o?le.callSlot(o,c):[(0,gr.h)("div",{class:"vxe-table-custom--footer-buttons"},[J?(0,gr.h)(J,{mode:"text",content:t.resetButtonText||Me("vxe.table.customRestore"),onClick:be}):(0,gr.createCommentVNode)(),t.immediate?J?(0,gr.h)(J,{mode:"text",content:t.closeButtonText||Me("vxe.table.customClose"),onClick:ge}):(0,gr.createCommentVNode)():J?(0,gr.h)(J,{mode:"text",content:t.cancelButtonText||Me("vxe.table.customCancel"),onClick:xe}):(0,gr.createCommentVNode)(),!t.immediate&&J?(0,gr.h)(J,{mode:"text",status:"primary",content:t.confirmButtonText||Me("vxe.table.customConfirm"),onClick:ve}):(0,gr.createCommentVNode)()])]):null]:[]);return}}}});const{getI18n:ur,getIcon:pr,renderer:il}=mr.VxeUI;var rl=(0,gr.defineComponent)({name:"VxeTableFilterPanel",props:{filterStore:Object},setup(s){const c=(0,gr.inject)("$xeTable",{}),{reactData:i,internalData:d,getComputeMaps:e}=c,u=e()["computeFilterOpts"],p=(0,gr.computed)(()=>{var e=s["filterStore"];return e&&e.options.some(e=>e.checked)}),m=e=>{c.handleFilterConfirmFilter(e)};const h=e=>{c.handleFilterResetFilter(e)};const f=(e,t,r)=>{c.handleFilterChangeOption(e,t,r)},v=(e,t)=>{var r,l=s["filterStore"];l.multiple?(r=t,(l=s.filterStore).options.forEach(e=>{e._checked=r,e.checked=r}),l.isAllSelected=r,l.isIndeterminate=!1):h(e)},g={changeRadioOption:(e,t,r)=>{c.handleFilterChangeRadioOption(e,t,r)},changeMultipleOption:(e,t,r)=>{c.handleFilterChangeMultipleOption(e,t,r)},changeAllOption:v,changeOption:f,confirmFilter:m,resetFilter:h};return()=>{var e=s["filterStore"],t=i["initStore"],r=e["column"],l=r?r.filterRender:null,o=fr(l)?il.get(l.name):null,n=o?o.tableFilterClassName||o.filterClassName:"",a=Object.assign({},d._currFilterParams,{$panel:g,$table:c});return(0,gr.h)("div",{class:["vxe-table--filter-wrapper","filter--prevent-default",Fe(n,a),{"is--animat":c.props.animat,"is--multiple":e.multiple,"is--active":e.visible}],style:e.style},t.filter&&r?((e,t)=>{const r=s["filterStore"],{column:l,multiple:o,maxHeight:n}=r;var a=l?l.slots:null,a=a?a.filter:null,i=Object.assign({},d._currFilterParams,{$panel:g,$table:c}),t=t?t.renderTableFilter||t.renderFilter:null;return a?[(0,gr.h)("div",{class:"vxe-table--filter-template"},c.callSlot(a,i))]:t?[(0,gr.h)("div",{class:"vxe-table--filter-template"},kr(t(e,i)))]:(a=o?r.isAllSelected:!r.options.some(e=>e._checked),t=o&&r.isIndeterminate,[(0,gr.h)("ul",{class:"vxe-table--filter-header"},[(0,gr.h)("li",{class:["vxe-table--filter-option",{"is--checked":a,"is--indeterminate":t}],title:ur(o?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:e=>{v(e,!r.isAllSelected)}},(o?[(0,gr.h)("span",{class:["vxe-checkbox--icon",t?pr().TABLE_CHECKBOX_INDETERMINATE:a?pr().TABLE_CHECKBOX_CHECKED:pr().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([(0,gr.h)("span",{class:"vxe-checkbox--label"},ur("vxe.table.allFilter"))]))]),(0,gr.h)("ul",{class:"vxe-table--filter-body",style:n?{maxHeight:n+"px"}:{}},r.options.map(t=>{var e=t._checked;return(0,gr.h)("li",{class:["vxe-table--filter-option",{"is--checked":t._checked}],title:t.label,onClick:e=>{f(e,!t._checked,t)}},(o?[(0,gr.h)("span",{class:["vxe-checkbox--icon",e?pr().TABLE_CHECKBOX_CHECKED:pr().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([(0,gr.h)("span",{class:"vxe-checkbox--label"},vr(t.label,1))]))}))])})(l,o).concat((()=>{var e=s["filterStore"],{column:t,multiple:r}=e,l=u.value,o=p.value,t=t["filterRender"],t=fr(t)?il.get(t.name):null,o=!o&&!e.isAllSelected&&!e.isIndeterminate;return r&&(!t||!1!==t.showTableFilterFooter&&!1!==t.showFilterFooter&&!1!==t.isFooter)?[(0,gr.h)("div",{class:"vxe-table--filter-footer"},[(0,gr.h)("button",{class:{"is--disabled":o},disabled:o,onClick:m},l.confirmButtonText||ur("vxe.table.confirmFilter")),(0,gr.h)("button",{onClick:h},l.resetButtonText||ur("vxe.table.resetFilter"))])]:[]})()):[])}}});const{getI18n:sl,getIcon:cl}=mr.VxeUI;var ll=(0,gr.defineComponent)({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(d){const u=mr.VxeUI.getComponent("VxeModal"),p=mr.VxeUI.getComponent("VxeButton"),m=mr.VxeUI.getComponent("VxeSelect"),h=(0,gr.inject)("$xeTable",{}),l=h.getComputeMaps()["computeImportOpts"],f=(0,gr.reactive)({loading:!1}),v=(0,gr.ref)(),g=(0,gr.computed)(()=>{var e=d["storeData"];return e.filename+"."+e.type}),x=(0,gr.computed)(()=>{var e=d["storeData"];return e.file&&e.type}),b=(0,gr.computed)(()=>{var e=d["storeData"];const{type:t,typeList:r}=e;return t?(e=hr().find(r,e=>t===e.value))?e.label:"*.*":"*."+r.map(e=>e.value).join(", *.")}),C=()=>{var e=d["storeData"];Object.assign(e,{filename:"",sheetName:"",type:""})},w=()=>{const{storeData:t,defaultOptions:e}=d;h.readFile(e).then(e=>{e=e.file;Object.assign(t,N(e),{file:e})}).catch(e=>e)},y=()=>{(0,gr.nextTick)(()=>{var e=v.value;e&&e.focus()})},T=()=>{var e=d["storeData"];e.visible=!1},E=()=>{const{storeData:e,defaultOptions:t}=d;var r=l.value;f.loading=!0,h.importByFile(e.file,Object.assign({},r,t)).then(()=>{f.loading=!1,e.visible=!1}).catch(()=>{f.loading=!1})};return(0,gr.nextTick)(()=>{u||Ir("vxe.error.reqComp",["vxe-modal"]),p||Ir("vxe.error.reqComp",["vxe-button"]),m||Ir("vxe.error.reqComp",["vxe-select"])}),()=>{const{defaultOptions:t,storeData:r}=d,l=g.value,o=x.value,n=b.value;var e=t.slots||{};const a=e.top,i=e.bottom,s=e.default,c=e.footer;return u?(0,gr.h)(u,{id:"VXE_IMPORT_MODAL",modelValue:r.visible,title:sl("vxe.import.impTitle"),className:"vxe-table-export-popup-wrapper",width:540,minWidth:360,minHeight:240,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:f.loading,"onUpdate:modelValue"(e){r.visible=e},onShow:y},{default:()=>{var e={$table:h,$grid:h.xegrid,options:t,params:t.params};return(0,gr.h)("div",{class:"vxe-table-export--panel"},[a?(0,gr.h)("div",{class:"vxe-table-export--panel-top"},h.callSlot(a,e)):(0,gr.createCommentVNode)(),(0,gr.h)("div",{class:"vxe-table-export--panel-body"},s?h.callSlot(s,e):[(0,gr.h)("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[(0,gr.h)("tbody",[(0,gr.h)("tr",[(0,gr.h)("td",sl("vxe.import.impFile")),(0,gr.h)("td",[o?(0,gr.h)("div",{class:"vxe-table-export--selected--file",title:l},[(0,gr.h)("span",l),(0,gr.h)("i",{class:cl().INPUT_CLEAR,onClick:C})]):(0,gr.h)("button",{ref:v,class:"vxe-table-export--select--file",onClick:w},sl("vxe.import.impSelect"))])]),(0,gr.h)("tr",[(0,gr.h)("td",sl("vxe.import.impType")),(0,gr.h)("td",n)]),(0,gr.h)("tr",[(0,gr.h)("td",sl("vxe.import.impMode")),(0,gr.h)("td",[m?(0,gr.h)(m,{modelValue:t.mode,options:r.modeList,"onUpdate:modelValue"(e){t.mode=e}}):(0,gr.createCommentVNode)()])])])])]),i?(0,gr.h)("div",{class:"vxe-table-export--panel-bottom"},h.callSlot(i,e)):(0,gr.createCommentVNode)()])},footer(){var e={$table:h,$grid:h.xegrid,options:t,params:t.params};return(0,gr.h)("div",{class:"vxe-table-export--panel-footer"},c?h.callSlot(c,e):[(0,gr.h)("div",{class:"vxe-table-export--panel-btns"},[p?(0,gr.h)(p,{content:sl("vxe.import.impCancel"),onClick:T}):(0,gr.createCommentVNode)(),p?(0,gr.h)(p,{status:"primary",disabled:!o||f.loading,content:sl("vxe.import.impConfirm"),onClick:E}):(0,gr.createCommentVNode)()])])}}):(0,gr.createCommentVNode)()}}});const{getI18n:j,getIcon:dl}=mr.VxeUI;var ol=(0,gr.defineComponent)({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(w){const y=mr.VxeUI.getComponent("VxeModal"),T=mr.VxeUI.getComponent("VxeButton"),E=mr.VxeUI.getComponent("VxeSelect"),R=mr.VxeUI.getComponent("VxeInput"),S=mr.VxeUI.getComponent("VxeCheckbox"),k=(0,gr.inject)("$xeTable",{}),{computeExportOpts:r,computePrintOpts:l}=k.getComputeMaps(),M=(0,gr.reactive)({isAll:!1,isIndeterminate:!1,loading:!1}),I=(0,gr.ref)(),F=(0,gr.ref)(),D=(0,gr.ref)(),O=(0,gr.computed)(()=>{var e=w["storeData"];return e.columns.every(e=>e.checked)}),A=(0,gr.computed)(()=>{var e=w["defaultOptions"];return-1<["html","xml","xlsx","pdf"].indexOf(e.type)}),V=(0,gr.computed)(()=>{var{storeData:e,defaultOptions:t}=w;return!t.original&&"current"===t.mode&&(e.isPrint||-1<["html","xlsx"].indexOf(t.type))}),L=(0,gr.computed)(()=>{var e=w["defaultOptions"];return!e.original&&-1<["xlsx"].indexOf(e.type)}),$=t=>{var e=w["storeData"],e=hr().findTree(e.columns,e=>e===t);e&&e.parent&&(e=e["parent"],e.children)&&e.children.length&&(e.checked=e.children.every(e=>e.checked),e.halfChecked=!e.checked&&e.children.some(e=>e.checked||e.halfChecked),$(e))},_=()=>{var e=w["storeData"],e=e.columns;M.isAll=e.every(e=>e.disabled||e.checked),M.isIndeterminate=!M.isAll&&e.some(e=>!e.disabled&&(e.checked||e.halfChecked))},N=()=>{var e=w["storeData"];const t=!M.isAll;hr().eachTree(e.columns,e=>{e.disabled||(e.checked=t,e.halfChecked=!1)}),M.isAll=t,_()},H=()=>{(0,gr.nextTick)(()=>{var e=F.value,t=D.value,r=I.value,e=e||t||r;e&&e.focus()}),_()},o=()=>{var{storeData:e,defaultOptions:t}=w,{hasMerge:e,columns:r}=e,l=O.value,o=V.value,r=hr().searchTree(r,e=>e.checked,{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},t,{columns:r,isMerge:!!(e&&o&&l)&&t.isMerge})},t=()=>{var e=w["storeData"],t=l.value;e.visible=!1,k.print(Object.assign({},t,o()))},n=()=>{const e=w["storeData"];var t=r.value;M.loading=!0,k.exportData(Object.assign({},t,o())).then(()=>{M.loading=!1,e.visible=!1}).catch(()=>{M.loading=!1})},P=()=>{var e=w["storeData"];e.visible=!1},B=()=>{var e=w["storeData"];(e.isPrint?t:n)()};return(0,gr.nextTick)(()=>{y||Ir("vxe.error.reqComp",["vxe-modal"]),T||Ir("vxe.error.reqComp",["vxe-button"]),E||Ir("vxe.error.reqComp",["vxe-select"]),R||Ir("vxe.error.reqComp",["vxe-input"]),S||Ir("vxe.error.reqComp",["vxe-checkbox"])}),()=>{const{defaultOptions:t,storeData:r}=w,{isAll:l,isIndeterminate:o}=M,{hasTree:n,hasMerge:a,isPrint:i,hasColgroup:s,columns:c}=r,d=t["isHeader"],u=[],p=O.value,m=A.value,h=V.value,f=L.value;var e=t.slots||{};const v=e.top,g=e.bottom,x=e.default,b=e.footer,C=e.parameter;return hr().eachTree(c,r=>{var e=vr(r.getTitle(),1),t=r.children&&r.children.length,l=r.checked,o=r.halfChecked,n="html"===r.type;u.push((0,gr.h)("li",{key:r.id,class:["vxe-table-export--panel-column-option","level--"+r.level,{"is--group":t,"is--checked":l,"is--indeterminate":o,"is--disabled":r.disabled}],title:n?"":e,onClick:()=>{if(!r.disabled){var e=r;const t=!e.checked;hr().eachTree([e],e=>{e.checked=t,e.halfChecked=!1}),$(e),_()}}},[(0,gr.h)("span",{class:["vxe-checkbox--icon",o?dl().TABLE_CHECKBOX_INDETERMINATE:l?dl().TABLE_CHECKBOX_CHECKED:dl().TABLE_CHECKBOX_UNCHECKED]}),n?(0,gr.h)("span",{key:"1",class:"vxe-checkbox--label",innerHTML:e}):(0,gr.h)("span",{key:"0",class:"vxe-checkbox--label"},e)]))}),y?(0,gr.h)(y,{id:"VXE_EXPORT_MODAL",modelValue:r.visible,title:j(i?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,minWidth:500,minHeight:400,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:M.loading,"onUpdate:modelValue"(e){r.visible=e},onShow:H},{default:()=>{var e={$table:k,$grid:k.xegrid,options:t,columns:c,params:t.params};return(0,gr.h)("div",{class:"vxe-table-export--panel"},[v?(0,gr.h)("div",{class:"vxe-table-export--panel-top"},k.callSlot(v,e)):(0,gr.createCommentVNode)(),(0,gr.h)("div",{class:"vxe-table-export--panel-body"},x?k.callSlot(x,e):[(0,gr.h)("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[(0,gr.h)("tbody",[[i?(0,gr.createCommentVNode)():(0,gr.h)("tr",[(0,gr.h)("td",j("vxe.export.expName")),(0,gr.h)("td",[R?(0,gr.h)(R,{ref:F,modelValue:t.filename,type:"text",clearable:!0,placeholder:j("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(e){t.filename=e}}):(0,gr.createCommentVNode)()])]),i?(0,gr.createCommentVNode)():(0,gr.h)("tr",[(0,gr.h)("td",j("vxe.export.expType")),(0,gr.h)("td",[E?(0,gr.h)(E,{modelValue:t.type,options:r.typeList,"onUpdate:modelValue"(e){t.type=e}}):(0,gr.createCommentVNode)()])]),i||m?(0,gr.h)("tr",[(0,gr.h)("td",j("vxe.export.expSheetName")),(0,gr.h)("td",[R?(0,gr.h)(R,{ref:D,modelValue:t.sheetName,type:"text",clearable:!0,placeholder:j("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(e){t.sheetName=e}}):(0,gr.createCommentVNode)()])]):(0,gr.createCommentVNode)(),(0,gr.h)("tr",[(0,gr.h)("td",j("vxe.export.expMode")),(0,gr.h)("td",[E?(0,gr.h)(E,{modelValue:t.mode,options:r.modeList.map(e=>({value:e.value,label:j(e.label)})),"onUpdate:modelValue"(e){t.mode=e}}):(0,gr.createCommentVNode)()])]),(0,gr.h)("tr",[(0,gr.h)("td",[j("vxe.export.expColumn")]),(0,gr.h)("td",[(0,gr.h)("div",{class:"vxe-table-export--panel-column"},[(0,gr.h)("ul",{class:"vxe-table-export--panel-column-header"},[(0,gr.h)("li",{class:["vxe-table-export--panel-column-option",{"is--checked":l,"is--indeterminate":o}],title:j("vxe.table.allTitle"),onClick:N},[(0,gr.h)("span",{class:["vxe-checkbox--icon",o?dl().TABLE_CHECKBOX_INDETERMINATE:l?dl().TABLE_CHECKBOX_CHECKED:dl().TABLE_CHECKBOX_UNCHECKED]}),(0,gr.h)("span",{class:"vxe-checkbox--label"},j("vxe.export.expCurrentColumn"))])]),(0,gr.h)("ul",{class:"vxe-table-export--panel-column-body"},u)])])]),(0,gr.h)("tr",[(0,gr.h)("td",j("vxe.export.expOpts")),C?(0,gr.h)("td",[(0,gr.h)("div",{class:"vxe-table-export--panel-option-row"},k.callSlot(C,e))]):(0,gr.h)("td",[(0,gr.h)("div",{class:"vxe-table-export--panel-option-row"},[S?(0,gr.h)(S,{modelValue:t.isHeader,title:j("vxe.export.expHeaderTitle"),content:j("vxe.export.expOptHeader"),"onUpdate:modelValue"(e){t.isHeader=e}}):(0,gr.createCommentVNode)(),S?(0,gr.h)(S,{modelValue:t.isFooter,disabled:!r.hasFooter,title:j("vxe.export.expFooterTitle"),content:j("vxe.export.expOptFooter"),"onUpdate:modelValue"(e){t.isFooter=e}}):(0,gr.createCommentVNode)(),S?(0,gr.h)(S,{modelValue:t.original,title:j("vxe.export.expOriginalTitle"),content:j("vxe.export.expOptOriginal"),"onUpdate:modelValue"(e){t.original=e}}):(0,gr.createCommentVNode)()]),(0,gr.h)("div",{class:"vxe-table-export--panel-option-row"},[S?(0,gr.h)(S,{modelValue:!!(d&&s&&h)&&t.isColgroup,title:j("vxe.export.expColgroupTitle"),disabled:!d||!s||!h,content:j("vxe.export.expOptColgroup"),"onUpdate:modelValue"(e){t.isColgroup=e}}):(0,gr.createCommentVNode)(),S?(0,gr.h)(S,{modelValue:!!(a&&h&&p)&&t.isMerge,title:j("vxe.export.expMergeTitle"),disabled:!a||!h||!p,content:j("vxe.export.expOptMerge"),"onUpdate:modelValue"(e){t.isMerge=e}}):(0,gr.createCommentVNode)(),i||!S?(0,gr.createCommentVNode)():(0,gr.h)(S,{modelValue:!!f&&t.useStyle,disabled:!f,title:j("vxe.export.expUseStyleTitle"),content:j("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(e){t.useStyle=e}}),S?(0,gr.h)(S,{modelValue:!!n&&t.isAllExpand,disabled:!n,title:j("vxe.export.expAllExpandTitle"),content:j("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(e){t.isAllExpand=e}}):(0,gr.createCommentVNode)()])])])]])])]),g?(0,gr.h)("div",{class:"vxe-table-export--panel-bottom"},k.callSlot(g,e)):(0,gr.createCommentVNode)()])},footer(){var e={$table:k,$grid:k.xegrid,options:t,columns:c,params:t.params};return(0,gr.h)("div",{class:"vxe-table-export--panel-footer"},b?k.callSlot(b,e):[(0,gr.h)("div",{class:"vxe-table-export--panel-btns"},[T?(0,gr.h)(T,{content:j("vxe.export.expCancel"),onClick:P}):(0,gr.createCommentVNode)(),T?(0,gr.h)(T,{ref:I,status:"primary",content:j(i?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:B}):(0,gr.createCommentVNode)()])])}}):(0,gr.createCommentVNode)()}}});const ul=mr.VxeUI["getIcon"];var nl=(0,gr.defineComponent)({name:"VxeTableMenuPanel",setup(e,t){var r=hr().uniqueId();const s=(0,gr.inject)("$xeTable",{}),l=s["reactData"],o=(0,gr.ref)(),n={refElem:o};r={xID:r,props:e,context:t,getRefMaps:()=>n};return r.renderVN=()=>{const i=l["ctxMenuStore"];var e=s.getComputeMaps()["computeMenuOpts"],e=e.value;return(0,gr.h)(gr.Teleport,{to:"body",disabled:!1},[(0,gr.h)("div",{ref:o,class:["vxe-table--context-menu-wrapper",e.className,{"is--visible":i.visible}],style:i.style},i.list.map((e,a)=>e.every(e=>!1===e.visible)?(0,gr.createCommentVNode)():(0,gr.h)("ul",{class:"vxe-context-menu--option-wrapper",key:a},e.map((o,n)=>{var e=o.children&&o.children.some(e=>!1!==e.visible),t=Object.assign({},o.prefixConfig),r=Object.assign({},o.suffixConfig);return!1===o.visible?null:(0,gr.h)("li",{class:[o.className,{"link--disabled":o.disabled,"link--active":o===i.selected}],key:a+"_"+n},[(0,gr.h)("a",{class:"vxe-context-menu--link",onClick(e){s.ctxMenuLinkEvent(e,o)},onMouseover(e){s.ctxMenuMouseoverEvent(e,o)},onMouseout(e){s.ctxMenuMouseoutEvent(e,o)}},[(0,gr.h)("div",{class:["vxe-context-menu--link-prefix",t.className||""]},[(0,gr.h)("i",{class:t.icon||o.prefixIcon}),t.content?(0,gr.h)("span",{},""+t.content):(0,gr.createCommentVNode)()]),(0,gr.h)("div",{class:"vxe-context-menu--link-content"},Nr(o.name)),(0,gr.h)("div",{class:["vxe-context-menu--link-suffix",r.className||""]},[(0,gr.h)("i",{class:r.icon||o.suffixIcon||(e?ul().TABLE_MENU_OPTIONS:"")}),r.content?(0,gr.h)("span",""+r.content):(0,gr.createCommentVNode)()])]),e?(0,gr.h)("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":o===i.selected&&i.showChild}]},o.children.map((t,e)=>{var r=Object.assign({},t.prefixConfig),l=Object.assign({},t.suffixConfig);return!1===t.visible?null:(0,gr.h)("li",{class:[t.className,{"link--disabled":t.disabled,"link--active":t===i.selectChild}],key:a+`_${n}_`+e},[(0,gr.h)("a",{class:"vxe-context-menu--link",onClick(e){s.ctxMenuLinkEvent(e,t)},onMouseover(e){s.ctxMenuMouseoverEvent(e,o,t)},onMouseout(e){s.ctxMenuMouseoutEvent(e,o)}},[(0,gr.h)("div",{class:["vxe-context-menu--link-prefix",r.className||""]},[(0,gr.h)("i",{class:r.icon||t.prefixIcon}),r.content?(0,gr.h)("span",""+r.content):(0,gr.createCommentVNode)()]),(0,gr.h)("div",{class:"vxe-context-menu--link-content"},Nr(t.name)),(0,gr.h)("div",{class:["vxe-context-menu--link-suffix",l.className||""]},[(0,gr.h)("i",{class:l.icon}),l.content?(0,gr.h)("span",""+l.content):(0,gr.createCommentVNode)()])])])})):null])}))))])},r},render(){return this.renderVN()}});const{getConfig:Dr,getI18n:pl,renderer:ml,formats:hl,createEvent:fl,globalResize:vl,interceptor:gl,hooks:xl,globalEvents:Or,GLOBAL_EVENT_KEYS:Ar,useFns:bl,renderEmptyElement:Vr}=mr.VxeUI,Cl="VXE_CUSTOM_STORE";var ie=(0,gr.defineComponent)({name:"VxeTable",props:H,emits:ue,setup(q,t){const{slots:X,emit:l}=t,he=hr().uniqueId(),fe=mr.VxeUI.getComponent("VxeLoading"),K=mr.VxeUI.getComponent("VxeTooltip"),r=(0,gr.inject)("$xeTabs",null),ve=bl.useSize(q)["computeSize"],Y=(0,gr.reactive)({isCalcColumn:!1,staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,selectCheckboxMaps:{},currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],expandColumn:null,treeNodeColumn:null,hasFixedColumn:!1,rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},treeIndeterminateMaps:{},mergeList:[],mergeFooterList:[],upDataFlag:0,reColumnFlag:0,pendingRowMaps:{},pendingRowList:[],initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0,oldSortMaps:{},oldFixedMaps:{},oldVisibleMaps:{}},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],autoMinList:[],scaleList:[],scaleMinList:[],autoList:[],remainList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null},insertMaps:{},removeMaps:{}},tooltipStore:{row:null,column:null,content:null,visible:!1,currOpts:{}},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isFooter:!1},scrollVMLoading:!1,isDragRowMove:!1,dragRow:null,isDragColMove:!1,dragCol:null,dragTipText:"",_isResize:!1,_isLoading:!1}),G={tZindex:0,elemStore:{},scrollXStore:{offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},scrollYStore:{rowHeight:0,offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,headerHeight:0,footerHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},sourceDataRowIdData:{},fullDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},columnStatusMaps:{},rowStatusMaps:{},inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1};let Z={},Q={};const J=(0,gr.ref)(),ee=(0,gr.ref)(),ge=(0,gr.ref)(),xe=(0,gr.ref)(),be=(0,gr.ref)(),Ce=(0,gr.ref)(),we=(0,gr.ref)(),te=(0,gr.ref)(),re=(0,gr.ref)(),le=(0,gr.ref)(),c=(0,gr.ref)(),p=(0,gr.ref)(),d=(0,gr.ref)(),h=(0,gr.ref)(),m=(0,gr.ref)(),v=(0,gr.ref)(),P=(0,gr.ref)(),B=(0,gr.ref)(),ye=(0,gr.ref)(),Te=(0,gr.ref)(),Ee=(0,gr.ref)(),Re=(0,gr.ref)(),Se=(0,gr.ref)(),ke=(0,gr.ref)(),Me=(0,gr.ref)(),Ie=(0,gr.ref)(),Fe=(0,gr.ref)(),De=(0,gr.ref)(),Oe=(0,gr.ref)(),Ae=(0,gr.ref)(),oe=(0,gr.inject)("$xeGrid",null);let g;const s=(0,gr.computed)(()=>{var e=q["id"];return e?hr().isFunction(e)?""+(e({$table:pe,$grid:oe})||""):""+e:""}),Ve=(0,gr.computed)(()=>Object.assign({},Dr().table.validConfig,q.validConfig)),b=(0,gr.computed)(()=>Object.assign({},Dr().table.scrollX,q.scrollX)),F=(0,gr.computed)(()=>{var e=b.value["threshold"];return e?hr().toNumber(e):0}),C=(0,gr.computed)(()=>Object.assign({},Dr().table.scrollY,q.scrollY)),D=(0,gr.computed)(()=>{var e=C.value["threshold"];return e?hr().toNumber(e):0}),x=(0,gr.computed)(()=>({default:48,medium:44,small:40,mini:36})),ne=(0,gr.computed)(()=>Object.assign({},Dr().table.columnConfig,q.columnConfig));var e=(0,gr.computed)(()=>Object.assign({},Dr().table.cellConfig,q.cellConfig));const ae=(0,gr.computed)(()=>Object.assign({},Dr().table.rowConfig,q.rowConfig)),k=(0,gr.computed)(()=>Object.assign({},Dr().table.rowDragConfig,q.rowDragConfig)),M=(0,gr.computed)(()=>Object.assign({},Dr().table.columnDragConfig,q.columnDragConfig)),I=(0,gr.computed)(()=>Object.assign({},Dr().table.resizeConfig,q.resizeConfig)),Le=(0,gr.computed)(()=>Object.assign({},Dr().table.resizableConfig,q.resizableConfig));var o=(0,gr.computed)(()=>Object.assign({startIndex:0},Dr().table.seqConfig,q.seqConfig));const E=(0,gr.computed)(()=>Object.assign({},Dr().table.radioConfig,q.radioConfig)),ie=(0,gr.computed)(()=>Object.assign({},Dr().table.checkboxConfig,q.checkboxConfig));(0,gr.ref)();let u;u=(0,gr.computed)(()=>Object.assign({},Dr().tooltip,Dr().table.tooltipConfig,q.tooltipConfig));const $e=(0,gr.computed)(()=>{return{...u.value}}),_e=(0,gr.computed)(()=>{var e=u.value;return Object.assign({isArrow:!1},e)}),se=(0,gr.computed)(()=>Object.assign({},Dr().table.editConfig,q.editConfig)),w=(0,gr.computed)(()=>Object.assign({orders:["asc","desc",null]},Dr().table.sortConfig,q.sortConfig)),O=(0,gr.computed)(()=>Object.assign({},Dr().table.filterConfig,q.filterConfig)),ce=(0,gr.computed)(()=>Object.assign({},Dr().table.mouseConfig,q.mouseConfig)),Ne=(0,gr.computed)(()=>Object.assign({},Dr().table.areaConfig,q.areaConfig)),de=(0,gr.computed)(()=>Object.assign({},Dr().table.keyboardConfig,q.keyboardConfig));var n=(0,gr.computed)(()=>Object.assign({},Dr().table.clipConfig,q.clipConfig)),a=(0,gr.computed)(()=>Object.assign({},Dr().table.fnrConfig,q.fnrConfig));const A=(0,gr.computed)(()=>Object.assign({},Dr().table.menuConfig,q.menuConfig)),V=(0,gr.computed)(()=>{var e=A.value.header;return e&&e.options?e.options:[]}),He=(0,gr.computed)(()=>{var e=A.value.body;return e&&e.options?e.options:[]}),L=(0,gr.computed)(()=>{var e=A.value.footer;return e&&e.options?e.options:[]}),Pe=(0,gr.computed)(()=>{var e=A.value,t=V.value,r=He.value,l=L.value;return!!(q.menuConfig&&fr(e)&&(t.length||r.length||l.length))}),Be=(0,gr.computed)(()=>{var e=Y["ctxMenuStore"];const t=[];return e.list.forEach(e=>{e.forEach(e=>{t.push(e)})}),t}),$=(0,gr.computed)(()=>Object.assign({},Dr().table.exportConfig,q.exportConfig)),_=(0,gr.computed)(()=>Object.assign({},Dr().table.importConfig,q.importConfig));var N=(0,gr.computed)(()=>Object.assign({},Dr().table.printConfig,q.printConfig));const R=(0,gr.computed)(()=>Object.assign({},Dr().table.expandConfig,q.expandConfig)),ue=(0,gr.computed)(()=>Object.assign({},Dr().table.treeConfig,q.treeConfig)),je=(0,gr.computed)(()=>Object.assign({},Dr().table.emptyRender,q.emptyRender)),Ue=(0,gr.computed)(()=>Object.assign({},Dr().table.loadingConfig,q.loadingConfig)),j=(0,gr.computed)(()=>q.border?Math.max(2,Math.ceil(Y.scrollbarWidth/Y.tableColumn.length)):1),H=(0,gr.computed)(()=>Object.assign({},Dr().table.customConfig,q.customConfig)),U=(0,gr.computed)(()=>{var e=G["visibleColumn"],t=Y["tableColumn"];return t.length||e.length?e.filter(e=>"auto"===e.width||"auto"===e.minWidth):[]}),z=(0,gr.computed)(()=>{var e=G["collectColumn"];let t=0;return e.forEach(e=>{e.renderFixed&&t++}),t}),W=(0,gr.computed)(()=>{var e=z.value,t=ne.value["maxFixedSize"];return!!t&&t<=e}),ze=(0,gr.computed)(()=>{var e=q["border"];return!0===e?"full":e||"default"});var We=(0,gr.computed)(()=>{var{}=q,e=Y["tableData"],t=G["tableFullData"];const{strict:r,checkMethod:l}=ie.value;return!!r&&(!e.length&&!t.length||!!l&&t.every(e=>!l({row:e})))});const qe=(0,gr.computed)(()=>{var{overflowX:e,scrollXLoad:t,overflowY:r,scrollYLoad:l}=Y;return{x:e&&t,y:r&&l}}),Xe={refElem:J,refTooltip:ee,refValidTooltip:xe,refTableFilter:Ce,refTableCustom:we,refTableMenu:be,refTableHeader:te,refTableBody:re,refTableFooter:le,refTableLeftHeader:c,refTableLeftBody:p,refTableLeftFooter:d,refTableRightHeader:h,refTableRightBody:m,refTableRightFooter:v,refLeftContainer:P,refRightContainer:B,refCellResizeBar:ye,refCellResizeTip:Te,refScrollXVirtualElem:Me,refScrollYVirtualElem:Ie,refScrollXHandleElem:Fe,refScrollYHandleElem:De,refScrollXSpaceElem:Oe,refScrollYSpaceElem:Ae},Ke={computeSize:ve,computeTableId:s,computeValidOpts:Ve,computeSXOpts:b,computeSYOpts:C,computeColumnOpts:ne,computeCellOpts:e,computeRowOpts:ae,computeRowDragOpts:k,computeColumnDragOpts:M,computeResizeOpts:I,computeResizableOpts:Le,computeSeqOpts:o,computeRadioOpts:E,computeCheckboxOpts:ie,computeTooltipOpts:u,computeEditOpts:se,computeSortOpts:w,computeFilterOpts:O,computeMouseOpts:ce,computeAreaOpts:Ne,computeKeyboardOpts:de,computeClipOpts:n,computeFNROpts:a,computeHeaderMenu:V,computeBodyMenu:He,computeFooterMenu:L,computeIsMenu:Pe,computeMenuOpts:A,computeExportOpts:$,computeImportOpts:_,computePrintOpts:N,computeExpandOpts:R,computeTreeOpts:ue,computeEmptyOpts:je,computeLoadingOpts:Ue,computeCustomOpts:H,computeFixedColumnSize:z,computeIsMaxFixedColumn:W,computeIsAllCheckboxDisabled:We,computeVirtualScrollBars:qe},pe={xID:he,props:q,context:t,reactData:Y,internalData:G,getRefMaps:()=>Xe,getComputeMaps:()=>Ke,xegrid:oe},Ye=(e,t,r)=>{e=hr().get(e,r),t=hr().get(t,r);return!(!Hr(e)||!Hr(t))||(hr().isString(e)||hr().isNumber(e)?""+e==""+t:hr().isEqual(e,t))},Ge=e=>{var t=w.value["orders"],e=e.order||null,e=t.indexOf(e)+1;return t[e<t.length?e:0]},Ze=e=>{var t=Dr().version,r=hr().toStringJSON(localStorage.getItem(Cl)||""),r=r&&r._v===t?r:{_v:t};return(e?r[e]:r)||{}},Qe=e=>{const r=G["fullAllDataRowIdData"],l={};return hr().each(e,(e,t)=>{r[t]&&(l[t]=e)}),l},Je=e=>{const r=G["fullDataRowIdData"],l=[];return hr().each(e,(e,t)=>{r[t]&&-1===pe.findRowIndexOf(l,r[t].row)&&l.push(r[t].row)}),l},et=()=>{var n=G["visibleColumn"],e=re.value,e=e?e.$el:null;if(e){var{scrollLeft:a,clientWidth:e}=e,i=a+e;let r=-1,l=0,o=0;for(let e=0,t=n.length;e<t&&(l+=n[e].renderWidth,!(0<=(r=-1===r&&a<l?e:r)&&(o++,l>i)));e++);return{toVisibleIndex:Math.max(0,r),visibleSize:Math.max(6,o)}}return{toVisibleIndex:0,visibleSize:6}},tt=()=>{var t=q["showOverflow"],r=te.value,l=re.value,l=l?l.$el:null,o=ve.value,n=x.value;let a=24;if(t&&l){t=r?r.$el:null;let e;!(e=l.querySelector("tr"))&&t&&(e=t.querySelector("tr")),a=(a=e?e.clientHeight:a)||n[o||"default"]}return a},rt=()=>{var{scrollYStore:e,afterFullData:n,fullAllDataRowIdData:a}=G,t=re.value,t=t?t.$el:null,i=e["rowHeight"];if(t){var{scrollTop:s,clientHeight:e}=t,c=s+e;let r=-1,l=0,o=0;for(let e=0,t=n.length;e<t;e++){var d=n[e],d=a[Tr(pe,d)];if(!d)break;if(l+=d.height||i,0<=(r=-1===r&&s<l?e:r)&&(o++,l>c))break}return{toVisibleIndex:Math.max(0,r),visibleSize:Math.max(8,o)}}return{toVisibleIndex:0,visibleSize:8}},lt=(r,l,o)=>{for(let e=0,t=r.length;e<t;e++){var n=r[e],{startIndex:a,endIndex:i}=l,s=n[o],n=s+n[o+"span"];s<a&&a<n&&(l.startIndex=s),s<i&&i<n&&(l.endIndex=n),l.startIndex===a&&l.endIndex===i||(e=-1)}},ot=(e,a,i)=>{if(e){var t=q["treeConfig"];const s=G["visibleColumn"];hr().isArray(e)||(e=[e]),t&&e.length&&Ir("vxe.error.noTree",["merge-cells | merge-footer-items"]),e.forEach(e=>{let{row:t,col:r,rowspan:l,colspan:o}=e;var n;i&&hr().isNumber(t)&&(t=i[t]),hr().isNumber(r)&&(r=s[r]),(i?t:hr().isNumber(t))&&r&&(l||o)&&(l=hr().toNumber(l)||1,o=hr().toNumber(o)||1,1<l||1<o)&&(e=hr().findIndexOf(a,e=>!(e._row!==t&&Tr(pe,e._row)!==Tr(pe,t)||e._col.id!==r&&e._col.id!==r.id)),(e=a[e])?(e.rowspan=l,e.colspan=o,e._rowspan=l,e._colspan=o):(e=i?pe.findRowIndexOf(i,t):t,n=Z.getVTColumnIndex(r),a.push({row:e,col:n,rowspan:l,colspan:o,_row:t,_col:r,_rowspan:l,_colspan:o})))})}},nt=(e,l,o)=>{const n=[];if(e){var t=q["treeConfig"];const a=G["visibleColumn"];hr().isArray(e)||(e=[e]),t&&e.length&&Ir("vxe.error.noTree",["merge-cells | merge-footer-items"]),e.forEach(e=>{let{row:t,col:r}=e;o&&hr().isNumber(t)&&(t=o[t]),hr().isNumber(r)&&(r=a[r]);var e=hr().findIndexOf(l,e=>!(e._row!==t&&Tr(pe,e._row)!==Tr(pe,t)||e._col.id!==r&&e._col.id!==r.id));-1<e&&(e=l.splice(e,1),n.push(e[0]))})}return n},at=()=>{var e=G["tableFullColumn"];e.forEach(e=>{e.order=null})},it=e=>{var t,r=Y["parentHeight"],e=q[e];let l=0;return l=e?"100%"===e||"auto"===e?r:(t=pe.getExcludeHeight(),l=Br(e)?Math.floor((hr().toInteger(e)||1)/100*r):hr().toNumber(e),Math.max(40,l-t)):l},st=e=>{var t=G["collectColumn"];const{resizableData:a,sortData:i,visibleData:s,fixedData:c}=e;let d=!1;(a||i||s||c)&&(hr().eachTree(t,(e,t,r,l,o)=>{var n=e.getKey();o||(c&&c[n]&&(e.fixed=c[n]),i&&hr().isNumber(i[n])&&(d=!0,e.renderSortNumber=i[n])),a&&hr().isNumber(a[n])&&(e.resizeWidth=a[n]),s&&hr().isBoolean(s[n])&&(e.visible=s[n])}),d)&&(t=hr().orderBy(t,"renderSortNumber"),G.collectColumn=t,G.tableFullColumn=Ot(t))},ct=()=>{var{tableFullColumn:e,collectColumn:t}=G;const d=G.fullColumnIdData={},u=G.fullColumnFieldData={};var r=ce.value,l=ne.value,o=ae.value,n=t.some(_r);let p=!!q.showOverflow,m,h,f,v,g,x;const a=(e,t,r,l,o)=>{var{id:n,field:a,fixed:i,type:s,treeNode:c}=e,t={$index:-1,_index:-1,column:e,colid:n,index:t,items:r,parent:o||null,width:0};a&&(u[a]&&Mr("vxe.error.colRepet",["field",a]),u[a]=t),!x&&i&&(x=i),g||"html"!==s||(g=e),c?(h&&Mr("vxe.error.colRepet",["tree-node",c]),h=h||e):"expand"===s&&(m&&Mr("vxe.error.colRepet",["type",s]),m=m||e),"checkbox"===s?(f&&Mr("vxe.error.colRepet",["type",s]),f=f||e):"radio"===s&&(v&&Mr("vxe.error.colRepet",["type",s]),v=v||e),p&&!1===e.showOverflow&&(p=!1),d[n]&&Ir("vxe.error.colRepet",["colId",n]),d[n]=t};n?hr().eachTree(t,(e,t,r,l,o,n)=>{e.level=n.length,a(e,t,r,0,o)}):e.forEach(a),m&&r.area&&Ir("vxe.error.errConflicts",["mouse-config.area","column.type=expand"]),g&&(l.useKey||Ir("vxe.error.reqProp",["column-config.useKey","column.type=html"]),o.useKey||Ir("vxe.error.reqProp",["row-config.useKey","column.type=html"])),Y.isGroup=n,Y.treeNodeColumn=h,Y.expandColumn=m,Y.isAllOverflow=p},dt=()=>{G.customHeight=it("height"),G.customMinHeight=it("minHeight"),G.customMaxHeight=it("maxHeight")},ut=()=>{var e=Y["tableData"];const t=U.value;return e.length&&t.length?(Y.isCalcColumn=!0,(0,gr.nextTick)().then(()=>{const a=G["fullColumnIdData"],i=J.value;i&&(t.forEach(e=>{var t=e.id,t=a[t],r=i.querySelectorAll(`.vxe-header--column.${e.id}>.vxe-cell,.vxe-body--column.${e.id}>.vxe-cell,.vxe-footer--column.${e.id}>.vxe-cell`),l=r[0];let o=0,n=(l&&(l=getComputedStyle(l),o=Math.floor(hr().toNumber(l.paddingLeft)+hr().toNumber(l.paddingRight))+2),e.renderAutoWidth-o);hr().arrayEach(r,e=>{var t=e.parentElement;let r=0;"th"===(""+t.tagName).toLowerCase()?hr().arrayEach(e.children,e=>{r+=e.offsetWidth+1}):(t=e.firstElementChild)&&(r=t.offsetWidth),r&&(n=Math.max(n,Math.ceil(r)+4))}),t&&(t.width=Math.max(n,t.width)),e.renderAutoWidth=n+o}),Q.analyColumnWidth()),Y.isCalcColumn=!1})):(Y.isCalcColumn=!1,gr.nextTick)()},pt=()=>{var i=te.value,s=re.value,c=le.value;const d=s?s.$el:null,u=i?i.$el:null;s=c?c.$el:null;if(d){let r=0;i=d.clientWidth-1,c=i;let l=c/100;var p=q["fit"],m=Y["columnStore"],{resizeList:m,pxMinList:h,autoMinList:f,pxList:v,scaleList:g,scaleMinList:x,autoList:b,remainList:C}=m;if(h.forEach(e=>{var t=hr().toInteger(e.minWidth);r+=t,e.renderWidth=t}),f.forEach(e=>{var t=Math.max(60,hr().toInteger(e.renderAutoWidth));r+=t,e.renderWidth=t}),x.forEach(e=>{var t=Math.floor(hr().toInteger(e.minWidth)*l);r+=t,e.renderWidth=t}),g.forEach(e=>{var t=Math.floor(hr().toInteger(e.width)*l);r+=t,e.renderWidth=t}),v.forEach(e=>{var t=hr().toInteger(e.width);r+=t,e.renderWidth=t}),b.forEach(e=>{var t=Math.max(60,hr().toInteger(e.renderAutoWidth));r+=t,e.renderWidth=t}),m.forEach(e=>{var t=hr().toInteger(e.resizeWidth);r+=t,e.renderWidth=t}),c-=r,l=0<c?Math.floor(c/(x.length+h.length+f.length+C.length)):0,p?0<c&&x.concat(h).concat(f).forEach(e=>{r+=l,e.renderWidth+=l}):l=40,C.forEach(e=>{var t=Math.max(l,40);e.renderWidth=t,r+=t}),p){var w=g.concat(x).concat(h).concat(f).concat(C);let t=w.length-1;if(0<t){let e=i-r;if(0<e){for(;0<e&&0<=t;)e--,w[t--].renderWidth++;r=i}}}v=d.offsetHeight,b=d.scrollHeight>d.clientHeight;let e=0,t=(b&&(e=Math.max(d.offsetWidth-d.clientWidth,0)),Y.scrollbarWidth=e,Y.overflowY=b,G.tableWidth=r,G.tableHeight=v,0),o=(u&&(t=u.clientHeight,(0,gr.nextTick)(()=>{u&&d&&u.scrollLeft!==d.scrollLeft&&(u.scrollLeft=d.scrollLeft)})),G.headerHeight=t,!1),n=0,a=0;a=s?(n=s.offsetHeight,o=r>s.clientWidth,Math.max(n-s.clientHeight,0)):(o=r>i,Math.max(v-d.clientHeight,0)),G.footerHeight=n,Y.overflowX=o,Y.scrollbarHeight=a,dt(),Y.parentHeight=Math.max(G.headerHeight+n+20,Q.getParentHeight()),o&&Q.checkScrolling()}},mt=()=>{var e=q["showOverflow"];const{tableData:t,scrollXLoad:d,scrollYLoad:r}=Y,u=G["fullAllDataRowIdData"],p=J.value;if(!e&&(d||r)&&p){let i=0,s=0,c=!1;t.forEach(e=>{var e=Tr(pe,e),t=u[e],l=p.querySelectorAll(`.vxe-body--row[rowid="${e}"]`);if(t&&l.length){let r=0;for(let e=0;e<l.length;e++){var o=l[e].children;for(let t=0;t<o.length;t++){var n=o[t],a=n.querySelector(".vxe-cell");c||(i=hr().toNumber(getComputedStyle(n).paddingTop),s=hr().toNumber(getComputedStyle(n).paddingBottom),c=!0);let e=i+s;a&&(e+=a.offsetHeight),r=Math.max(r,e)}}t.height=d?Math.max(t.height,r):r}})}},ht=r=>{const{sortBy:l,sortType:o}=r;return e=>{let t;return t=l?hr().isFunction(l)?l({row:e,column:r}):hr().get(e,l):Z.getCellLabel(e,r),o&&"auto"!==o?"number"===o?hr().toNumber(t):"string"===o?hr().toValueString(t):t:isNaN(t)?t:hr().toNumber(t)}},ft=()=>{var e=q["treeConfig"];const{afterFullData:t,fullDataRowIdData:o,fullAllDataRowIdData:n}=G;var r=ue.value;e&&r.transform&&t.forEach((e,t)=>{var r=Tr(pe,e),l=n[r];l?l._index=t:(l={row:e,rowid:r,seq:"-1",index:-1,$index:-1,_index:t,items:[],parent:null,level:0,height:0},n[r]=l,o[r]=l)})},vt=()=>{var e=q["treeConfig"];const{afterFullData:t,fullDataRowIdData:a,fullAllDataRowIdData:i,afterTreeFullData:r}=G;var l=ue.value,o=l.children||l.childrenField;const s={};e?(hr().eachTree(r,(e,t,r,l)=>{var o=Tr(pe,e),n=i[o],l=l.map((e,t)=>t%2==0?Number(e)+1:".").join("");n?n.seq=l:(n={row:e,rowid:o,seq:l,index:-1,$index:-1,_index:-1,items:[],parent:null,level:0,height:0},i[o]=n,a[o]=n),s[o]=e},{children:l.transform?l.mapChildrenField:o}),ft()):t.forEach((e,t)=>{var r=Tr(pe,e),l=i[r],o=t+1;l?(l.seq=o,l._index=t):(l={row:e,rowid:r,seq:o,index:-1,$index:-1,_index:t,items:[],parent:null,level:0,height:0},i[r]=l,a[r]=l),s[r]=e}),G.afterFullRowMaps=s},i=()=>{var e=q["treeConfig"];const i=Y["treeExpandedMaps"],s=G["fullAllDataRowIdData"];var t=ue.value,r=t.children||t.childrenField;if(e&&t.transform){const c=[],d={};return hr().eachTree(G.afterTreeFullData,(e,t,r,l,o)=>{var n=Tr(pe,e),a=Tr(pe,o);(!o||d[a]&&i[a])&&((o=s[n])&&(o._index=c.length),d[n]=1,c.push(e))},{children:r}),G.afterFullData=c,Lt(c),c}return G.afterFullData},y=()=>{const{border:u,showFooter:p,showOverflow:m,showHeaderOverflow:h,showFooterOverflow:f,mouseConfig:e,spanMethod:v,footerSpanMethod:g,keyboardConfig:x}=q,{isGroup:b,currentRow:t,tableColumn:C,scrollXLoad:w,scrollYLoad:y,overflowX:r,scrollbarWidth:T,scrollbarHeight:E,columnStore:l,editStore:o,mergeList:R,mergeFooterList:S,isAllOverflow:k}=Y;let{visibleColumn:M,fullColumnIdData:I,tableHeight:F,tableWidth:D,headerHeight:O,footerHeight:A,elemStore:V,customHeight:L,customMinHeight:$,customMaxHeight:_}=G;var n=Ee.value;const N=j.value;var a=ce.value;const H=de.value;var i=Sr(V["main-body-wrapper"]),n=(n&&(n.style.top=O+"px",n.style.height=i?i.offsetHeight-E+"px":""),0<L&&p&&(L+=E),Me.value),i=(n&&(n.style.height=E+"px"),Ie.value);if(i){let e=0,t=0;n=$-O-A;_&&(t=_-O-A,t=Math.max(n,t)),L&&(e=L-O-A,t&&(e=Math.min(t,e)),e=Math.max(n,e)),i.style.top=O+"px",i.style.width=T+"px",i.style.height=e+(r?-Math.max(1,E):0)+"px"}return["main","left","right"].forEach((s,e)=>{const n=0<e?s:"";const a="left"===n;let c=[],d;n&&(c=a?l.leftList:l.rightList,d=(a?P:B).value),["header","body","footer"].forEach(i=>{var r=Sr(V[s+`-${i}-wrapper`]),t=Sr(V[s+`-${i}-table`]);if("header"===i){D;let e=C;b?e=M:n&&(w||h)&&(e=c),l=e.reduce((e,t)=>e+t.renderWidth,0),t&&(t.style.width=l?l+T+"px":"");var l=Sr(V[s+`-${i}-repair`]),l=(l&&(l.style.width=D+"px"),Sr(V[s+`-${i}-list`]));b&&l&&hr().arrayEach(l.querySelectorAll(".col--group"),e=>{var l=Z.getColumnNode(e);if(l){const o=l.item;l=o["showHeaderOverflow"],l=hr().isBoolean(l)?l:h,l="title"===l||(!0===l||"tooltip"===l)||"ellipsis"===l;let t=0,r=0;l&&hr().eachTree(o.children,e=>{e.children&&o.children.length||r++,t+=e.renderWidth},{children:"children"}),e.style.width=l?t-r-(u?2:0)+"px":""}})}else if("body"===i){l=Sr(V[s+`-${i}-emptyBlock`]);if(zr(r)){let t=0;var o=$-O-A;if(_&&(t=_-O-A,n&&(t-=p?0:E),t=Math.max(o,t),r.style.maxHeight=t+"px"),L){let e=L-O-A;n&&(e-=p?0:E),t&&(e=Math.min(t,e)),r.style.height=Math.max(o,e)+"px"}else r.style.height="";r.style.minHeight=o+"px"}d&&(zr(r)&&(r.style.top=O+"px"),d.style.height=(0<L?L-O-A:F)+O+A-E*(p?2:1)+"px",d.style.width=c.reduce((e,t)=>e+t.renderWidth,a?0:T)+"px");D;let e=C;o=(e=n?Y.expandColumn||!(y||m&&k)||R.length||v||x&&H.isMerge?M:c:e).reduce((e,t)=>e+t.renderWidth,0),t&&(t.style.width=o?o+"px":"",t.style.paddingRight=T&&n&&(al["-moz"]||al.safari)?T+"px":""),l&&(l.style.width=o?o+"px":"")}else if("footer"===i){D;let e=C;l=(e=n?Y.expandColumn||!w&&!f||S.length&&g?M:c:e).reduce((e,t)=>e+t.renderWidth,0),zr(r)&&(d&&(r.style.top=`${0<L?L-A:F+O}px`),r.style.marginTop=-Math.max(1,E)+"px"),t&&(t.style.width=l?l+T+"px":"")}o=Sr(V[s+`-${i}-colgroup`]);o&&hr().arrayEach(o.children,t=>{var r=t.getAttribute("name");if("col_gutter"===r&&(t.style.width=T+"px"),I[r]){const a=I[r].column;var{showHeaderOverflow:r,showFooterOverflow:l,showOverflow:o}=a;let e;t.style.width=a.renderWidth+"px";t="ellipsis"===(e="header"===i?hr().isUndefined(r)||hr().isNull(r)?h:r:"footer"===i?hr().isUndefined(l)||hr().isNull(l)?f:l:hr().isUndefined(o)||hr().isNull(o)?m:o),r="title"===e,l=!0===e||"tooltip"===e;let n=r||l||t;o=Sr(V[s+`-${i}-list`]);y&&!n&&(n=!0),o&&hr().arrayEach(o.querySelectorAll("."+a.id),e=>{var t=parseInt(e.getAttribute("colspan")||1),e=e.querySelector(".vxe-cell");let r=a.renderWidth;if(e){if(1<t){var l=Z.getColumnIndex(a);for(let e=1;e<t;e++){var o=Z.getColumns(l+e);o&&(r+=o.renderWidth)}}e.style.width=n?r-N*t+"px":""}})}})})}),t&&Z.setCurrentRow(t),e&&a.selected&&o.selected.row&&o.selected.column&&pe.addCellSelectedClass(),(0,gr.nextTick)()},gt=e=>pe.triggerValidate?pe.triggerValidate(e):(0,gr.nextTick)(),xt=(e,t)=>{gt("blur").catch(e=>e).then(()=>{pe.handleEdit(t,e).then(()=>gt("change")).catch(e=>e)})},T=(e,t)=>{var r,l=G["checkboxReserveRowMap"];ie.value.reserve&&(r=Tr(pe,e),t?l[r]=e:l[r]&&delete l[r])},bt=(e,t)=>{var r=E.value["checkMethod"];return e&&(t||!r||r({row:e}))&&(Y.selectRadioRow=e,t=e,E.value.reserve)&&(G.radioReserveRow=t),(0,gr.nextTick)()},S=(e,t,r)=>(e&&!hr().isArray(e)&&(e=[e]),Q.handleBatchSelectRows(e,!!t,r),Q.checkSelectionStatus(),(0,gr.nextTick)()),Ct=(t,r)=>{const l=q["treeConfig"],o=Y["selectCheckboxMaps"],{afterFullData:e,checkboxReserveRowMap:n}=G;var a=ue.value,a=a.children||a.childrenField,i=ie.value;const{checkField:s,reserve:c,checkStrictly:d,checkMethod:u}=i,p=i.indeterminateField||i.halfField,m={};return d?Y.isAllSelected=t:(s?(i=e=>{!r&&u&&!u({row:e})||(t&&(m[Tr(pe,e)]=e),hr().set(e,s,t)),l&&p&&hr().set(e,p,!1)},l?hr().eachTree(e,i,{children:a}):e.forEach(i)):l?t?hr().eachTree(e,e=>{!r&&u&&!u({row:e})||(m[Tr(pe,e)]=e)},{children:a}):!r&&u&&hr().eachTree(e,e=>{var t=Tr(pe,e);!u({row:e})&&o[t]&&(m[t]=e)},{children:a}):t?!r&&u?e.forEach(e=>{var t=Tr(pe,e);(o[t]||u({row:e}))&&(m[t]=e)}):e.forEach(e=>{m[Tr(pe,e)]=e}):!r&&u&&e.forEach(e=>{var t=Tr(pe,e);!u({row:e})&&o[t]&&(m[t]=e)}),c&&(t?hr().each(m,(e,t)=>{n[t]=e}):e.forEach(e=>T(e,!1))),Y.selectCheckboxMaps=s?{}:m),Y.treeIndeterminateMaps={},G.treeIndeterminateRowMaps={},Q.checkSelectionStatus(),(0,gr.nextTick)()},wt=n=>{var e=ue.value,t=ie.value;const{transform:a,loadMethod:i}=e,s=t["checkStrictly"];return new Promise(e=>{if(i){const r=Y["treeExpandLazyLoadedMaps"];var t=G["fullAllDataRowIdData"];const l=Tr(pe,n),o=t[l];r[l]=n,Promise.resolve(i({$table:pe,row:n})).then(e=>{if(o&&(o.treeLoaded=!0),r[l]&&delete r[l],e=hr().isArray(e)?e:[])return Z.loadTreeChildren(n,e).then(e=>{var t=Y["treeExpandedMaps"];return e.length&&!t[l]&&(t[l]=n),!s&&Z.isCheckedByCheckboxRow(n)&&S(e,!0),(0,gr.nextTick)().then(()=>{if(a)return Q.handleTableData(),ft(),(0,gr.nextTick)()})})}).catch(()=>{var e=Y["treeExpandLazyLoadedMaps"];o&&(o.treeLoaded=!1),e[l]&&delete e[l]}).finally(()=>{(0,gr.nextTick)().then(()=>Z.recalculate()).then(()=>e())})}else e()})},yt=(e,t)=>{var r,l=G["treeExpandedReserveRowMap"];ue.value.reserve&&(r=Tr(pe,e),t?l[r]=e:l[r]&&delete l[r])},Tt=a=>new Promise(t=>{var e=R.value["loadMethod"];if(e){var r=G["fullAllDataRowIdData"],l=Y["rowExpandLazyLoadedMaps"];const o=Tr(pe,a),n=r[o];l[o]=a,e({$table:pe,row:a,rowIndex:Z.getRowIndex(a),$rowIndex:Z.getVMRowIndex(a)}).then(()=>{var e=Y["rowExpandedMaps"];n&&(n.expandLoaded=!0),e[o]=a}).catch(()=>{n&&(n.expandLoaded=!1)}).finally(()=>{var e=Y["rowExpandLazyLoadedMaps"];e[o]&&delete e[o],(0,gr.nextTick)().then(()=>Z.recalculate()).then(()=>t())})}else t()}),Et=(e,t)=>{var r,l=G["rowExpandedReserveRowMap"];R.value.reserve&&(r=Tr(pe,e),t?l[r]=e:l[r]&&delete l[r])},Rt=()=>(0,gr.nextTick)().then(()=>{var{scrollXLoad:e,scrollYLoad:t}=Y,{scrollXStore:r,scrollYStore:l}=G,o=C.value,n=b.value,e=(e?(e=et()["visibleSize"],n=Math.max(0,n.oSize?hr().toNumber(n.oSize):al.edge?5:0),r.offsetSize=n,r.visibleSize=e,r.endIndex=Math.max(r.startIndex+r.visibleSize+n,r.endIndex),Q.updateScrollXData()):Q.updateScrollXSpace(),mt(),tt()),n=(l.rowHeight=e,Y.rowHeight=e,rt())["visibleSize"];t?(r=Math.max(0,o.oSize?hr().toNumber(o.oSize):al.edge?10:0),l.offsetSize=r,l.visibleSize=n,l.endIndex=Math.max(l.startIndex+n+r,l.endIndex),Q.updateScrollYData()):Q.updateScrollYSpace(),(0,gr.nextTick)(y)}),St=e=>{var t=J.value;return t&&t.clientWidth?(ut(),pt(),Rt().then(()=>{if(!0===e)return mt(),ut(),pt(),Rt()})):(0,gr.nextTick)()},kt=e=>{var{keepSource:t,treeConfig:r,showOverflow:l}=q;const{editStore:o,scrollYLoad:h}=Y,{scrollYStore:f,scrollXStore:n,lastScrollLeft:v,lastScrollTop:g}=G;var a=ue.value,i=a["transform"],s=a.children||a.childrenField;let c=[],d=(0,gr.reactive)(e?e.slice(0):[]);r&&(i?(a.rowField||Ir("vxe.error.reqProp",["tree-config.rowField"]),a.parentField||Ir("vxe.error.reqProp",["tree-config.parentField"]),s||Ir("vxe.error.reqProp",["tree-config.childrenField"]),a.mapChildrenField||Ir("vxe.error.reqProp",["tree-config.mapChildrenField"]),s===a.mapChildrenField&&Ir("vxe.error.errConflicts",["tree-config.childrenField","tree-config.mapChildrenField"]),c=hr().toArrayTree(d,{key:a.rowField,parentKey:a.parentField,children:s,mapChildren:a.mapChildrenField}),d=c.slice(0)):c=d.slice(0)),f.startIndex=0,f.endIndex=1,n.startIndex=0,n.endIndex=1,Y.scrollVMLoading=!1,o.insertMaps={},o.removeMaps={};const x=Lt(d);return Y.scrollYLoad=x,Y.isDragRowMove=!1,G.tableFullData=d,G.tableFullTreeData=c,Q.cacheRowMap(!0),G.tableSynchData=e,t&&Q.cacheSourceMap(d),x&&(l&&(r=G.tableFullColumn.find(e=>!1===e.showOverflow))&&Ir("vxe.error.errProp",[`column[field="${r.field}"].show-overflow=false`,"show-overflow=true"]),q.height||q.maxHeight||Ir("vxe.error.reqProp",["table.height | table.max-height | table.scroll-y={enabled: false}"]),q.spanMethod)&&Mr("vxe.error.scrollErrProp",["table.span-method"]),pe.clearCellAreas&&q.mouseConfig&&(pe.clearCellAreas(),pe.clearCopyCellArea()),Z.clearMergeCells(),Z.clearMergeFooterItems(),Q.handleTableData(!0),Z.updateFooter(),(0,gr.nextTick)().then(()=>{dt(),y()}).then(()=>{Rt()}).then(()=>{x&&(f.endIndex=f.visibleSize);var e=q["treeConfig"],{expandColumn:t,currentRow:r,selectCheckboxMaps:l,selectRadioRow:o,rowExpandedMaps:n,treeExpandedMaps:a}=Y,{fullDataRowIdData:i,fullAllDataRowIdData:s,radioReserveRow:c}=G,d=R.value,u=ue.value,p=E.value,m=ie.value;return o&&!s[Tr(pe,o)]&&(Y.selectRadioRow=null),p.reserve&&c&&i[o=Tr(pe,c)]&&bt(i[o].row,!0),Y.selectCheckboxMaps=Qe(l),m.reserve&&S(Je(G.checkboxReserveRowMap),!0,!0),r&&!s[Tr(pe,r)]&&(Y.currentRow=null),Y.rowExpandedMaps=t?Qe(n):{},t&&d.reserve&&Z.setRowExpand(Je(G.rowExpandedReserveRowMap),!0),Y.treeExpandedMaps=e?Qe(a):{},e&&u.reserve&&Z.setTreeExpand(Je(G.treeExpandedReserveRowMap),!0),Q.checkSelectionStatus(),new Promise(o=>{(0,gr.nextTick)().then(()=>Z.recalculate()).then(()=>{let e=v,t=g;var r=b.value,l=C.value;r.scrollToLeftOnChange&&(e=0),l.scrollToTopOnChange&&(t=0),h===x?Wr(pe,e,t).then(o):setTimeout(()=>Wr(pe,e,t).then(o))})})})},Mt=()=>{if(e=q["checkboxConfig"]){const n=G["fullDataRowIdData"];var{checkAll:e,checkRowKeys:t}=ie.value;if(e)Ct(!0,!0);else if(t){const a=[];t.forEach(e=>{n[e]&&a.push(n[e].row)}),S(a,!0,!0)}}if((e=q.radioConfig)&&(e=G["fullDataRowIdData"],{checkRowKey:t,reserve:r}=E.value,t)&&(e[t]&&bt(e[t].row,!0),r)&&(e=Xr(pe),G.radioReserveRow={[e]:t}),r=q["expandConfig"]){const i=G["fullDataRowIdData"];var{expandAll:r,expandRowKeys:e}=R.value;if(r)Z.setAllRowExpand(!0);else if(e){const s=[];e.forEach(e=>{i[e]&&s.push(i[e].row)}),Z.setRowExpand(s,!0)}}if(e=q["treeConfig"]){const c=G["tableFullData"];var e=ue.value,{expandAll:l,expandRowKeys:o}=e;const d=e.children||e.childrenField;if(l)Z.setAllTreeExpand(!0);else if(o){const u=[],p=Xr(pe);o.forEach(t=>{var e=hr().findTree(c,e=>t===hr().get(e,p),{children:d});e&&u.push(e.item)}),Z.setTreeExpand(u,!0)}}(e=q.mergeCells)&&Z.setMergeCells(e),(l=q.mergeFooterItems)&&Z.setMergeFooterItems(l),(0,gr.nextTick)(()=>setTimeout(()=>Z.recalculate()))},It=()=>{var t=q["sortConfig"];if(t){var r=w.value;let e=r["defaultSort"];e&&(e=hr().isArray(e)?e:[e]).length&&((t.multiple?e:e.slice(0,1)).forEach((e,t)=>{var{field:e,order:r}=e;e&&r&&(e=Z.getColumnByField(e))&&e.sortable&&(e.order=r,e.sortTime=Date.now()+t)}),r.remote||Q.handleTableData(!0).then(y))}},Ft=()=>{var e=Y["scrollXLoad"];const{visibleColumn:t,scrollXStore:r,fullColumnIdData:l}=G;e=e?t.slice(r.startIndex,r.endIndex):t.slice(0);e.forEach((e,t)=>{e=e.id,e=l[e];e&&(e.$index=t)}),Y.tableColumn=e},Dt=()=>{var{mergeList:e,mergeFooterList:t}=Y,r=G["scrollXStore"],{startIndex:l,endIndex:o,offsetSize:n}=r,{toVisibleIndex:a,visibleSize:i}=et(),n={startIndex:Math.max(0,a-1-n),endIndex:a+i+n},{startIndex:e,endIndex:t}=(lt(e.concat(t),n,"col"),n);!(a<=l||o-i-1<=a)||l===e&&o===t||(r.startIndex=e,r.endIndex=t,Q.updateScrollXData()),Z.closeTooltip()},Ot=e=>{const t=[];return e.forEach(e=>{t.push(...e.children&&e.children.length?Ot(e.children):[e])}),t},At=()=>{const a=[],i=[],s=[];var{isGroup:e,columnStore:t}=Y,r=b.value;const{collectColumn:l,tableFullColumn:o,scrollXStore:n,fullColumnIdData:c}=G;if(e){const u=[],p=[],m=[];hr().eachTree(l,(e,t,r,l,o)=>{var n=_r(e);o&&o.fixed&&(e.fixed=o.fixed),o&&e.fixed!==o.fixed&&Ir("vxe.error.groupFixed"),n?e.visible=!!hr().findTree(e.children,e=>!_r(e)&&e.visible):e.visible&&("left"===e.fixed?a:"right"===e.fixed?s:i).push(e)}),l.forEach(e=>{e.visible&&("left"===e.fixed?u:"right"===e.fixed?m:p).push(e)}),Y.tableGroupColumn=u.concat(p).concat(m)}else o.forEach(e=>{e.visible&&("left"===e.fixed?a:"right"===e.fixed?s:i).push(e)});const d=a.concat(i).concat(s);e=!!r.enabled&&-1<r.gt&&(0===r.gt||r.gt<o.length);return Y.hasFixedColumn=0<a.length||0<s.length,Object.assign(t,{leftList:a,centerList:i,rightList:s}),e&&(q.spanMethod&&Mr("vxe.error.scrollErrProp",["span-method"]),q.footerSpanMethod&&Mr("vxe.error.scrollErrProp",["footer-span-method"]),r=et()["visibleSize"],n.startIndex=0,n.endIndex=r,n.visibleSize=r),d.length===G.visibleColumn.length&&G.visibleColumn.every((e,t)=>e===d[t])||(Z.clearMergeCells(),Z.clearMergeFooterItems()),Y.scrollXLoad=e,d.forEach((e,t)=>{e=e.id,e=c[e];e&&(e._index=t)}),G.visibleColumn=d,Ft(),Z.updateFooter().then(()=>Z.recalculate()).then(()=>(Z.updateCellAreas(),Z.recalculate()))},Vt=e=>{G.collectColumn=e;var t=Ot(e);return G.tableFullColumn=t,Y._isLoading=!0,Y.isDragColMove=!1,G.collectColumn.forEach((e,t)=>{t+=1;e.sortNumber=t,e.renderSortNumber=t}),Promise.resolve((()=>{var e=q["customConfig"],t=s.value,{storage:r,restoreStore:l}=H.value,o=!0===r,r=o?{}:Object.assign({},r||{}),n=o||r.resizable,a=o||r.visible,i=o||r.fixed,o=o||r.sort;if(e&&(n||a||i||o)){if(t)return r=Ze(t),l?Promise.resolve(l({id:t,type:"restore",storeData:r})).then(e=>{if(e)return st(e)}).catch(e=>e):st(r);Ir("vxe.error.reqProp",["id"])}})()).then(()=>(Y._isLoading=!1,ct(),At().then(()=>{Y.scrollXLoad&&Dt()}),Z.clearMergeCells(),Z.clearMergeFooterItems(),Q.handleTableData(!0),(Y.scrollXLoad||Y.scrollYLoad)&&Y.expandColumn&&Mr("vxe.error.scrollErrProp",["column.type=expand"]),(0,gr.nextTick)().then(()=>(g&&g.syncUpdate({collectColumn:e,$table:pe}),Z.recalculate()))))},Lt=e=>{var t=q["treeConfig"],r=C.value,l=ue.value["transform"],e=e||G.tableFullData,l=(l||!t)&&!!r.enabled&&-1<r.gt&&(0===r.gt||r.gt<e.length);return Y.scrollYLoad=l},$t=(e,t)=>{const{treeExpandedMaps:r,treeExpandLazyLoadedMaps:l,treeNodeColumn:o}=Y,n={...r},{fullAllDataRowIdData:a,tableFullData:i}=G;var s=ue.value;const{reserve:c,lazy:d,accordion:u,toggleMethod:p}=s,m=s.children||s.childrenField,h=s.hasChild||s.hasChildField,f=[],v=Z.getColumnIndex(o),g=Z.getVMColumnIndex(o);let x=p?e.filter(e=>p({$table:pe,expanded:t,column:o,columnIndex:v,$columnIndex:g,row:e})):e;return u&&(x=x.length?[x[x.length-1]]:[],s=hr().findTree(i,e=>e===x[0],{children:m}))&&s.items.forEach(e=>{e=Tr(pe,e);n[e]&&delete n[e]}),t?x.forEach(e=>{var t,r=Tr(pe,e);n[r]||(t=a[r])&&(d&&e[h]&&!t.treeLoaded&&!l[r]?f.push(wt(e)):e[m]&&e[m].length&&(n[r]=e))}):x.forEach(e=>{e=Tr(pe,e);n[e]&&delete n[e]}),c&&x.forEach(e=>yt(e,t)),Y.treeExpandedMaps=n,Promise.all(f).then(()=>Z.recalculate())},_t=(e,t)=>{Ct(t),e&&me("checkbox-all",{records:Z.getCheckboxRecords(),reserves:Z.getCheckboxReserveRecords(),indeterminates:Z.getCheckboxIndeterminateRecords(),checked:t},e)},Nt=()=>{var e=q["showOverflow"],t=Y["mergeList"],{tableHeight:r,scrollYStore:l}=G,{startIndex:o,endIndex:n,offsetSize:a}=l,e=e?a:a+Math.min(8,Math.ceil(r/200)),{toVisibleIndex:a,visibleSize:r}=rt(),e={startIndex:Math.max(0,a-1-e),endIndex:a+r+e},{startIndex:t,endIndex:e}=(lt(t,e,"row"),e);!(a<=o||n-r-1<=a)||o===t&&n===e||(l.startIndex=t,l.endIndex=e,Q.updateScrollYData())};e=r=>function(e){var t=G["fullAllDataRowIdData"];if(e){t=t[Tr(pe,e)];if(t)return t[r]}return-1},o=r=>function(e){var t=G["fullColumnIdData"];if(e){t=t[e.id];if(t)return t[r]}return-1};const Ht=e=>{var t,r,l,{inFooterScroll:o,inBodyScroll:n}=G;o||n||(o=te.value,n=re.value,t=le.value,n=n.$el,o=o?o.$el:null,t=t?t.$el:null,{scrollTop:r,scrollLeft:l}=e.currentTarget,G.inVirtualScroll=!0,wr(n,l),wr(o,l),wr(t,l),pe.triggerScrollXEvent(e),pe.handleScrollEvent(e,!1,!0,r,l,{type:"table",fixed:""}))},Pt=e=>{var t,r,l,{inFooterScroll:o,inBodyScroll:n}=G;o||n||(o=re.value,n=p.value,t=m.value,o=o.$el,n=n?n.$el:null,t=t?t.$el:null,{scrollTop:r,scrollLeft:l}=e.currentTarget,G.inVirtualScroll=!0,Cr(o,r),Cr(n,r),Cr(t,r),pe.triggerScrollYEvent(e),pe.handleScrollEvent(e,!0,!1,r,l,{type:"table",fixed:""}))};let Bt;const me=(e,t,r)=>{l(e,fl(r,{$table:pe,$grid:oe},t))},jt=(Z={dispatchEvent:me,clearAll(){var e=pe,{props:t,internalData:r}=(e.clearFilter&&e.clearFilter(),e);return r.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&t.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()},syncData(){return Mr("vxe.error.delFunc",["syncData","getData"]),(0,gr.nextTick)().then(()=>(Y.tableData=[],l("update:data",G.tableFullData),(0,gr.nextTick)()))},updateData(){const{scrollXLoad:e,scrollYLoad:t}=Y;return Q.handleTableData(!0).then(()=>{if(Z.updateFooter(),e||t)return e&&Q.updateScrollXSpace(),t&&Q.updateScrollYSpace(),Z.refreshScroll()}).then(()=>(Z.updateCellAreas(),Z.recalculate(!0))).then(()=>{setTimeout(()=>pe.recalculate(),50)})},loadData(e){const{inited:t,initStatus:r}=G;return kt(e).then(()=>(G.inited=!0,G.initStatus=!0,r||Mt(),t||It(),Z.recalculate()))},reloadData(e){const t=G["inited"];return Z.clearAll().then(()=>(G.inited=!0,G.initStatus=!0,kt(e))).then(()=>(Mt(),t||It(),Z.recalculate()))},setRow(t,l){if(t&&l){let e=t;hr().isArray(t)||(e=[t]);const o=Xr(pe);e.forEach(e=>{var t=Tr(pe,e),r=hr().clone(Object.assign({},l),!0);hr().set(r,o,t),Object.assign(e,r)})}return(0,gr.nextTick)()},reloadRow(e,t,r){var l=q["keepSource"],o=Y["tableData"],n=G["tableSourceData"];return l?((l=n[Z.getRowIndex(e)])&&e&&(r?(n=hr().clone(hr().get(t||e,r),!0),hr().set(e,r,n),hr().set(l,r,n)):(r=Xr(pe),n=Tr(pe,e),t=hr().clone(Object.assign({},t),!0),hr().set(t,r,n),hr().destructuring(l,Object.assign(e,t)))),Y.tableData=o.slice(0)):Mr("vxe.error.reqProp",["keep-source"]),(0,gr.nextTick)()},getParams(){return q.params},loadTreeChildren(l,e){const o=q["keepSource"],{tableSourceData:n,fullDataRowIdData:i,fullAllDataRowIdData:s,sourceDataRowIdData:a}=G;var t=ue.value;const{transform:c,mapChildrenField:d}=t,u=t.children||t.childrenField,p=s[Tr(pe,l)],m=p?p.level:0;return Z.createData(e).then(e=>{if(o){const r=Tr(pe,l);var t=hr().findTree(n,e=>r===Tr(pe,e),{children:u});t&&(t.item[u]=hr().clone(e,!0)),e.forEach(e=>{var t=Tr(pe,e);a[t]=hr().clone(e,!0)})}return hr().eachTree(e,(e,t,r,l,o,n)=>{var a=Tr(pe,e),e={row:e,rowid:a,seq:-1,index:t,_index:-1,$index:-1,items:r,parent:o||p.row,level:m+n.length,height:0};i[a]=e,s[a]=e},{children:u}),l[u]=e,c&&(l[d]=hr().clone(e,!1)),vt(),e})},loadColumn(e){e=hr().mapTree(e,e=>(0,gr.reactive)(Zr.createColumn(pe,e)));return Vt(e)},reloadColumn(e){return Z.clearAll().then(()=>Z.loadColumn(e))},getRowNode(e){if(e){var t=G["fullAllDataRowIdData"],e=e.getAttribute("rowid");if(e){t=t[e];if(t)return{rowid:t.rowid,item:t.row,index:t.index,items:t.items,parent:t.parent}}}return null},getColumnNode(e){if(e){var t=G["fullColumnIdData"],e=e.getAttribute("colid");if(e){t=t[e];if(t)return{colid:t.colid,item:t.column,index:t.index,items:t.items,parent:t.parent}}}return null},getRowSeq:e("seq"),getRowIndex:e("index"),getVTRowIndex:e("_index"),getVMRowIndex:e("$index"),getColumnIndex:o("index"),getVTColumnIndex:o("_index"),getVMColumnIndex:o("$index"),createData(e){return(0,gr.nextTick)().then(()=>(0,gr.reactive)(Q.defineField(e)))},createRow(e){const t=hr().isArray(e);return t||(e=[e||{}]),Z.createData(e).then(e=>t?e:e[0])},revertData(e,r){var t=q["keepSource"];const{tableSourceData:l,sourceDataRowIdData:o}=G;if(!t)return Mr("vxe.error.reqProp",["keep-source"]),(0,gr.nextTick)();let n=e;return e?hr().isArray(e)||(n=[e]):n=hr().toArray(pe.getUpdateRecords()),n.length&&n.forEach(e=>{var t;Z.isInsertByRow(e)||(t=Tr(pe,e),(t=o[t])&&e&&(r?hr().set(e,r,hr().clone(hr().get(t,r),!0)):hr().destructuring(e,hr().clone(t,!0))))}),e?(0,gr.nextTick)():Z.reloadData(l)},clearData(e,t){const{tableFullData:r,visibleColumn:l}=G;return arguments.length?e&&!hr().isArray(e)&&(e=[e]):e=r,t?e.forEach(e=>hr().set(e,t,null)):e.forEach(t=>{l.forEach(e=>{e.field&&Rr(t,e,null)})}),(0,gr.nextTick)()},getCellElement(e,t){t=Fr(pe,t);if(!t)return null;var e=Tr(pe,e),r=re.value,l=p.value,o=m.value;let n;return t&&(t.fixed&&("left"===t.fixed?l&&(n=l.$el):o&&(n=o.$el)),n=n||r.$el)?n.querySelector(`.vxe-body--row[rowid="${e}"] .`+t.id):null},getCellLabel(t,r){r=Fr(pe,r);if(!r)return null;var l=r.formatter,o=Er(t,r);let n=o;if(l){let e;var a=G["fullAllDataRowIdData"],i=Tr(pe,t),s=r.id,c=a[i];if(c&&(e=(e=c.formatData)||(a[i].formatData={}),c)&&e[s]&&e[s].value===o)return e[s].label;a={cellValue:o,row:t,rowIndex:Z.getRowIndex(t),column:r,columnIndex:Z.getColumnIndex(r)};n=hr().isString(l)?(c=(i=hl.get(l))?i.tableCellFormatMethod||i.cellFormatMethod:null)?c(a):"":hr().isArray(l)?(r=(t=hl.get(l[0]))?t.tableCellFormatMethod||t.cellFormatMethod:null)?r(a,...l.slice(1)):"":l(a),e&&(e[s]={value:o,label:n})}return n},isInsertByRow(e){var t=Y["editStore"],e=Tr(pe,e);return!!t.insertMaps[e]},removeInsertRow(){var e=Y["editStore"];return e.insertMaps={},pe.remove(pe.getInsertRecords())},isUpdateByRow(r,e){var t=q["keepSource"],{tableFullColumn:l,fullDataRowIdData:o,sourceDataRowIdData:n}=G;if(t){t=Tr(pe,r);if(!o[t])return!1;var a=n[t];if(a){if(1<arguments.length)return!Ye(a,r,e);for(let e=0,t=l.length;e<t;e++){var i=l[e].field;if(i&&!Ye(a,r,i))return!0}}}return!1},getColumns(e){var t=G.visibleColumn;return hr().isUndefined(e)?t.slice(0):t[e]},getColid(e){e=Fr(pe,e);return e?e.id:null},getColumnById(e){var t=G.fullColumnIdData;return e&&t[e]?t[e].column:null},getColumnByField(e){var t=G.fullColumnFieldData;return e&&t[e]?t[e].column:null},getParentColumn(e){var t=G.fullColumnIdData,e=Fr(pe,e);return e&&e.parentId&&t[e.parentId]?t[e.parentId].column:null},getTableColumn(){return{collectColumn:G.collectColumn.slice(0),fullColumn:G.tableFullColumn.slice(0),visibleColumn:G.visibleColumn.slice(0),tableColumn:Y.tableColumn.slice(0)}},getData(e){var t=q.data||G.tableSynchData;return hr().isUndefined(e)?t.slice(0):t[e]},getCheckboxRecords(r){var e=q["treeConfig"];const{tableFullData:t,afterFullData:l,afterTreeFullData:o,tableFullTreeData:n,fullDataRowIdData:a,afterFullRowMaps:i}=G;var s=ue.value,{transform:c,mapChildrenField:d}=s;const u=ie.value["checkField"];s=s.children||s.childrenField;let p=[];var m=r?c?n:t:c?o:l;return u?p=e?hr().filterTree(m,e=>hr().get(e,u),{children:c?d:s}):m.filter(e=>hr().get(e,u)):(e=Y["selectCheckboxMaps"],hr().each(e,(e,t)=>{r?a[t]&&p.push(a[t].row):i[t]&&p.push(i[t])})),p},getTreeRowChildren(t){var r=q["treeConfig"],l=G["fullDataRowIdData"],o=ue.value,{transform:n,mapChildrenField:a}=o,o=o.children||o.childrenField;if(t&&r){let e;if(e=hr().isString(t)?t:Tr(pe,t)){r=l[e],t=r?r.row:null;if(t)return t[n?a:o]||[]}}return[]},getTreeParentRow(t){var r=q["treeConfig"],l=G["fullDataRowIdData"];if(t&&r){let e;if(e=hr().isString(t)?t:Tr(pe,t))return(r=l[e])?r.parent:null}return null},getParentRow(e){return Mr("vxe.error.delFunc",["getParentRow","getTreeParentRow"]),pe.getTreeParentRow(e)},getRowById(e){var t=G["fullDataRowIdData"],e=hr().eqNull(e)?"":encodeURIComponent(e||"");return t[e]?t[e].row:null},getRowid(e){return Tr(pe,e)},getTableData(){var{tableData:e,footerTableData:t}=Y,{tableFullData:r,afterFullData:l,tableFullTreeData:o}=G;return{fullData:(q.treeConfig?o:r).slice(0),visibleData:l.slice(0),tableData:e.slice(0),footerData:t.slice(0)}},setColumnFixed(e,t){let r=!1;var l=hr().isArray(e)?e:[e],o=ne.value,n=W.value;for(let e=0;e<l.length;e++){var a=l[e],a=Fr(pe,a),a=Kr(pe,a);if(a&&a.fixed!==t){if(!a.fixed&&n)return mr.VxeUI.modal&&mr.VxeUI.modal.message({status:"error",content:pl("vxe.table.maxFixedCol",[o.maxFixedSize])}),(0,gr.nextTick)();hr().eachTree([a],e=>{e.fixed=t}),Q.saveCustomStore("update:fixed"),r=r||!0}}return r?Z.refreshColumn():(0,gr.nextTick)()},clearColumnFixed(e){let t=!1;return(hr().isArray(e)?e:[e]).forEach(e=>{e=Fr(pe,e),e=Kr(pe,e);e&&e.fixed&&(hr().eachTree([e],e=>{e.fixed=null}),Q.saveCustomStore("update:fixed"),t=t||!0)}),t?Z.refreshColumn():(0,gr.nextTick)()},hideColumn(e){let t=!1;return(hr().isArray(e)?e:[e]).forEach(e=>{e=Fr(pe,e);e&&e.visible&&(e.visible=!1,t=t||!0)}),t?Q.handleCustom():(0,gr.nextTick)()},showColumn(e){let t=!1;return(hr().isArray(e)?e:[e]).forEach(e=>{e=Fr(pe,e);e&&!e.visible&&(e.visible=!0,t=t||!0)}),t?Q.handleCustom():(0,gr.nextTick)()},setColumnWidth(e,o){let n=!1;return(hr().isArray(e)?e:[e]).forEach(t=>{t=Fr(pe,t);if(t){var r,l=hr().toInteger(o);let e=l;Br(o)&&(r=(r=(r=re.value)?r.$el:null)?r.clientWidth-1:0,e=Math.floor(l*r)),t.resizeWidth=e,n=n||!0}}),n?Z.refreshColumn():(0,gr.nextTick)()},getColumnWidth(e){e=Fr(pe,e);return e?e.renderWidth:0},resetColumn(e){return Mr("vxe.error.delFunc",["resetColumn","resetCustom"]),pe.resetCustom(e)},refreshColumn(e){return e&&(e=hr().orderBy(G.collectColumn,"renderSortNumber"),G.collectColumn=e,e=Ot(e),G.tableFullColumn=e,ct()),At().then(()=>Z.refreshScroll()).then(()=>Z.recalculate())},refreshScroll(){const{lastScrollLeft:t,lastScrollTop:r}=G;var e=re.value,l=le.value,o=p.value,n=m.value;const a=e?e.$el:null,i=o?o.$el:null,s=n?n.$el:null,c=l?l.$el:null;return new Promise(e=>{if(t||r)return Wr(pe,t,r).then().then(()=>{setTimeout(e,30)});Cr(a,r),Cr(i,r),Cr(s,r),wr(c,t),setTimeout(e,30)})},recalculate(r){return new Promise(e=>{var t=G["rceTimeout"];t?(clearTimeout(t),(0,gr.nextTick)(()=>{e()})):e(St(!!r)),G.rceTimeout=setTimeout(()=>{G.rceTimeout=void 0,St(!!r)},20)})},openTooltip(e,t){var r=ge.value;return r&&r.open?r.open(e,t):(0,gr.nextTick)()},closeTooltip(){var e=Y["tooltipStore"],t=ee.value,r=ge.value;return e.visible&&(Object.assign(e,{row:null,column:null,content:null,visible:!1,currOpts:{}}),t)&&t.close&&t.close(),r&&r.close&&r.close(),(0,gr.nextTick)()},isAllCheckboxChecked(){return Y.isAllSelected},isAllCheckboxIndeterminate(){return!Y.isAllSelected&&Y.isIndeterminate},getCheckboxIndeterminateRecords(e){var t=q["treeConfig"];const r=G["fullDataRowIdData"];var l=Y["treeIndeterminateMaps"];if(t){const o=[],n=[];return hr().each(l,(e,t)=>{e&&(o.push(e),r[t])&&n.push(e)}),e?o:n}return[]},setCheckboxRow(e,t){return e&&!hr().isArray(e)&&(e=[e]),S(e,t,!0)},isCheckedByCheckboxRow(e){var t=Y["selectCheckboxMaps"],r=ie.value["checkField"];return r?hr().get(e,r):!!t[Tr(pe,e)]},isIndeterminateByCheckboxRow(e){var t=Y["treeIndeterminateMaps"];return!!t[Tr(pe,e)]&&!Z.isCheckedByCheckboxRow(e)},toggleCheckboxRow(e){var t=Y["selectCheckboxMaps"],r=ie.value["checkField"],r=r?!hr().get(e,r):!t[Tr(pe,e)];return Q.handleSelectRow({row:e},r,!0),Q.checkSelectionStatus(),(0,gr.nextTick)()},setAllCheckboxRow(e){return Ct(e,!0)},getRadioReserveRecord(e){var t=q["treeConfig"],{fullDataRowIdData:r,radioReserveRow:l,afterFullData:o}=G,n=E.value,a=ue.value,a=a.children||a.childrenField;if(n.reserve&&l){const i=Tr(pe,l);if(e){if(!r[i])return l}else{const s=Xr(pe);if(t){if(hr().findTree(o,e=>i===hr().get(e,s),{children:a}))return l}else if(!o.some(e=>i===hr().get(e,s)))return l}}return null},clearRadioReserve(){return(G.radioReserveRow=null,gr.nextTick)()},getCheckboxReserveRecords(r){var e=q["treeConfig"];const{afterFullData:t,fullDataRowIdData:l,checkboxReserveRowMap:o}=G;var n=ie.value,a=ue.value,a=a.children||a.childrenField;const i=[];if(n.reserve){const s={};e?hr().eachTree(t,e=>{s[Tr(pe,e)]=1},{children:a}):t.forEach(e=>{s[Tr(pe,e)]=1}),hr().each(o,(e,t)=>{e&&(r?l[t]||i.push(e):s[t]||i.push(e))})}return i},clearCheckboxReserve(){return G.checkboxReserveRowMap={},(0,gr.nextTick)()},toggleAllCheckboxRow(){return _t(null,!Y.isAllSelected),(0,gr.nextTick)()},clearCheckboxRow(){const t=q["treeConfig"];var e=G["tableFullData"],r=ue.value,r=r.children||r.childrenField,l=ie.value;const{checkField:o,reserve:n}=l,a=l.indeterminateField||l.halfField;return o&&(l=e=>{t&&a&&hr().set(e,a,!1),hr().set(e,o,!1)},t?hr().eachTree(e,l,{children:r}):e.forEach(l)),n&&e.forEach(e=>T(e,!1)),Y.isAllSelected=!1,Y.isIndeterminate=!1,Y.selectCheckboxMaps={},Y.treeIndeterminateMaps={},(0,gr.nextTick)()},setCurrentRow(e){var t=ae.value,r=J.value;return Z.clearCurrentRow(),Y.currentRow=e,(t.isCurrent||q.highlightCurrentRow)&&r&&hr().arrayEach(r.querySelectorAll(`[rowid="${Tr(pe,e)}"]`),e=>br(e,"row--current")),(0,gr.nextTick)()},isCheckedByRadioRow(e){return pe.eqRow(Y.selectRadioRow,e)},setRadioRow(e){return bt(e,!0)},clearCurrentRow(){var e=J.value;return Y.currentRow=null,G.hoverRow=null,e&&hr().arrayEach(e.querySelectorAll(".row--current"),e=>xr(e,"row--current")),(0,gr.nextTick)()},clearRadioRow(){return(Y.selectRadioRow=null,gr.nextTick)()},getCurrentRecord(){return ae.value.isCurrent||q.highlightCurrentRow?Y.currentRow:null},getRadioRecord(e){var{fullDataRowIdData:t,afterFullRowMaps:r}=G,l=Y["selectRadioRow"];if(l){var o=Tr(pe,l);if(e){if(t[o])return l}else if(r[o])return l}return null},getCurrentColumn(){return ne.value.isCurrent||q.highlightCurrentColumn?Y.currentColumn:null},setCurrentColumn(e){e=Fr(pe,e);return e&&(Z.clearCurrentColumn(),Y.currentColumn=e),(0,gr.nextTick)()},clearCurrentColumn(){return(Y.currentColumn=null,gr.nextTick)()},setPendingRow(e,t){const r={...Y.pendingRowMaps},l=[...Y.pendingRowList];return e&&!hr().isArray(e)&&(e=[e]),t?e.forEach(e=>{var t=Tr(pe,e);t&&!r[t]&&(l.push(e),r[t]=e)}):e.forEach(e=>{var t=Tr(pe,e);t&&r[t]&&(-1<(e=pe.findRowIndexOf(l,e))&&l.splice(e,1),delete r[t])}),Y.pendingRowMaps=r,Y.pendingRowList=l,(0,gr.nextTick)()},togglePendingRow(e){const l={...Y.pendingRowMaps},o=[...Y.pendingRowList];return(e=e&&!hr().isArray(e)?[e]:e).forEach(e=>{var t,r=Tr(pe,e);r&&(l[r]?(-1<(t=pe.findRowIndexOf(o,e))&&o.splice(t,1),delete l[r]):(o.push(e),l[r]=e))}),Y.pendingRowMaps=l,Y.pendingRowList=o,(0,gr.nextTick)()},hasPendingByRow(e){return Z.isPendingByRow(e)},isPendingByRow(e){var t=Y["pendingRowMaps"];return!!t[Tr(pe,e)]},getPendingRecords(){var e=Y["pendingRowList"];return e.slice(0)},clearPendingRow(){return Y.pendingRowMaps={},Y.pendingRowList=[],(0,gr.nextTick)()},sort(e,t){const{multiple:r,remote:l,orders:n}=w.value;return e&&hr().isString(e)&&(e=[{field:e,order:t}]),(e=hr().isArray(e)?e:[e]).length?(r||at(),(r?e:[e[0]]).forEach((e,t)=>{let{field:r,order:l}=e,o=r;(o=hr().isString(r)?Z.getColumnByField(r):o)&&o.sortable&&(-1===n.indexOf(l)&&(l=Ge(o)),o.order!==l&&(o.order=l),o.sortTime=Date.now()+t)}),l||Q.handleTableData(!0),(0,gr.nextTick)().then(()=>(Z.updateCellAreas(),y()))):(0,gr.nextTick)()},clearSort(e){var t=w.value;return e?(e=Fr(pe,e))&&(e.order=null):at(),t.remote||Q.handleTableData(!0),(0,gr.nextTick)().then(y)},isSort(e){return e?!!(e=Fr(pe,e))&&e.sortable&&!!e.order:0<Z.getSortColumns().length},getSortColumns(){var{multiple:e,chronological:t}=w.value;const l=[];var r=G["tableFullColumn"];return r.forEach(e=>{var{field:t,order:r}=e;e.sortable&&r&&l.push({column:e,field:t,property:t,order:r,sortTime:e.sortTime})}),e&&t&&1<l.length?hr().orderBy(l,"sortTime"):l},closeFilter(){var e=Y["filterStore"],{column:t,visible:r}=e;return Object.assign(e,{isAllSelected:!1,isIndeterminate:!1,options:[],visible:!1}),r&&me("filter-visible",{column:t,property:t.field,field:t.field,filterList:pe.getCheckedFilters(),visible:!1},null),(0,gr.nextTick)()},isActiveFilterByColumn(e){e=Fr(pe,e);return e?e.filters&&e.filters.some(e=>e.checked):0<pe.getCheckedFilters().length},isFilter(e){return Z.isActiveFilterByColumn(e)},isRowExpandLoaded(e){var t=G["fullAllDataRowIdData"],t=t[Tr(pe,e)];return t&&!!t.expandLoaded},clearRowExpandLoaded(e){var t=Y["rowExpandLazyLoadedMaps"],r=G["fullAllDataRowIdData"],l=R.value["lazy"],e=Tr(pe,e),r=r[e];return l&&r&&(r.expandLoaded=!1,delete t[e]),(0,gr.nextTick)()},reloadRowExpand(e){var t=Y["rowExpandLazyLoadedMaps"],r=R.value["lazy"],l=Tr(pe,e);return r&&!t[l]&&Z.clearRowExpandLoaded(e).then(()=>Tt(e)),(0,gr.nextTick)()},reloadExpandContent(e){return Mr("vxe.error.delFunc",["reloadExpandContent","reloadRowExpand"]),Z.reloadRowExpand(e)},toggleRowExpand(e){return Z.setRowExpand(e,!Z.isRowExpandByRow(e))},setAllRowExpand(e){var t=ue.value,{tableFullData:r,tableFullTreeData:l}=G,t=t.children||t.childrenField;let o=[];return q.treeConfig?hr().eachTree(l,e=>{o.push(e)},{children:t}):o=r,Z.setRowExpand(o,e)},setRowExpand(e,t){const{rowExpandedMaps:r,rowExpandLazyLoadedMaps:l,expandColumn:o}=Y,n=G["fullAllDataRowIdData"];let a={...r};const{reserve:i,lazy:s,accordion:c,toggleMethod:d}=R.value,u=[],p=Z.getColumnIndex(o),m=Z.getVMColumnIndex(o);return e&&(hr().isArray(e)||(e=[e]),c&&(a={},e=e.slice(e.length-1,e.length)),e=d?e.filter(e=>d({$table:pe,expanded:t,column:o,columnIndex:p,$columnIndex:m,row:e,rowIndex:Z.getRowIndex(e),$rowIndex:Z.getVMRowIndex(e)})):e,t?e.forEach(e=>{var t,r=Tr(pe,e);a[r]||(t=n[r],s&&!t.expandLoaded&&!l[r]?u.push(Tt(e)):a[r]=e)}):e.forEach(e=>{e=Tr(pe,e);a[e]&&delete a[e]}),i)&&e.forEach(e=>Et(e,t)),Y.rowExpandedMaps=a,Promise.all(u).then(()=>Z.recalculate())},isRowExpandByRow(e){var t=Y["rowExpandedMaps"];return!!t[Tr(pe,e)]},isExpandByRow(e){return Mr("vxe.error.delFunc",["isExpandByRow","isRowExpandByRow"]),Z.isRowExpandByRow(e)},clearRowExpand(){var e=G["tableFullData"],t=R.value["reserve"];const r=Z.getRowExpandRecords();return Y.rowExpandedMaps={},t&&e.forEach(e=>Et(e,!1)),(0,gr.nextTick)().then(()=>{r.length&&Z.recalculate()})},clearRowExpandReserve(){return G.rowExpandedReserveRowMap={},(0,gr.nextTick)()},getRowExpandRecords(){const t=[];return hr().each(Y.rowExpandedMaps,e=>{e&&t.push(e)}),t},getTreeExpandRecords(){const t=[];return hr().each(Y.treeExpandedMaps,e=>{e&&t.push(e)}),t},isTreeExpandLoaded(e){var t=G["fullAllDataRowIdData"],t=t[Tr(pe,e)];return t&&!!t.treeLoaded},clearTreeExpandLoaded(e){var t=Y["treeExpandedMaps"],r=G["fullAllDataRowIdData"],{transform:l,lazy:o}=ue.value,e=Tr(pe,e),r=r[e];return o&&r&&(r.treeLoaded=!1,t[e])&&delete t[e],l?(i(),Q.handleTableData()):(0,gr.nextTick)()},reloadTreeExpand(e){var t=Y["treeExpandLazyLoadedMaps"],r=ue.value,l=r.hasChild||r.hasChildField;const{transform:o,lazy:n}=r;r=Tr(pe,e);return n&&e[l]&&!t[r]?Z.clearTreeExpandLoaded(e).then(()=>wt(e)).then(()=>{if(o)return i(),Q.handleTableData()}).then(()=>Z.recalculate()):(0,gr.nextTick)()},reloadTreeChilds(e){return Mr("vxe.error.delFunc",["reloadTreeChilds","reloadTreeExpand"]),Z.reloadTreeExpand(e)},toggleTreeExpand(e){return Z.setTreeExpand(e,!Z.isTreeExpandByRow(e))},setAllTreeExpand(e){var t=G["tableFullData"],r=ue.value;const{transform:l,lazy:o}=r,n=r.children||r.childrenField,a=[];return hr().eachTree(t,e=>{var t=e[n];(o||t&&t.length)&&a.push(e)},{children:n}),Z.setTreeExpand(a,e).then(()=>{if(l)return i(),Z.recalculate()})},setTreeExpand(e,t){var r,l=ue.value["transform"];return e&&(e=hr().isArray(e)?e:[e]).length?l?(l=e,r=t,$t(l,r).then(()=>{i(),Q.handleTableData(),ft()}).then(()=>Z.recalculate()).then(()=>{setTimeout(()=>{Z.updateCellAreas()},30)})):$t(e,t):(0,gr.nextTick)()},isTreeExpandByRow(e){var t=Y["treeExpandedMaps"];return!!t[Tr(pe,e)]},clearTreeExpand(){var e=G["tableFullTreeData"],t=ue.value,r=t.children||t.childrenField;const{transform:l,reserve:o}=t,n=Z.getTreeExpandRecords();return Y.treeExpandedMaps={},o&&hr().eachTree(e,e=>yt(e,!1),{children:r}),Q.handleTableData().then(()=>{if(l)return i(),Q.handleTableData()}).then(()=>{if(n.length)return Z.recalculate()})},clearTreeExpandReserve(){return G.treeExpandedReserveRowMap={},(0,gr.nextTick)()},getScroll(){var{scrollXLoad:e,scrollYLoad:t}=Y,r=re.value.$el;return{virtualX:e,virtualY:t,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}},scrollTo(e,t){var r,l=re.value,o=te.value,n=le.value,a=p.value,i=m.value,l=l?l.$el:null,a=a?a.$el:null,i=i?i.$el:null,o=o?o.$el:null,n=n?n.$el:null;return hr().isNumber(e)&&((r=Fe.value)?wr(r,e):(wr(l,e),wr(o,e),wr(n,e))),hr().isNumber(t)&&((r=De.value)?Cr(r,t):(Cr(l,t),Cr(a,t),Cr(i,t))),Y.scrollXLoad||Y.scrollYLoad?new Promise(e=>{setTimeout(()=>{(0,gr.nextTick)(()=>{e()})},50)}):(0,gr.nextTick)()},scrollToRow(e,t){var r,l=[];return e&&(q.treeConfig?l.push(Q.scrollToTreeRow(e)):l.push(Yr(pe,e))),t&&l.push((t=t,e=e,r=G.fullColumnIdData,(t=Fr(pe,t))&&r[t.id]?Gr(pe,t,e):(0,gr.nextTick)())),Promise.all(l)},scrollToColumn(e){var t=G["fullColumnIdData"],e=Fr(pe,e);return e&&t[e.id]?Gr(pe,e):(0,gr.nextTick)()},clearScroll(){var{scrollXStore:e,scrollYStore:t}=G,r=re.value,l=te.value,o=le.value,n=p.value,a=m.value;const i=n?n.$el:null,s=r?r.$el:null,c=a?a.$el:null,d=l?l.$el:null,u=o?o.$el:null;n=Fe.value,n?wr(n,0):(wr(s,0),wr(d,0),wr(u,0)),r=De.value;return r?Cr(r,0):(Cr(s,0),Cr(i,0),Cr(c,0)),e.startIndex=0,e.endIndex=e.visibleSize,t.startIndex=0,t.endIndex=t.visibleSize,(0,gr.nextTick)().then(()=>{wr(s,0),wr(d,0),wr(u,0),Cr(s,0),Cr(i,0),Cr(c,0)})},updateFooter(){var{showFooter:e,footerData:t,footerMethod:r}=q,{visibleColumn:l,afterFullData:o}=G;let n=[];return e&&t&&t.length?n=t.slice(0):e&&r&&(n=l.length?r({columns:l,data:o,$table:pe,$grid:oe}):[]),Y.footerTableData=n,(0,gr.nextTick)()},updateStatus(a,i){const s=!hr().isUndefined(i);return(0,gr.nextTick)().then(()=>{var e=q["editRules"];const t=Y["validStore"];var r=re.value;if(a&&r&&e){const{row:l,column:o}=a;if(pe.hasCellRules&&pe.hasCellRules("change",l,o)){const n=Z.getCellElement(l,o);if(n)return pe.validCellRules("change",l,o,i).then(()=>{s&&t.visible&&Rr(l,o,i),pe.clearValidate(l,o)}).catch(({rule:e})=>{s&&Rr(l,o,i),pe.showValidTooltip({rule:e,row:l,column:o,cell:n})})}}})},setMergeCells(e){return q.spanMethod&&Ir("vxe.error.errConflicts",["merge-cells","span-method"]),ot(e,Y.mergeList,G.afterFullData),(0,gr.nextTick)().then(()=>(Z.updateCellAreas(),y()))},removeMergeCells(e){q.spanMethod&&Ir("vxe.error.errConflicts",["merge-cells","span-method"]);const t=nt(e,Y.mergeList,G.afterFullData);return(0,gr.nextTick)().then(()=>(Z.updateCellAreas(),y(),t))},getMergeCells(){return Y.mergeList.slice(0)},clearMergeCells(){return Y.mergeList=[],(0,gr.nextTick)().then(()=>y())},setMergeFooterItems(e){return q.footerSpanMethod&&Ir("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),ot(e,Y.mergeFooterList),(0,gr.nextTick)().then(()=>(Z.updateCellAreas(),y()))},removeMergeFooterItems(e){q.footerSpanMethod&&Ir("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);const t=nt(e,Y.mergeFooterList);return(0,gr.nextTick)().then(()=>(Z.updateCellAreas(),y(),t))},getMergeFooterItems(){return Y.mergeFooterList.slice(0)},clearMergeFooterItems(){return Y.mergeFooterList=[],(0,gr.nextTick)().then(()=>y())},updateCellAreas(){var e=q["mouseConfig"],t=ce.value;return e&&t.area&&pe.handleRecalculateCellAreas?pe.handleRecalculateCellAreas():(0,gr.nextTick)()},getCustomStoreData(){var e=q["id"],t=H.value;const c=G["collectColumn"],d=t["checkMethod"],u={},p={},m={},h={};t={resizableData:void 0,sortData:void 0,visibleData:void 0,fixedData:void 0};if(e){let n=0,a=0,i=0,s=0;hr().eachTree(c,(e,t,r,l,o)=>{o||(c.forEach(e=>{var t=e.getKey();t&&(a=1,p[t]=e.renderSortNumber)}),e.fixed&&e.fixed!==e.defaultFixed&&(o=e.getKey())&&(i=1,h[o]=e.fixed)),e.resizeWidth&&(o=e.getKey())&&(n=1,u[o]=e.renderWidth),d&&!d({column:e})||(!e.visible&&e.defaultVisible?(o=e.getKey())&&(s=1,m[o]=!1):e.visible&&!e.defaultVisible&&(o=e.getKey())&&(s=1,m[o]=!0))}),n&&(t.resizableData=u),a&&(t.sortData=p),i&&(t.fixedData=h),s&&(t.visibleData=m)}else Ir("vxe.error.reqProp",["id"]);return t},focus(){return G.isActivated=!0,(0,gr.nextTick)()},blur(){return(G.isActivated=!1,gr.nextTick)()},connect(e){return e?(g=e).syncUpdate({collectColumn:G.collectColumn,$table:pe}):Ir("vxe.error.barUnableLink"),(0,gr.nextTick)()}},r=>{var{editStore:e,ctxMenuStore:t,filterStore:l,customStore:o}=Y;const{mouseConfig:n,editRules:a}=q,i=J.value,s=se.value,c=Ve.value;var d=Ne.value;const u=e["actived"];var e=xe.value,p=Ce.value,m=we.value,h=be.value;if(!p||yr(r,i,"vxe-cell--filter").flag||yr(r,p.$el).flag||yr(r,document.body,"vxe-table--ignore-clear").flag||Q.preventEvent(r,"event.clearFilter",l.args,Z.closeFilter),!m||o.btnEl===r.target||yr(r,document.body,"vxe-toolbar-custom-target").flag||yr(r,m.$el).flag||yr(r,document.body,"vxe-table--ignore-clear").flag||Q.preventEvent(r,"event.clearCustom",{},()=>{pe.closeCustom&&pe.closeCustom()}),u.row)!1===s.autoClear||(p=u.args.cell)&&yr(r,p).flag||e&&yr(r,e.$el).flag||G._lastCallTime&&!(G._lastCallTime+50<Date.now())||yr(r,document.body,"vxe-table--ignore-clear").flag||Q.preventEvent(r,"event.clearEdit",u.args,()=>{let e;var t;(e=(e=(e="row"===s.mode?!!(t=(t=yr(r,i,"vxe-body--row")).flag?Z.getRowNode(t.targetElem):null)&&!pe.eqRow(t.item,u.args.row):!yr(r,i,"col--edit").flag)||yr(r,i,"vxe-header--row").flag)||yr(r,i,"vxe-footer--row").flag)||!q.height||Y.overflowY||jr(t=r.target,"vxe-table--body-wrapper")&&(e=r.offsetY<t.clientHeight),!e&&yr(r,i).flag||setTimeout(()=>{pe.handleClearEdit(r).then(()=>{!G.isActivated&&a&&c.autoClear&&(Y.validErrorMaps={})})})});else if(n&&!(yr(r,i).flag||oe&&yr(r,oe.getRefMaps().refElem.value).flag||h&&yr(r,h.getRefMaps().refElem.value).flag||g&&yr(r,g.getRefMaps().refElem.value).flag)&&(pe.clearSelected&&pe.clearSelected(),d.autoClear)&&pe.getCellAreas){const f=pe.getCellAreas();f&&f.length&&!yr(r,document.body,"vxe-table--ignore-areas-clear").flag&&Q.preventEvent(r,"event.clearAreas",{},()=>{pe.clearCellAreas(),pe.clearCopyCellArea(),me("clear-cell-area-selection",{cellAreas:f},r)})}pe.closeMenu&&t.visible&&h&&!yr(r,h.getRefMaps().refElem.value).flag&&pe.closeMenu();l=yr(r,oe?oe.getRefMaps().refElem.value:i).flag;!l&&a&&c.autoClear&&(Y.validErrorMaps={}),G.isActivated=l}),Ut=()=>{Z.closeFilter(),pe.closeMenu&&pe.closeMenu()},zt=()=>{Z.closeTooltip(),pe.closeMenu&&pe.closeMenu()},Wt=t=>{const{mouseConfig:r,keyboardConfig:l}=q,{filterStore:o,ctxMenuStore:n,editStore:e}=Y,a=ce.value,i=de.value,s=e["actived"];Or.hasKey(t,Ar.ESCAPE)&&Q.preventEvent(t,"event.keydown",null,()=>{if(me("keydown-start",{},t),l&&r&&a.area&&pe.handleKeyboardCellAreaEvent)pe.handleKeyboardCellAreaEvent(t);else if((s.row||o.visible||n.visible)&&(t.stopPropagation(),pe.closeMenu&&pe.closeMenu(),Z.closeFilter(),l)&&i.isEsc&&s.row){const e=s.args;pe.handleClearEdit(t),a.selected&&(0,gr.nextTick)(()=>pe.handleSelected(e,t))}me("keydown",{},t),me("keydown-end",{},t)})},qt=W=>{G.isActivated&&Q.preventEvent(W,"event.keydown",null,()=>{var{mouseConfig:e,keyboardConfig:t,treeConfig:r,editConfig:l,highlightCurrentRow:o}=q;const{ctxMenuStore:n,editStore:$,currentRow:a}=Y;var i=G["afterFullData"],s=Pe.value,c=He.value,d=de.value,u=ce.value,p=se.value,m=ue.value,h=Be.value,f=ae.value;const{selected:v,actived:g}=$;var m=m.children||m.childrenField,x=W.keyCode,b=Or.hasKey(W,Ar.ESCAPE),C=Or.hasKey(W,Ar.BACKSPACE),_=Or.hasKey(W,Ar.TAB),w=Or.hasKey(W,Ar.ENTER),y=Or.hasKey(W,Ar.SPACEBAR),T=Or.hasKey(W,Ar.ARROW_LEFT),E=Or.hasKey(W,Ar.ARROW_UP),R=Or.hasKey(W,Ar.ARROW_RIGHT),S=Or.hasKey(W,Ar.ARROW_DOWN),N=Or.hasKey(W,Ar.DELETE),k=Or.hasKey(W,Ar.F2),M=Or.hasKey(W,Ar.CONTEXT_MENU),H=W.metaKey,I=W.ctrlKey,F=W.shiftKey,D=W.altKey,P=T||E||R||S,s=s&&n.visible&&(w||y||P),O=fr(l)&&g.column&&g.row;const A=p.beforeEditMethod||p.activeMethod;if(s)W.preventDefault(),n.showChild&&_r(n.selected)?pe.moveCtxMenu(W,n,"selectChild",T,!1,n.selected.children):pe.moveCtxMenu(W,n,"selected",R,!0,h);else if(t&&e&&u.area&&pe.handleKeyboardCellAreaEvent)pe.handleKeyboardCellAreaEvent(W);else if(b){if(pe.closeMenu&&pe.closeMenu(),Z.closeFilter(),t&&d.isEsc&&g.row){const B=g.args;pe.handleClearEdit(W),u.selected&&(0,gr.nextTick)(()=>pe.handleSelected(B,W))}}else if(y&&t&&d.isChecked&&v.row&&v.column&&("checkbox"===v.column.type||"radio"===v.column.type))W.preventDefault(),"checkbox"===v.column.type?Q.handleToggleCheckRowEvent(W,v.args):Q.triggerRadioRowEvent(W,v.args);else if(k&&fr(l))O||v.row&&v.column&&(W.preventDefault(),pe.handleEdit(v.args,W));else if(M)G._keyCtx=v.row&&v.column&&c.length,clearTimeout(Bt),Bt=setTimeout(()=>{G._keyCtx=!1},1e3);else if(w&&!D&&t&&d.isEnter&&(v.row||g.row||r&&(f.isCurrent||o)&&a)){var{isLastEnterAppendRow:s,beforeEnterMethod:h,enterMethod:e}=d;if(I){if(g.row){const j=g.args;pe.handleClearEdit(W),u.selected&&(0,gr.nextTick)(()=>pe.handleSelected(j,W))}}else if(v.row||g.row){b=(v.row?v:g).args;if(F)d.enterToTab?pe.moveTabSelected(b,F,W):pe.moveSelected(b,T,!0,R,!1,W);else if(d.enterToTab)pe.moveTabSelected(b,F,W);else{k=pe.getVTRowIndex(v.row),M={row:v.row,rowIndex:pe.getRowIndex(v.row),$rowIndex:pe.getVMRowIndex(v.row),_rowIndex:k,column:v.column,columnIndex:pe.getColumnIndex(v.column),$columnIndex:pe.getVMColumnIndex(v.column),_columnIndex:pe.getVTColumnIndex(v.column),$table:pe};if(!h||!1!==h(M)){if(s&&k>=i.length-1)return pe.insertAt({},-1).then(({row:e})=>{pe.scrollToRow(e,v.column),pe.setSelectCell(e,v.column)}),void pe.dispatchEvent("enter-append-row",M,W);pe.moveSelected(b,T,!1,R,!0,W),e&&e(M)}}}else if(r&&(f.isCurrent||o)&&a){c=a[m];if(c&&c.length){W.preventDefault();const V=c[0],U={$table:pe,row:V,rowIndex:Z.getRowIndex(V),$rowIndex:Z.getVMRowIndex(V)};Z.setTreeExpand(a,!0).then(()=>Z.scrollToRow(V)).then(()=>Q.triggerCurrentRowEvent(W,U))}}}else if(P&&t&&d.isArrow)O||(v.row&&v.column?pe.moveSelected(v.args,T,E,R,S,W):(E||S)&&(f.isCurrent||o)&&pe.moveCurrentRow(E,S,W));else if(_&&t&&d.isTab)v.row||v.column?pe.moveTabSelected(v.args,F,W):(g.row||g.column)&&pe.moveTabSelected(g.args,F,W);else if(t&&d.isDel&&N&&fr(l)&&(v.row||v.column))O||(w=d["delMethod"],D={row:v.row,rowIndex:Z.getRowIndex(v.row),column:v.column,columnIndex:Z.getColumnIndex(v.column),$table:pe,$grid:oe},A&&!A(D))||(w?w(D):Rr(v.row,v.column,null),Z.updateFooter(),me("cell-delete-value",D,W));else if(C&&t&&d.isBack&&fr(l)&&(v.row||v.column))O||(u=d["backMethod"],d.isDel&&fr(l)&&(v.row||v.column)&&(h={row:v.row,rowIndex:Z.getRowIndex(v.row),column:v.column,columnIndex:Z.getColumnIndex(v.column),$table:pe,$grid:oe},A&&!A(h)||(u?u(h):(Rr(v.row,v.column,null),pe.handleEdit(v.args,W)),me("cell-backspace-value",h,W))));else if(C&&t&&r&&d.isBack&&(f.isCurrent||o)&&a){const L=hr().findTree(G.afterTreeFullData,e=>e===a,{children:m})["parent"];if(L){W.preventDefault();const z={row:L,rowIndex:Z.getRowIndex(L),$rowIndex:Z.getVMRowIndex(L),$table:pe,$grid:oe};Z.setTreeExpand(L,!1).then(()=>Z.scrollToRow(L)).then(()=>Q.triggerCurrentRowEvent(W,z))}}else if(t&&fr(l)&&d.isEdit&&!I&&!H&&(y||48<=x&&x<=57||65<=x&&x<=90||96<=x&&x<=111||186<=x&&x<=192||219<=x&&x<=222)){var{editMode:s,editMethod:k}=d;if(v.column&&v.row&&fr(v.column.editRender)){const A=p.beforeEditMethod||p.activeMethod;i={row:v.row,rowIndex:Z.getRowIndex(v.row),column:v.column,columnIndex:Z.getColumnIndex(v.column),$table:pe,$grid:oe};A&&!A({...v.args,$table:pe,$grid:oe})||(k?k(i):("insert"!==s&&Rr(v.row,v.column,null),pe.handleEdit(v.args,W)))}}me("keydown",{},W)})},Xt=e=>{var{keyboardConfig:t,mouseConfig:r}=q,{editStore:l,filterStore:o}=Y,n=G["isActivated"],a=ce.value,i=de.value,l=l["actived"];n&&!o.visible&&(l.row||l.column||t&&i.isClip&&r&&a.area&&pe.handlePasteCellAreaEvent&&pe.handlePasteCellAreaEvent(e),me("paste",{},e))},Kt=e=>{var{keyboardConfig:t,mouseConfig:r}=q,{editStore:l,filterStore:o}=Y,n=G["isActivated"],a=ce.value,i=de.value,l=l["actived"];n&&!o.visible&&(l.row||l.column||t&&i.isClip&&r&&a.area&&pe.handleCopyCellAreaEvent&&pe.handleCopyCellAreaEvent(e),me("copy",{},e))},Yt=e=>{var{keyboardConfig:t,mouseConfig:r}=q,{editStore:l,filterStore:o}=Y,n=G["isActivated"],a=ce.value,i=de.value,l=l["actived"];n&&!o.visible&&(l.row||l.column||t&&i.isClip&&r&&a.area&&pe.handleCutCellAreaEvent&&pe.handleCutCellAreaEvent(e),me("cut",{},e))},Gt=()=>{pe.closeMenu&&pe.closeMenu();var e=J.value;if(!e||!e.clientWidth)return(0,gr.nextTick)();Z.recalculate(!0),Z.updateCellAreas()},Zt=e=>{var t=ee.value;clearTimeout(G.tooltipTimeout),e?Z.closeTooltip():t&&t.setActived&&t.setActived(!0)},Qt=()=>{var e=J.value;if(e){const t="row--drag-origin";hr().arrayEach(e.querySelectorAll("."+t),e=>{e.draggable=!1,xr(e,t)})}},Jt=()=>{var e=J.value;if(e){const t="col--drag-origin";hr().arrayEach(e.querySelectorAll("."+t),e=>{e.draggable=!1,xr(e,t)})}},er=(e,t,r,l)=>{var o=J.value;if(o){var{scrollbarWidth:n,scrollbarHeight:a}=Y,i=o.getBoundingClientRect();if(t){var s=Se.value;if(s){t=t.getBoundingClientRect();let e=Math.max(1,t.y-i.y);"bottom"===l&&(e=Math.min(i.height-1,t.y-i.y+t.height)),s.style.top=e+"px",s.style.width=i.width-n+"px",s.style.display="block"}}else if(r){t=ke.value;if(t){n=r.getBoundingClientRect();let e=Math.max(1,n.x-i.x);"right"===l&&(e=Math.min(i.width-2,n.x-i.x+n.width)),t.style.left=e+"px",t.style.height=i.height-a+"px",t.style.display="block"}}s=Re.value;s&&(s.style.display="block",s.style.top=Math.min(o.clientHeight-o.scrollTop-s.clientHeight,e.clientY-i.y)+"px",s.style.left=Math.min(o.clientWidth-o.scrollLeft-s.clientWidth-16,e.clientX-i.x)+"px")}},f=()=>{var e=Re.value,t=Se.value,r=ke.value;e&&(e.style.display=""),t&&(t.style.display=""),r&&(r.style.display="")},tr=(e,t,r,l,o)=>{o.cell=t;var t=Y["tooltipStore"],{column:n,row:a}=o,{showAll:i,contentMethod:s}=u.value,o=s?s(o):null,s=s&&!hr().eqNull(o);const c=s?o:hr().toString("html"===n.type?r.innerText:r.textContent).trim(),d=r.scrollWidth>r.clientWidth;return c&&(i||s||d)&&(Object.assign(t,{row:a,column:n,visible:!0,currOpts:{}}),(0,gr.nextTick)(()=>{var e=ee.value;e&&e.open&&e.open(!d&&l||r,vr(c))})),(0,gr.nextTick)()},rr=(e,t)=>{if(e){if(oe)return oe.callSlot(e,t);if(hr().isFunction(e))return kr(e(t))}return[]},lr=(Q={getSetupOptions(){return Dr()},updateAfterDataIndex:vt,callSlot:rr,getParentElem(){var e,t=J.value;return oe?(e=oe.getRefMaps().refElem.value)?e.parentNode:null:t?t.parentNode:null},getParentHeight(){var e=q["height"],t=J.value;return t?(t=t.parentNode,e="100%"===e||"auto"===e?Ur(t):0,Math.floor(oe?oe.getParentHeight():hr().toNumber(getComputedStyle(t).height)-e)):0},getExcludeHeight(){return oe?oe.getExcludeHeight():0},defineField(e){const t=q["treeConfig"],r=R.value,l=ue.value,n=E.value,a=ie.value,i=l.children||l.childrenField,s=Xr(pe);return(e=hr().isArray(e)?e:[e]).map(o=>{return G.tableFullColumn.forEach(t=>{var{field:r,editRender:l}=t;if(r&&!hr().has(o,r)&&!o[r]){let e=null;l&&(l=l["defaultValue"],hr().isFunction(l)?e=l({column:t}):hr().isUndefined(l)||(e=l)),hr().set(o,r,e)}}),[n.labelField,a.checkField,a.labelField,r.labelField].forEach(e=>{e&&Hr(hr().get(o,e))&&hr().set(o,e,null)}),t&&l.lazy&&hr().isUndefined(o[i])&&(o[i]=null),Hr(hr().get(o,s))&&hr().set(o,s,qr()),o})},handleTableData(r){var e=Y["scrollYLoad"];const{scrollYStore:t,fullDataRowIdData:l}=G;let o=G.afterFullData;if(r){{var r=q["treeConfig"],{tableFullColumn:n,tableFullData:a,tableFullTreeData:s}=G,c=O.value,d=w.value,u=ue.value,p=u.children||u.childrenField,m=u["transform"];const{remote:h,filterMethod:f}=c,{remote:v,sortMethod:g,multiple:x,chronological:b}=d;let e=[],t=[];if(h&&v)r&&m?(t=hr().searchTree(s,()=>!0,{original:!0,isEvery:!0,children:u.mapChildrenField,mapChildren:p}),e=t):(e=(r?s:a).slice(0),t=e);else{const C=[];let i=[];n.forEach(e=>{var{field:t,sortable:r,order:l,filters:o}=e;if(!h&&o&&o.length){const n=[],a=[];o.forEach(e=>{e.checked&&(a.push(e),n.push(e.value))}),a.length&&C.push({column:e,valueList:n,itemList:a})}!v&&r&&l&&i.push({column:e,field:t,property:t,order:l,sortTime:e.sortTime})}),x&&b&&1<i.length&&(i=hr().orderBy(i,"sortTime")),!h&&C.length?(c=c=>C.every(({column:t,valueList:e,itemList:r})=>{const{filterMethod:l,filterRender:o}=t;var n=fr(o)?ml.get(o.name):null;const a=n?n.tableFilterMethod||n.filterMethod:null,i=n?n.tableFilterDefaultMethod||n.defaultTableFilterMethod||n.defaultFilterMethod:null,s=Er(c,t);return l?r.some(e=>l({value:e.value,option:e,cellValue:s,row:c,column:t,$table:pe})):a?r.some(e=>a({value:e.value,option:e,cellValue:s,row:c,column:t,$table:pe})):f?f({options:r,values:e,cellValue:s,row:c,column:t}):i?r.some(e=>i({value:e.value,option:e,cellValue:s,row:c,column:t,$table:pe})):-1<e.indexOf(hr().get(c,t.field))}),r&&m?(t=hr().searchTree(s,c,{original:!0,isEvery:!0,children:u.mapChildrenField,mapChildren:p}),e=t):(e=(r?s:a).filter(c),t=e)):r&&m?(t=hr().searchTree(s,()=>!0,{original:!0,isEvery:!0,children:u.mapChildrenField,mapChildren:p}),e=t):(e=(r?s:a).slice(0),t=e),!v&&i.length&&(r&&m?(t=g?(d=g({data:t,sortList:i,$table:pe}),hr().isArray(d)?d:t):hr().orderBy(t,i.map(({column:e,order:t})=>[ht(e),t])),e=t):(e=g?(n=g({data:e,sortList:i,$table:pe}),hr().isArray(n)?n:e):hr().orderBy(e,i.map(({column:e,order:t})=>[ht(e),t])),t=e))}G.afterFullData=e,G.afterTreeFullData=t,vt()}o=i()}c=e?o.slice(t.startIndex,t.endIndex):o.slice(0);return c.forEach((e,t)=>{e=Tr(pe,e),e=l[e];e&&(e.$index=t)}),Y.tableData=c,(0,gr.nextTick)()},cacheRowMap(s){const c=q["treeConfig"];var e=ue.value;const{fullAllDataRowIdData:d,tableFullData:t,tableFullTreeData:r}=G,u=e.children||e.childrenField,p=e.hasChild||e.hasChildField,m=Xr(pe),h=c&&e.lazy,f={},v={};e=(e,t,r,l,o,n)=>{let a=Tr(pe,e);l=c&&l?l.map((e,t)=>t%2==0?Number(e)+1:".").join(""):t+1,n=n?n.length-1:0;Hr(a)&&(a=qr(),hr().set(e,m,a)),h&&e[p]&&hr().isUndefined(e[u])&&(e[u]=null);let i=d[a];i=i||{row:e,rowid:a,seq:l,index:-1,_index:-1,$index:-1,items:r,parent:o,level:n,height:0},s&&(i.index=c&&o?-1:t,v[a]=i),f[a]=i};s&&(G.fullDataRowIdData=v),G.fullAllDataRowIdData=f,c?hr().eachTree(r,e,{children:u}):t.forEach(e)},cacheSourceMap(e){var t=q["treeConfig"],r=ue.value;let l=G["sourceDataRowIdData"];e=hr().clone(e,!0);const o=Xr(pe);l=G.sourceDataRowIdData={};var n=e=>{let t=Tr(pe,e);Hr(t)&&(t=qr(),hr().set(e,o,t)),l[t]=e};t?(t=r.children||r.childrenField,hr().eachTree(e,n,{children:r.transform?r.mapChildrenField:t})):e.forEach(n),G.tableSourceData=e},analyColumnWidth(){var e=G["tableFullColumn"];const{width:t,minWidth:r}=ne.value,l=[],o=[],n=[],a=[],i=[],s=[],c=[],d=[];e.forEach(e=>{t&&!e.width&&(e.width=t),r&&!e.minWidth&&(e.minWidth=r),e.visible&&(e.resizeWidth?l:"auto"===e.width?c:Pr(e.width)?o:Br(e.width)?i:Pr(e.minWidth)?n:"auto"===e.minWidth?a:Br(e.minWidth)?s:d).push(e)}),Object.assign(Y.columnStore,{resizeList:l,pxList:o,pxMinList:n,autoMinList:a,scaleList:i,scaleMinList:s,autoList:c,remainList:d})},saveCustomStore(e){var t=s.value,{updateStore:r,storage:l}=H.value,o=!0===l,l=o?{}:Object.assign({},l||{}),n=o||l.resizable,a=o||l.visible,i=o||l.fixed,o=o||l.sort;if(n||a||i||o){if(!t)return Ir("vxe.error.reqProp",["id"]),(0,gr.nextTick)();l="reset"===e?{resizableData:{},sortData:{},visibleData:{},fixedData:{}}:Z.getCustomStoreData();if(r)return r({id:t,type:e,storeData:l});n=t,a="reset"===e?null:l,i=Dr().version,(o=Ze())[n]=a||void 0,o._v=i,localStorage.setItem(Cl,hr().toJSONString(o))}return(0,gr.nextTick)()},handleCustom(){var e=q["mouseConfig"];return e&&(pe.clearSelected&&pe.clearSelected(),pe.clearCellAreas)&&(pe.clearCellAreas(),pe.clearCopyCellArea()),Q.analyColumnWidth(),Z.refreshColumn(!0)},handleUpdateDataQueue(){Y.upDataFlag++},handleRefreshColumnQueue(){Y.reColumnFlag++},preventEvent(t,e,r,l,o){let n=gl.get(e);n.length||"event.clearEdit"!==e||(n=gl.get("event.clearActived")).length&&Mr("vxe.error.delEvent",["event.clearActived","event.clearEdit"]);let a;return n.some(e=>!1===e(Object.assign({$grid:oe,$table:pe,$event:t},r)))||l&&(a=l()),o&&o(),a},checkSelectionStatus(){var l=q["treeConfig"];const{selectCheckboxMaps:o,treeIndeterminateMaps:n}=Y;var a=G["afterFullData"],e=ie.value;const{checkField:i,checkStrictly:t,checkMethod:s}=e,c=e.indeterminateField||e.halfField;if(!t){const d=[],u=[];let e=!1,t=!1,r=!1;r=i?(e=a.every(s?e=>s({row:e})?!!hr().get(e,i)&&(u.push(e),!0):(d.push(e),!0):e=>hr().get(e,i)),t=e&&a.length!==d.length,l?c?!t&&a.some(e=>hr().get(e,i)||hr().get(e,c)||!!n[Tr(pe,e)]):!t&&a.some(e=>hr().get(e,i)||!!n[Tr(pe,e)]):c?!t&&a.some(e=>hr().get(e,i)||hr().get(e,c)):!t&&a.some(e=>hr().get(e,i))):(e=a.every(s?e=>s({row:e})?!!o[Tr(pe,e)]&&(u.push(e),!0):(d.push(e),!0):e=>o[Tr(pe,e)]),t=e&&a.length!==d.length,l?!t&&a.some(e=>{e=Tr(pe,e);return n[e]||o[e]}):!t&&a.some(e=>o[Tr(pe,e)])),Y.isAllSelected=t,Y.isIndeterminate=r}},handleBatchSelectRows(e,r,l){var t=q["treeConfig"],o=Y["selectCheckboxMaps"];const{checkField:n,checkStrictly:a,checkMethod:i}=ie.value;if(n)t&&!a?e.forEach(e=>{Q.handleSelectRow({row:e},r,l)}):e.forEach(e=>{!l&&i&&!i({row:e})||(hr().set(e,n,r),T(e,r))});else if(t&&!a)e.forEach(e=>{Q.handleSelectRow({row:e},r,l)});else{const s=Object.assign({},o);e.forEach(e=>{var t=Tr(pe,e);!l&&i&&!i({row:e})||(r?s[t]||(s[t]=e):s[t]&&delete s[t],T(e,r))}),Y.selectCheckboxMaps=s}},handleSelectRow({row:r},l,o){var e=q["treeConfig"];const{selectCheckboxMaps:t,treeIndeterminateMaps:n}=Y,a=Object.assign({},t);var i=G["afterFullData"],s=ue.value,s=s.children||s.childrenField,c=ie.value;const{checkField:d,checkStrictly:u,checkMethod:p}=c,m=c.indeterminateField||c.halfField;c=Tr(pe,r);if(d)if(e&&!u){-1===l?(n[c]||(m&&hr().set(r,m,!0),n[c]=r),hr().set(r,d,!1)):hr().eachTree([r],e=>{(pe.eqRow(e,r)||o||!p||p({row:e}))&&(hr().set(e,d,l),m&&hr().set(r,m,!1),delete n[Tr(pe,e)],T(r,l))},{children:s});var h=hr().findTree(i,e=>pe.eqRow(e,r),{children:s});if(h&&h.parent){let e;const f=[],v={};if(!o&&p?h.items.forEach(e=>{var t;p({row:e})&&(t=Tr(pe,e),v[t]=e,f.push(e))}):h.items.forEach(e=>{var t=Tr(pe,e);v[t]=e,f.push(e)}),hr().find(h.items,e=>!!n[Tr(pe,e)]))e=-1;else{const g=[];h.items.forEach(e=>{hr().get(e,d)&&g.push(e)}),e=g.filter(e=>v[Tr(pe,e)]).length===f.length||!(!g.length&&-1!==l)&&-1}return Y.selectCheckboxMaps=a,void Q.handleSelectRow({row:h.parent},e,o)}}else!o&&p&&!p({row:r})||(hr().set(r,d,l),T(r,l));else if(e&&!u){-1===l?(n[c]||(m&&hr().set(r,m,!0),n[c]=r),a[c]&&delete a[c]):hr().eachTree([r],e=>{var t=Tr(pe,e);(pe.eqRow(e,r)||o||!p||p({row:e}))&&(l?a[t]=e:a[t]&&delete a[t],m&&hr().set(r,m,!1),delete n[Tr(pe,e)],T(r,l))},{children:s});h=hr().findTree(i,e=>pe.eqRow(e,r),{children:s});if(h&&h.parent){let e;const x=[],b={};if(!o&&p?h.items.forEach(e=>{var t;p({row:e})&&(t=Tr(pe,e),b[t]=e,x.push(e))}):h.items.forEach(e=>{var t=Tr(pe,e);b[t]=e,x.push(e)}),hr().find(h.items,e=>!!n[Tr(pe,e)]))e=-1;else{const C=[];h.items.forEach(e=>{var t=Tr(pe,e);a[t]&&C.push(e)}),e=C.filter(e=>b[Tr(pe,e)]).length===x.length||!(!C.length&&-1!==l)&&-1}return Y.selectCheckboxMaps=a,void Q.handleSelectRow({row:h.parent},e,o)}}else!o&&p&&!p({row:r})||(l?a[c]||(a[c]=r):a[c]&&delete a[c],T(r,l));Y.selectCheckboxMaps=a},triggerHeaderTitleEvent(t,e,r){var l=e.content||e.message;if(l){var o=Y["tooltipStore"],r=r["column"];const n=Nr(l);Zt(!0),o.row=null,o.column=r,o.visible=!0,o.currOpts=e,(0,gr.nextTick)(()=>{var e=ee.value;e&&e.open&&e.open(t.currentTarget,n)})}},triggerHeaderTooltipEvent(e,t){var r=Y["tooltipStore"],l=t["column"],e=e.currentTarget;Zt(!0),r.column===l&&r.visible||tr(0,e,e,null,t)},triggerBodyTooltipEvent(r,l){var e=q["editConfig"],t=Y["editStore"],o=Y["tooltipStore"],n=se.value,t=t["actived"],{row:a,column:i}=l,r=r.currentTarget;if(Zt(o.column!==i||o.row!==a),i.editRender&&fr(e)){if("row"===n.mode&&t.row===a)return;if(t.row===a&&t.column===i)return}if(o.column!==i||o.row!==a||!o.visible){let e,t;i.treeNode?(e=r.querySelector(".vxe-tree-cell"),"html"===i.type&&(t=r.querySelector(".vxe-cell--html"))):t=r.querySelector("html"===i.type?".vxe-cell--html":".vxe-cell--label"),tr(0,r,e||r.children[0],t,l)}},triggerFooterTooltipEvent(e,t){var r=t["column"],l=Y["tooltipStore"],e=e.currentTarget;Zt(l.column!==r||!!l.row),l.column===r&&l.visible||tr(0,e,e.querySelector(".vxe-cell--item")||e.children[0],null,t)},handleTargetLeaveEvent(){var e=u.value;let t=ee.value;t&&t.setActived&&t.setActived(!1),e.enterable?G.tooltipTimeout=setTimeout(()=>{(t=ee.value)&&t.isActived&&!t.isActived()&&Z.closeTooltip()},e.leaveDelay):Z.closeTooltip()},triggerHeaderCellClickEvent(e,t){var r=G["_lastResizeTime"],l=w.value,o=ne.value,n=t["column"],a=e.currentTarget,r=r&&r>Date.now()-300,i=yr(e,a,"vxe-cell--sort").flag,s=yr(e,a,"vxe-cell--filter").flag;"cell"!==l.trigger||r||i||s||Q.triggerSortEvent(e,n,Ge(n)),me("header-cell-click",Object.assign({triggerResizable:r,triggerSort:i,triggerFilter:s,cell:a},t),e),(o.isCurrent||q.highlightCurrentColumn)&&Q.triggerCurrentColumnEvent(e,t)},triggerHeaderCellDblclickEvent(e,t){me("header-cell-dblclick",Object.assign({cell:e.currentTarget},t),e)},triggerCellClickEvent(e,t){var{highlightCurrentRow:r,editConfig:l}=q,o=Y["editStore"],n=R.value,a=se.value,i=ue.value,s=E.value,c=ie.value,d=de.value,u=ae.value,{actived:o,focused:p}=o,{row:m,column:h}=t,{type:f,treeNode:v}=h,g="radio"===f,x="checkbox"===f,f="expand"===f,b=e.currentTarget,C=g&&yr(e,b,"vxe-cell--radio").flag,w=x&&yr(e,b,"vxe-cell--checkbox").flag,y=v&&yr(e,b,"vxe-tree--btn-wrapper").flag,T=f&&yr(e,b,"vxe-table--expanded").flag;t=Object.assign({cell:b,triggerRadio:C,triggerCheckbox:w,triggerTreeNode:y,triggerExpandNode:T},t),!w&&!C&&(!T&&("row"===n.trigger||f&&"cell"===n.trigger)&&Q.triggerRowExpandEvent(e,t),"row"===i.trigger||v&&"cell"===i.trigger)&&Q.triggerTreeExpandEvent(e,t),y||(T||(!u.isCurrent&&!r||w||C||Q.triggerCurrentRowEvent(e,t),!C&&("row"===s.trigger||g&&"cell"===s.trigger)&&Q.triggerRadioRowEvent(e,t),!w&&("row"===c.trigger||x&&"cell"===c.trigger)&&Q.handleToggleCheckRowEvent(e,t)),fr(l)&&(d.arrowCursorLock&&e&&"cell"===a.mode&&e.target&&/^input|textarea$/i.test(e.target.tagName)&&(p.column=h,p.row=m),"manual"===a.trigger?o.args&&o.row===m&&h!==o.column&&xt(e,t):o.args&&m===o.row&&h===o.column||("click"===a.trigger||"dblclick"===a.trigger&&"row"===a.mode&&o.row===m)&&xt(e,t))),me("cell-click",t,e)},triggerCellDblclickEvent(e,t){var r=q["editConfig"],l=Y["editStore"],o=se.value,l=l["actived"],n=e.currentTarget;t=Object.assign({cell:n},t),!fr(r)||"dblclick"!==o.trigger||l.args&&e.currentTarget===l.args.cell||("row"===o.mode?gt("blur").catch(e=>e).then(()=>{pe.handleEdit(t,e).then(()=>gt("change")).catch(e=>e)}):"cell"===o.mode&&pe.handleEdit(t,e).then(()=>gt("change")).catch(e=>e)),me("cell-dblclick",t,e)},handleToggleCheckRowEvent(t,r){var l=Y["selectCheckboxMaps"],{checkField:o,trigger:e}=ie.value,n=r["row"];if("manual"!==e){let e=!1;e=o?!hr().get(n,o):!l[Tr(pe,n)],t?Q.triggerCheckRowEvent(t,r,e):(Q.handleSelectRow(r,e),Q.checkSelectionStatus())}},triggerCheckRowEvent(e,t,r){var l=ie.value,o=t["row"],n=G["afterFullData"],{checkMethod:a,trigger:i}=l;if("manual"!==i){if(e.stopPropagation(),l.isShiftKey&&e.shiftKey&&!q.treeConfig){i=Z.getCheckboxRecords();if(i.length){l=i[0],i=Z.getVTRowIndex(o),l=Z.getVTRowIndex(l);if(i!==l)return Z.setAllCheckboxRow(!1),n=i<l?n.slice(i,l+1):n.slice(l,i+1),S(n,!0,!1),void me("checkbox-range-select",Object.assign({rangeRecords:n},t),e)}}a&&!a({row:o})||(Q.handleSelectRow(t,r),Q.checkSelectionStatus(),me("checkbox-change",Object.assign({records:Z.getCheckboxRecords(),reserves:Z.getCheckboxReserveRecords(),indeterminates:Z.getCheckboxIndeterminateRecords(),checked:r},t),e))}},triggerCheckAllEvent(e,t){var r=ie.value["trigger"];"manual"!==r&&(e&&e.stopPropagation(),_t(e,t))},triggerRadioRowEvent(r,l){var o=Y["selectRadioRow"],n=l["row"],a=E.value,e=a["trigger"];if("manual"!==e){r.stopPropagation();let e=n,t=o!==e;t?bt(e):a.strict||(t=o===e)&&(e=null,Z.clearRadioRow()),t&&me("radio-change",{oldValue:o,newValue:e,...l},r)}},triggerCurrentColumnEvent(e,t){var r=ne.value["currentMethod"],t=t["column"];r&&!r({column:t})||Z.setCurrentColumn(t)},triggerCurrentRowEvent(e,t){var r=Y["currentRow"],l=ae.value["currentMethod"],o=t["row"],n=r!==o;l&&!l({row:o})||(Z.setCurrentRow(o),n&&me("current-change",{oldValue:r,newValue:o,...t},e))},triggerRowExpandEvent(e,t){var{rowExpandLazyLoadedMaps:r,expandColumn:l}=Y,t=t["row"],{lazy:o,trigger:n}=R.value;"manual"===n||(e.stopPropagation(),n=Tr(pe,t),o&&r[n])||(o=!Z.isRowExpandByRow(t),r=Z.getColumnIndex(l),n=Z.getVMColumnIndex(l),Z.setRowExpand(t,o),me("toggle-row-expand",{expanded:o,column:l,columnIndex:r,$columnIndex:n,row:t,rowIndex:Z.getRowIndex(t),$rowIndex:Z.getVMRowIndex(t)},e))},triggerTreeExpandEvent(e,t){var r=Y["treeExpandLazyLoadedMaps"],{row:t,column:l}=t,{lazy:o,trigger:n}=ue.value;"manual"===n||(e.stopPropagation(),n=Tr(pe,t),o&&r[n])||(o=!Z.isTreeExpandByRow(t),r=Z.getColumnIndex(l),n=Z.getVMColumnIndex(l),Z.setTreeExpand(t,o),me("toggle-tree-expand",{expanded:o,column:l,columnIndex:r,$columnIndex:n,row:t},e))},triggerSortEvent(e,t,r){var l=q["mouseConfig"],o=w.value,n=ce.value,{field:a,sortable:i}=t;i&&(r&&t.order!==r?Z.sort({field:a,order:r}):Z.clearSort(o.multiple?t:null),i={$table:pe,$event:e,column:t,field:a,property:a,order:t.order,sortList:Z.getSortColumns(),sortTime:t.sortTime},l&&n.area&&pe.handleSortEvent&&pe.handleSortEvent(e,i),me("sort-change",i,e))},handleRowDragDragstartEvent(e){var t=new Image;e.dataTransfer&&e.dataTransfer.setDragImage(t,0,0)},handleRowDragDragendEvent(o){const{treeConfig:n,dragConfig:e}=q;var t=k.value["dragEndMethod"];const a=ue.value["transform"],i=Y["dragRow"],{afterFullData:s,afterTreeFullData:c,tableFullData:d,tableFullTreeData:u,prevDragRow:p,prevDragPos:m}=G;t=t||(e?e.dragEndMethod:null);const h="bottom"===m?1:0;p&&i&&p!==i&&Promise.resolve(!t||t({oldRow:i,newRow:p,dragPos:m,offsetIndex:h})).then(r=>{if(r){let e=-1,t=-1;var l;n?(e=pe.findRowIndexOf(c,i),r=pe.findRowIndexOf(u,i),c.splice(e,1),u.splice(r,1),r=pe.findRowIndexOf(c,p),l=pe.findRowIndexOf(u,p),t=r+h,r=l+h,c.splice(t,0,i),u.splice(r,0,i)):(e=pe.findRowIndexOf(s,i),l=pe.findRowIndexOf(d,i),s.splice(e,1),d.splice(l,1),r=pe.findRowIndexOf(s,p),l=pe.findRowIndexOf(d,p),t=r+h,r=l+h,s.splice(t,0,i),d.splice(r,0,i)),Y.isDragRowMove=!0,pe.cacheRowMap(),Lt(),pe.handleTableData(n&&a),n&&a||pe.updateAfterDataIndex(),pe.checkSelectionStatus(),Y.scrollYLoad&&pe.updateScrollYSpace(),(0,gr.nextTick)().then(()=>{pe.updateCellAreas(),pe.recalculate()}),me("row-dragend",{oldRow:i,newRow:p,dragPos:m,offsetIndex:h,_index:{newIndex:t,oldIndex:e}},o)}}).catch(()=>{}),f(),Qt(),Y.dragRow=null,Y.dragCol=null,setTimeout(()=>{Y.isDragRowMove=!1},500)},handleRowDragDragoverEvent(e){const t=Y["dragRow"];if(t){var r=e.currentTarget,l=r.getAttribute("rowid"),o=pe.getRowById(l);if(console.log(l),o){e.preventDefault(),e.preventDefault();const t=Y["dragRow"];l=e.clientY-r.getBoundingClientRect().y<r.clientHeight/2?"top":"bottom";G.prevDragRow=o,G.prevDragPos=l,er(e,r,null,l),me("row-dragover",{oldRow:t,targetRow:o,dragPos:l},e)}}else e.preventDefault()},handleCellDragMousedownEvent(e,t){e.stopPropagation();var r=q["dragConfig"],l=k.value["dragStartMethod"],o=t["row"],n=e.currentTarget.parentElement?.parentElement,a=n.parentElement,l=l||(r?r.dragStartMethod:null);if(Y.isDragRowMove=!1,Qt(),l&&!l(t))a.draggable=!1,Y.dragRow=null,Y.dragCol=null,f();else{Y.dragRow=o,Y.dragCol=null,a.draggable=!0;r=o,l=J.value;if(l){r=Tr(pe,r);hr().arrayEach(l.querySelectorAll(`[rowid="${r}"]`),e=>{br(e,"row--drag-origin")})}{a=n;o=q["dragConfig"],l=Y["dragRow"],r=k.value["tooltipMethod"],r=r||(o?o.rowTooltipMethod:null);let e="";e=r?""+(r({row:l})||""):pl("vxe.table.dragTip",[a.textContent||""]),Y.dragTipText=e}me("row-dragstart",t,e)}},handleCellDragMouseupEvent(){Qt(),f(),Y.dragRow=null,Y.dragCol=null,Y.isDragRowMove=!1},handleHeaderCellDragDragstartEvent(e){var t=new Image;e.dataTransfer&&e.dataTransfer.setDragImage(t,0,0)},handleHeaderCellDragDragendEvent(l){const o=q["mouseConfig"];var e=M.value["dragEndMethod"];const n=Y["dragCol"],{collectColumn:a,prevDragCol:i,prevDragPos:s}=G,c="right"===s?1:0;i&&n&&i!==n&&Promise.resolve(!e||e({oldColumn:n,newColumn:i,dragPos:s,offsetIndex:c})).then(e=>{var t,r;e&&(hr().eachTree(a,(e,t,r,l,o)=>{o||(e.renderSortNumber=t+1)}),e=hr().findIndexOf(a,e=>e.id===n.id),t=hr().findIndexOf(a,e=>e.id===i.id)+c,(r=a[t])?(n.renderSortNumber=r.renderSortNumber,r.renderSortNumber=n.renderSortNumber+.5):n.renderSortNumber=a.length+1.5,Y.isDragColMove=!0,o&&(pe.clearSelected&&pe.clearSelected(),pe.clearCellAreas)&&(pe.clearCellAreas(),pe.clearCopyCellArea()),Q.analyColumnWidth(),(0,gr.nextTick)().then(()=>{pe.updateCellAreas(),Z.refreshColumn(!0)}),me("column-dragend",{oldColumn:n,newColumn:i,dragPos:s,offsetIndex:c,_index:{newIndex:t,oldIndex:e}},l),pe.saveCustomStore("update:sort"))}).catch(()=>{}),f(),Jt(),Y.dragRow=null,Y.dragCol=null,setTimeout(()=>{Y.isDragColMove=!1},500)},handleHeaderCellDragDragoverEvent(e){const t=Y["dragCol"];if(t){var r=e.currentTarget,l=r.getAttribute("colid"),l=pe.getColumnById(l);if(l){e.preventDefault();const t=Y["dragCol"];var o=e.clientX-r.getBoundingClientRect().x<r.clientWidth/2?"left":"right";G.prevDragCol=l,G.prevDragPos=o,er(e,null,r,o),me("column-dragover",{oldColumn:t,targetColumn:l,dragPos:o},e)}}else e.preventDefault()},handleHeaderCellDragMousedownEvent(e,t){e.stopPropagation();var r=M.value["dragStartMethod"],l=t["column"],o=e.currentTarget.parentElement?.parentElement;if(Y.isDragColMove=!1,Jt(),r&&!r(t))o.draggable=!1,Y.dragRow=null,Y.dragCol=null,f();else{Y.dragCol=l,Y.dragRow=null,o.draggable=!0;r=l,l=J.value;if(l){const n=[];hr().eachTree([r],e=>{n.push(`[colid="${e.id}"]`)});hr().arrayEach(l.querySelectorAll(n.join(",")),e=>{br(e,"col--drag-origin")})}{r=o;l=Y["dragCol"],o=M.value["tooltipMethod"];let e="";e=o?""+(o({column:l})||""):pl("vxe.table.dragTip",[r.textContent||""]),Y.dragTipText=e}me("column-dragstart",t,e)}},handleHeaderCellDragMouseupEvent(){Jt(),f(),Y.dragRow=null,Y.dragCol=null,Y.isDragColMove=!1},handleScrollEvent(e,t,r,l,o,n){var a=q["highlightHoverRow"],{lastScrollLeft:i,lastScrollTop:s}=G,c=re.value,c=c?c.$el:null,d=ae.value,u=xe.value,p=ee.value,m=c?c.clientHeight:0,h=c?c.clientWidth:0,f=c?c.scrollHeight:0,c=c?c.scrollWidth:0;let v=!1,g=!1,x=!1,b=!1,C="",w=!1,y=!1,T=!1,E=!1;r?(R=F.value,(x=o<=0)||(b=c<=o+h),i<o?(C="right",c-R<=o+h&&(E=!0)):(C="left",o<=R&&(T=!0)),Q.checkScrolling(),G.lastScrollLeft=o):(i=D.value,(v=l<=0)||(g=f<=l+m),s<l?(C="bottom",f-i<=l+m&&(y=!0)):(C="top",l<=i&&(w=!0)),G.lastScrollTop=l),Y.lastScrollTime=Date.now();var R={scrollTop:l,scrollLeft:o,bodyHeight:m,bodyWidth:h,scrollHeight:f,scrollWidth:c,isX:r,isY:t,isTop:v,isBottom:g,isLeft:x,isRight:b,direction:C,...n};{var S=r,k=t;const{scrollXLoad:M,scrollYLoad:I}=Y;(s=G.lcsTimeout)&&clearTimeout(s),G.lcsTimeout=setTimeout(()=>{G.lcsTimeout=void 0,G.inVirtualScroll=!1,G.inBodyScroll=!1,G.bodyScrollType="",G.inFooterScroll=!1,S&&M&&Q.updateScrollXData(),k&&I&&Q.updateScrollYData(),Z.updateCellAreas()},200)}(d.isHover||a)&&pe.clearHoverRow(),u&&u.reactData.visible&&u.close(),p&&p.reactData.visible&&p.close(),(y||w||E||T)&&me("scroll-boundary",R,e),me("scroll",R,e)},triggerScrollXEvent(){var e,t,r;b.value.immediate?Dt():({lxTimeout:e,lxRunTime:t,scrollXStore:r}=G,r=r.visibleSize,r=Math.min(80,Math.floor(3*r)),e&&clearTimeout(e),(!t||t+r<Date.now())&&(G.lxRunTime=Date.now(),Dt()),G.lxTimeout=setTimeout(()=>{G.lxRunTime=void 0,G.lxRunTime=void 0,Dt()},r))},triggerScrollYEvent(){var e,t,r;C.value.immediate?Nt():({lyTimeout:e,lyRunTime:t,scrollYStore:r}=G,r=r.visibleSize,r=Math.min(80,Math.floor(2*r)),e&&clearTimeout(e),(!t||t+r<Date.now())&&(G.lyRunTime=Date.now(),Nt()),G.lyTimeout=setTimeout(()=>{G.lyTimeout=void 0,G.lyRunTime=void 0,Nt()},r))},scrollToTreeRow(t){var e=q["treeConfig"],r=G["tableFullData"];const l=[];if(e){e=ue.value,e=e.children||e.childrenField,r=hr().findTree(r,e=>pe.eqRow(e,t),{children:e});if(r){const o=r.nodes;o.forEach((e,t)=>{t<o.length-1&&!Z.isTreeExpandByRow(e)&&l.push(Z.setTreeExpand(e,!0))})}}return Promise.all(l).then(()=>Yr(pe,t))},updateScrollYStatus:Lt,updateScrollXSpace(){const{isGroup:t,scrollXLoad:l,scrollbarWidth:o}=Y,{visibleColumn:r,scrollXStore:n,elemStore:a,tableWidth:i}=G;var s=te.value,c=re.value,d=le.value,c=c?c.$el:null;if(c){var s=s?s.$el:null,d=d?d.$el:null,s=s?s.querySelector(".vxe-table--header"):null,c=c.querySelector(".vxe-table--body"),d=d?d.querySelector(".vxe-table--footer"):null,u=r.slice(0,n.startIndex).reduce((e,t)=>e+t.renderWidth,0);let e="";l&&(e=u+"px"),s&&(s.style.marginLeft=t?"":e),c.style.marginLeft=e,d&&(d.style.marginLeft=e);["main"].forEach(r=>{["header","body","footer"].forEach(e=>{var t=Sr(a[r+`-${e}-xSpace`]);t&&(t.style.width=l?i+("header"===e?o:0)+"px":"")})});u=Oe.value;u&&(u.style.width=i+o+"px"),(0,gr.nextTick)(y)}},updateScrollYSpace(){var e=q["showOverflow"],t=Y["scrollYLoad"];const{scrollYStore:r,elemStore:l,afterFullData:o,fullAllDataRowIdData:n}=G;var{startIndex:a,rowHeight:i}=r;let s=0,c=0;let d="",u="";if(t){if(e)s=o.length*i,c=Math.max(0,a*i);else{for(let e=0;e<o.length;e++){var p=o[e],p=n[Tr(pe,p)];p&&(s+=p.height||i)}for(let e=0;e<a;e++){var m=o[e],m=n[Tr(pe,m)];m&&(c+=m.height||i)}}d=c+"px",u=s+"px"}["main","left","right"].forEach(t=>{var e=Sr(l[t+"-body-table"]);e&&(e.style.marginTop=d),["header","body","footer"].forEach(e=>{e=Sr(l[t+`-${e}-ySpace`]);e&&(e.style.height=u)})});t=Ae.value;t&&(t.style.height=u),(0,gr.nextTick)(y)},updateScrollXData(){const e=q["showOverflow"];return(0,gr.nextTick)().then(()=>{Ft(),mt(),Q.updateScrollXSpace(),e||Q.updateScrollYSpace()})},updateScrollYData(){return(0,gr.nextTick)().then(()=>{Q.handleTableData(),mt(),Q.updateScrollYSpace()})},checkScrolling(){var e=P.value,t=B.value,r=re.value,r=r?r.$el:null,r=Fe.value||r;r&&(e&&(0<r.scrollLeft?br:xr)(e,"scrolling--middle"),t)&&(r.clientWidth<r.scrollWidth-Math.ceil(r.scrollLeft)?br:xr)(t,"scrolling--middle")},updateZindex(){q.zIndex?G.tZindex=q.zIndex:G.tZindex<$r()&&(G.tZindex=Lr())},handleCheckedCheckboxRow:S,triggerHoverEvent(e,{row:t}){Q.setHoverRow(t)},setHoverRow(e){var t=Tr(pe,e),r=J.value;Q.clearHoverRow(),r&&hr().arrayEach(r.querySelectorAll(`[rowid="${t}"]`),e=>br(e,"row--hover")),G.hoverRow=e},clearHoverRow(){var e=J.value;e&&hr().arrayEach(e.querySelectorAll(".vxe-body--row.row--hover"),e=>xr(e,"row--hover")),G.hoverRow=null},getCell(e,t){return Z.getCellElement(e,t)},findRowIndexOf(e,t){return t?hr().findIndexOf(e,e=>pe.eqRow(e,t)):-1},eqRow(e,t){return!(!e||!t||e!==t&&Tr(pe,e)!==Tr(pe,t))}},"openExport,openPrint,exportData,openImport,importData,saveFile,readFile,importByFile,print".split(",").forEach(e=>{pe[e]=function(){Ir("vxe.error.reqModule",["VxeTableExportModule"])}}),"clearValidate,fullValidate,validate".split(",").forEach(e=>{pe[e]=function(){Ir("vxe.error.reqModule",["VxeTableValidatorModule"])}}),Object.assign(pe,Z,Q),e=>{var{showHeader:t,showFooter:r}=q,{tableData:l,tableColumn:o,tableGroupColumn:n,columnStore:a,footerTableData:i}=Y,s="left"===e,a=s?a.leftList:a.rightList;return(0,gr.h)("div",{ref:s?P:B,class:`vxe-table--fixed-${e}-wrapper`},[t?(0,gr.h)(Jr,{ref:s?c:h,fixedType:e,tableData:l,tableColumn:o,tableGroupColumn:n,fixedColumn:a}):Vr(pe),(0,gr.h)(Qr,{ref:s?p:m,fixedType:e,tableData:l,tableColumn:o,fixedColumn:a}),r?(0,gr.h)(el,{ref:s?d:v,footerTableData:i,tableColumn:o,fixedColumn:a,fixedType:e}):Vr(pe)])}),or=()=>{var e=q["dragConfig"],{dragRow:t,dragCol:r,dragTipText:l}=Y,o=M.value,e=(k.value.slots||{}).tip||(e&&e.slots?e.slots.rowTip:null),o=(o.slots||{}).tip;return t&&e?rr(e,{row:t}):r&&o?rr(o,{column:r}):[(0,gr.h)("span",l)]};function nr(){var e=J.value;e&&e.clientWidth&&e.clientHeight&&Z.recalculate()}const ar=(0,gr.ref)(0),ir=((0,gr.watch)(()=>q.data?q.data.length:-1,()=>{ar.value++}),(0,gr.watch)(()=>q.data,()=>{ar.value++}),(0,gr.watch)(ar,()=>{const{inited:l,initStatus:o}=G;kt(q.data||[]).then(()=>{var{scrollXLoad:e,scrollYLoad:t,expandColumn:r}=Y;G.inited=!0,G.initStatus=!0,o||Mt(),l||It(),(e||t)&&r&&Mr("vxe.error.scrollErrProp",["column.type=expand"]),Z.recalculate()})}),(0,gr.ref)(0)),sr=((0,gr.watch)(()=>Y.staticColumns.length,()=>{ir.value++}),(0,gr.watch)(()=>Y.staticColumns,()=>{ir.value++}),(0,gr.watch)(ir,()=>{Vt(Y.staticColumns)}),(0,gr.ref)(0)),cr=((0,gr.watch)(()=>Y.tableColumn.length,()=>{sr.value++}),(0,gr.watch)(()=>Y.tableColumn,()=>{sr.value++}),(0,gr.watch)(sr,()=>{Q.analyColumnWidth()}),(0,gr.watch)(()=>Y.upDataFlag,()=>{(0,gr.nextTick)(()=>{Z.updateData()})}),(0,gr.watch)(()=>Y.reColumnFlag,()=>{(0,gr.nextTick)(()=>{Z.refreshColumn()})}),(0,gr.watch)(()=>q.showHeader,()=>{(0,gr.nextTick)(()=>{Z.recalculate(!0).then(()=>Z.refreshScroll())})}),(0,gr.watch)(()=>q.showFooter,()=>{(0,gr.nextTick)(()=>{Z.recalculate(!0).then(()=>Z.refreshScroll())})}),(0,gr.ref)(0)),dr=((0,gr.watch)(()=>q.footerData?q.footerData.length:-1,()=>{cr.value++}),(0,gr.watch)(()=>q.footerData,()=>{cr.value++}),(0,gr.watch)(cr,()=>{Z.updateFooter()}),(0,gr.watch)(()=>q.height,()=>{(0,gr.nextTick)(()=>Z.recalculate(!0))}),(0,gr.watch)(()=>q.maxHeight,()=>{(0,gr.nextTick)(()=>Z.recalculate(!0))}),(0,gr.watch)(()=>q.syncResize,e=>{e&&(nr(),(0,gr.nextTick)(()=>{nr(),setTimeout(()=>nr())}))}),(0,gr.ref)(0)),ur=((0,gr.watch)(()=>q.mergeCells?q.mergeCells.length:-1,()=>{dr.value++}),(0,gr.watch)(()=>q.mergeCells,()=>{dr.value++}),(0,gr.watch)(dr,()=>{Z.clearMergeCells(),(0,gr.nextTick)(()=>{q.mergeCells&&Z.setMergeCells(q.mergeCells)})}),(0,gr.ref)(0));(0,gr.watch)(()=>q.mergeFooterItems?q.mergeFooterItems.length:-1,()=>{ur.value++}),(0,gr.watch)(()=>q.mergeFooterItems,()=>{ur.value++}),(0,gr.watch)(ur,()=>{Z.clearMergeFooterItems(),(0,gr.nextTick)(()=>{q.mergeFooterItems&&Z.setMergeFooterItems(q.mergeFooterItems)})}),r&&(0,gr.watch)(()=>r?r.reactData.resizeFlag:null,()=>{Gt()}),xl.forEach(e=>{var e=e["setupTable"];e&&(e=e(pe))&&hr().isObject(e)&&Object.assign(pe,e)}),Q.preventEvent(null,"created",{$table:pe});let pr;return(0,gr.onActivated)(()=>{Z.recalculate().then(()=>Z.refreshScroll()),Q.preventEvent(null,"activated",{$table:pe})}),(0,gr.onDeactivated)(()=>{G.isActivated=!1,Q.preventEvent(null,"deactivated",{$table:pe})}),(0,gr.onMounted)(()=>{(0,gr.nextTick)(()=>{const{data:e,treeConfig:t,showOverflow:r}=q;var{scrollXStore:l,scrollYStore:o}=G,n=C.value,a=se.value,i=ue.value,s=E.value,c=ie.value,d=R.value;const u=ae.value;{q.rowId&&Mr("vxe.error.delProp",["row-id","row-config.keyField"]),q.rowKey&&Mr("vxe.error.delProp",["row-key","row-config.useKey"]),q.columnKey&&Mr("vxe.error.delProp",["column-id","column-config.useKey"]),q.rowId||u.keyField||!(c.reserve||c.checkRowKeys||s.reserve||s.checkRowKey||d.expandRowKeys||i.expandRowKeys)||Mr("vxe.error.reqProp",["row-config.keyField"]),q.editConfig&&(a.showStatus||a.showUpdateStatus||a.showInsertStatus)&&!q.keepSource&&Mr("vxe.error.reqProp",["keep-source"]),!t||!i.showLine&&!i.line||(q.rowKey||u.useKey)&&r||Mr("vxe.error.reqProp",["row-config.useKey | show-overflow"]),t&&!i.transform&&q.stripe&&Mr("vxe.error.noTree",["stripe"]),!q.showFooter||q.footerMethod||q.footerData||Mr("vxe.error.reqProp",["footer-data | footer-method"]);var{exportConfig:s,importConfig:d}=q;const p=$.value,m=_.value;d&&m.types&&!m.importMethod&&!hr().includeArrays(hr().keys(m._typeMaps),m.types)&&Mr("vxe.error.errProp",["export-config.types="+m.types.join(","),m.types.filter(e=>hr().includes(hr().keys(m._typeMaps),e)).join(",")||hr().keys(m._typeMaps).join(",")]),s&&p.types&&!p.exportMethod&&!hr().includeArrays(hr().keys(p._typeMaps),p.types)&&Mr("vxe.error.errProp",["export-config.types="+p.types.join(","),p.types.filter(e=>hr().includes(hr().keys(p._typeMaps),e)).join(",")||hr().keys(p._typeMaps).join(",")])}{d=H.value,s=ce.value;const u=ae.value;if(!q.id&&q.customConfig&&(!0===d.storage||d.storage&&d.storage.resizable||d.storage&&d.storage.visible)&&Ir("vxe.error.reqProp",["id"]),q.treeConfig&&c.range&&Ir("vxe.error.noTree",["checkbox-config.range"]),u.height&&!q.showOverflow&&Mr("vxe.error.notProp",["table.show-overflow"]),!pe.handleMousedownCellAreaEvent&&(q.areaConfig&&Mr("vxe.error.notProp",["area-config"]),q.clipConfig&&Mr("vxe.error.notProp",["clip-config"]),q.fnrConfig&&Mr("vxe.error.notProp",["fnr-config"]),s.area))return void Ir("vxe.error.notProp",["mouse-config.area"]);q.dragConfig&&Mr("vxe.error.delProp",["drag-config","row-drag-config"]),q.treeConfig&&i.children&&Mr("vxe.error.delProp",["tree-config.children","tree-config.childrenField"]),q.treeConfig&&i.line&&Mr("vxe.error.delProp",["tree-config.line","tree-config.showLine"]),s.area&&s.selected&&Mr("vxe.error.errConflicts",["mouse-config.area","mouse-config.selected"]),s.area&&q.treeConfig&&!i.transform&&Ir("vxe.error.noTree",["mouse-config.area"]),q.editConfig&&a.activeMethod&&Mr("vxe.error.delProp",["edit-config.activeMethod","edit-config.beforeEditMethod"]),q.treeConfig&&c.isShiftKey&&Ir("vxe.error.errConflicts",["tree-config","checkbox-config.isShiftKey"]),c.halfField&&Mr("vxe.error.delProp",["checkbox-config.halfField","checkbox-config.indeterminateField"])}if(q.editConfig&&!pe.insert&&Ir("vxe.error.reqModule",["Edit"]),q.editRules&&!pe.validate&&Ir("vxe.error.reqModule",["Validator"]),(c.range||q.keyboardConfig||q.mouseConfig)&&!pe.triggerCellMousedownEvent&&Ir("vxe.error.reqModule",["Keyboard"]),(q.printConfig||q.importConfig||q.exportConfig)&&!pe.exportData&&Ir("vxe.error.reqModule",["Export"]),Object.assign(o,{startIndex:0,endIndex:0,visibleSize:0,adaptive:!1!==n.adaptive}),Object.assign(l,{startIndex:0,endIndex:0,visibleSize:0}),kt(e||[]).then(()=>{e&&e.length&&(G.inited=!0,G.initStatus=!0,Mt(),It()),y()}),q.autoResize){d=I.value["refreshDelay"],s=J.value,i=Q.getParentElem();const h=d?hr().throttle(()=>Z.recalculate(!0),d,{leading:!0,trailing:!0}):null;pr=vl.create(h?()=>{q.autoResize&&h()}:()=>{q.autoResize&&Z.recalculate(!0)}),s&&pr.observe(s),i&&pr.observe(i)}}),Or.on(pe,"paste",Xt),Or.on(pe,"copy",Kt),Or.on(pe,"cut",Yt),Or.on(pe,"mousedown",jt),Or.on(pe,"blur",Ut),Or.on(pe,"mousewheel",zt),Or.on(pe,"keydown",qt),Or.on(pe,"resize",Gt),Or.on(pe,"contextmenu",pe.handleGlobalContextmenuEvent),Q.preventEvent(null,"mounted",{$table:pe})}),window.aaaa=pe,(0,gr.onBeforeUnmount)(()=>{pr&&pr.disconnect(),Z.closeFilter(),pe.closeMenu&&pe.closeMenu(),Q.preventEvent(null,"beforeUnmount",{$table:pe})}),(0,gr.onUnmounted)(()=>{Or.off(pe,"paste"),Or.off(pe,"copy"),Or.off(pe,"cut"),Or.off(pe,"mousedown"),Or.off(pe,"blur"),Or.off(pe,"mousewheel"),Or.off(pe,"keydown"),Or.off(pe,"resize"),Or.off(pe,"contextmenu"),Q.preventEvent(null,"unmounted",{$table:pe})}),(0,gr.nextTick)(()=>{!q.loading||fe||X.loading||Ir("vxe.error.reqComp",["vxe-loading"]),!0!==q.showOverflow&&"tooltip"!==q.showOverflow&&!0!==q.showHeaderOverflow&&"tooltip"!==q.showHeaderOverflow&&!0!==q.showFooterOverflow&&"tooltip"!==q.showFooterOverflow&&!q.tooltipConfig&&!q.editRules||K||Ir("vxe.error.reqComp",["vxe-tooltip"])}),(0,gr.provide)("$xeColgroup",null),(0,gr.provide)("$xeTable",pe),pe.renderVN=()=>{var{loading:e,stripe:t,showHeader:r,height:l,treeConfig:o,mouseConfig:n,showFooter:a,highlightCell:i,highlightHoverRow:s,highlightHoverColumn:c,editConfig:d,editRules:u}=q,{isCalcColumn:p,isGroup:m,overflowX:h,overflowY:f,scrollXLoad:v,scrollYLoad:g,scrollbarHeight:x,tableData:b,tableColumn:C,tableGroupColumn:w,footerTableData:y,initStore:T,columnStore:E,filterStore:$,customStore:_,tooltipStore:N}=Y,{leftList:E,rightList:R}=E;const S=X.loading;var H=$e.value,k=Ve.value,P=ie.value,M=ue.value,B=ae.value,j=ne.value,I=ve.value,F=ze.value,D=ce.value,O=Ne.value,U=_e.value,A=Ue.value,z=Pe.value;const V=Y._isLoading||e;var e=qe.value,W=Le.value,L=n&&D.area;return(0,gr.h)("div",{ref:J,class:["vxe-table","vxe-table--render-default","tid_"+he,"border--"+F,{["size--"+I]:I,["valid-msg--"+k.msgMode]:!!u,"vxe-editable":!!d,"old-cell-valid":u&&"obsolete"===Dr().cellVaildMode,"cell--highlight":i,"cell--selected":n&&D.selected,"cell--area":L,"header-cell--area":L&&O.selectCellByHeader,"body-cell--area":L&&O.selectCellByBody,"row--highlight":B.isHover||s,"column--highlight":j.isHover||c,"checkbox--range":P.range,"column--calc":p,"is--header":r,"is--footer":a,"is--group":m,"is--tree-line":o&&(M.showLine||M.line),"is--fixed-left":E.length,"is--fixed-right":R.length,"is--animat":!!q.animat,"is--padding":q.padding,"is--round":q.round,"is--stripe":!o&&t,"is--loading":V,"is--empty":!V&&!b.length,"is--scroll-y":f,"is--scroll-x":h,"is--virtual-x":v,"is--virtual-y":g}],spellcheck:!1,onKeydown:Wt},[(0,gr.h)("div",{class:"vxe-table-slots"},X.default?X.default({}):[]),(0,gr.h)("div",{key:"tw",class:"vxe-table--render-wrapper"},[(0,gr.h)("div",{class:"vxe-table--main-wrapper"},[r?(0,gr.h)(Jr,{ref:te,tableData:b,tableColumn:C,tableGroupColumn:w}):Vr(pe),(0,gr.h)(Qr,{ref:re,tableData:b,tableColumn:C}),a?(0,gr.h)(el,{ref:le,footerTableData:y,tableColumn:C}):Vr(pe)]),(0,gr.h)("div",{class:"vxe-table--fixed-wrapper"},[E&&E.length&&h?lr("left"):Vr(pe),R&&R.length&&h?lr("right"):Vr(pe)])]),e.x?(0,gr.h)("div",{key:"vx",ref:Me,class:"vxe-table--scroll-x-virtual"},[(0,gr.h)("div",{ref:Fe,class:"vxe-table--scroll-x-handle",onScroll:Ht},[(0,gr.h)("div",{ref:Oe,class:"vxe-table--scroll-x-space"})])]):Vr(pe),e.y?(0,gr.h)("div",{key:"vy",ref:Ie,class:"vxe-table--scroll-y-virtual"},[(0,gr.h)("div",{ref:De,class:"vxe-table--scroll-y-handle",onScroll:Pt},[(0,gr.h)("div",{ref:Ae,class:"vxe-table--scroll-y-space"})])]):Vr(pe),(0,gr.h)("div",{key:"tn",ref:Ee,class:"vxe-table--empty-placeholder"},[(0,gr.h)("div",{class:"vxe-table--empty-content"},(F=je.value,I={$table:pe},X.empty?X.empty(I):(d=(d=F.name?ml.get(F.name):null)?d.renderTableEmpty||d.renderTableEmptyView||d.renderEmpty:null)?kr(d(F,I)):Nr(q.emptyText)||pl("vxe.table.emptyText")))]),(0,gr.h)("div",{key:"tl",class:"vxe-table--border-line"}),(0,gr.h)("div",{key:"cl",ref:ye,class:"vxe-table--resizable-bar",style:h?{"padding-bottom":x+"px"}:null},W.showDragTip?[(0,gr.h)("div",{ref:Te,class:"vxe-table--resizable-number-tip"},"23432px")]:[]),fe?(0,gr.h)(fe,{key:"lg",class:"vxe-table--loading",modelValue:V,icon:A.icon,text:A.text},S?{default:()=>rr(S,{$table:pe,$grid:oe,loading:V})}:{}):S?(0,gr.h)("div",{class:["vxe-loading--custom-wrapper",{"is--visible":V}]},rr(S,{$table:pe,$grid:oe,loading:V})):Vr(pe),T.custom?(0,gr.h)(tl,{key:"cs",ref:we,customStore:_}):Vr(pe),T.filter?(0,gr.h)(rl,{key:"tf",ref:Ce,filterStore:$}):Vr(pe),T.import&&q.importConfig?(0,gr.h)(ll,{key:"it",defaultOptions:Y.importParams,storeData:Y.importStore}):Vr(pe),T.export&&(q.exportConfig||q.printConfig)?(0,gr.h)(ol,{key:"et",defaultOptions:Y.exportParams,storeData:Y.exportStore}):Vr(pe),z?(0,gr.h)(nl,{key:"tm",ref:be}):Vr(pe),(i=ae.value,n=ne.value,i.drag||n.drag?(0,gr.h)("div",{class:"vxe-table--drag-wrapper"},[(0,gr.h)("div",{ref:Se,class:"vxe-table--drag-row-line"}),(0,gr.h)("div",{ref:ke,class:"vxe-table--drag-col-line"}),(0,gr.h)("div",{ref:Re,class:"vxe-table--drag-sort-tip"},or())]):Vr(pe)),K?(0,gr.h)("div",{},[(0,gr.h)(K,{key:"ctp",ref:ge,isArrow:!1,enterable:!1}),(0,gr.h)(K,Object.assign({key:"btp",ref:ee},H,N.currOpts)),q.editRules&&k.showMessage&&("default"===k.message?!l:"tooltip"===k.message)?(0,gr.h)(K,{key:"vtp",ref:xe,class:[{"old-cell-valid":u&&"obsolete"===Dr().cellVaildMode},"vxe-table--valid-error"],..."tooltip"===k.message||1===b.length?U:{}}):Vr(pe)]):Vr(pe)])},pe},render(){return this.renderVN()}});const{renderer:wl,hooks:yl}=mr.VxeUI,Tl=["openFilter","setFilter","clearFilter","saveFilterPanel","resetFilterPanel","getCheckedFilters","updateFilterOptionStatus"],{menus:El,hooks:Rl,globalEvents:Sl,GLOBAL_EVENT_KEYS:kl}=(yl.add("tableFilterModule",{setupTable(g){const{props:p,reactData:x,internalData:i}=g,{refTableHeader:b,refTableBody:C,refTableFilter:w}=g.getRefMaps(),{computeFilterOpts:m,computeMouseOpts:h}=g.getComputeMaps(),o=e=>{var t=x["filterStore"];t.options.forEach(e=>{e.checked=e._checked}),g.confirmFilterEvent(e)},n=(e,t,r)=>{var l=x["filterStore"];l.options.forEach(e=>{e._checked=!1}),r._checked=t,g.checkFilterOptions(),o(e)},a=(e,t,r)=>{r._checked=t,g.checkFilterOptions()},e=e=>{var t=x["filterStore"];g.handleClearFilter(t.column),g.confirmFilterEvent(e)},s={checkFilterOptions(){var e=x["filterStore"];e.isAllSelected=e.options.every(e=>e._checked),e.isIndeterminate=!e.isAllSelected&&e.options.some(e=>e._checked)},triggerFilterEvent(e,p,t){const{initStore:r,filterStore:m}=x;if(m.column===p&&m.visible)m.visible=!1;else{const{target:h,pageX:f}=e,v=ce()["visibleWidth"];var{filters:l,filterMultiple:o,filterRender:n}=p,n=fr(n)?wl.get(n.name):null;const a=p.filterRecoverMethod||(n?n.tableFilterRecoverMethod||n.filterRecoverMethod:null);i._currFilterParams=t,Object.assign(m,{multiple:o,options:l,column:p,style:null}),m.options.forEach(e=>{var{_checked:t,checked:r}=e;(e._checked=r)||t===r||a&&a({option:e,column:p,$table:g})}),this.checkFilterOptions(),m.visible=!0,r.filter=!0,(0,gr.nextTick)(()=>{var l=b.value,o=C.value,l=l?l.$el:null,o=o.$el;if(o){var n=w.value,n=n?n.$el:null;if(n){var a=n.offsetWidth,i=n.offsetHeight,s=n.querySelector(".vxe-table--filter-header"),n=n.querySelector(".vxe-table--filter-footer"),c=a/2,d=o.clientWidth-a-10;let e,t;var u={top:h.offsetTop+h.offsetParent.offsetTop+h.offsetHeight+"px"};let r=null;l=o.clientHeight-(l?l.clientHeight/2:0);l<=i&&(r=Math.max(40,l-(n?n.offsetHeight:0)-(s?s.offsetHeight:0))),"left"===p.fixed?e=h.offsetLeft+h.offsetParent.offsetLeft-c:"right"===p.fixed?t=h.offsetParent.offsetWidth-h.offsetLeft+(h.offsetParent.offsetParent.offsetWidth-h.offsetParent.offsetLeft)-p.renderWidth-c:e=h.offsetLeft+h.offsetParent.offsetLeft-c-o.scrollLeft,e?(0<(i=f+a-c+10-v)&&(e-=i),u.left=Math.min(d,Math.max(10,e))+"px"):t&&(0<(l=f+a-c+10-v)&&(t+=l),u.right=Math.max(10,t)+"px"),m.style=u,m.maxHeight=r}}})}g.dispatchEvent("filter-visible",{column:p,field:p.field,property:p.field,filterList:g.getCheckedFilters(),visible:m.visible},e)},handleClearFilter(e){if(e){var{filters:t,filterRender:r}=e;if(t){r=fr(r)?wl.get(r.name):null;const l=e.filterResetMethod||(r?r.tableFilterResetMethod||r.filterResetMethod:null);t.forEach(e=>{e._checked=!1,e.checked=!1,l||(e.data=hr().clone(e.resetValue,!0))}),l&&l({options:t,column:e,$table:g})}}},confirmFilterEvent(e){var t=p["mouseConfig"];const{filterStore:r,scrollXLoad:l,scrollYLoad:o}=x;var n=m.value,a=h.value,i=r["column"],s=i["field"];const c=[],d=[];i.filters.forEach(e=>{e.checked&&(c.push(e.value),d.push(e.data))});var u=g.getCheckedFilters(),i={$table:g,$event:e,column:i,field:s,property:s,values:c,datas:d,filters:u,filterList:u};n.remote||(g.handleTableData(!0),g.checkSelectionStatus()),t&&a.area&&g.handleFilterEvent&&g.handleFilterEvent(e,i),e&&g.dispatchEvent("filter-change",i,e),g.closeFilter(),g.updateFooter().then(()=>{var{scrollXLoad:e,scrollYLoad:t}=x;if(l||e||o||t)return(l||e)&&g.updateScrollXSpace(),(o||t)&&g.updateScrollYSpace(),g.refreshScroll()}).then(()=>(g.updateCellAreas(),g.recalculate(!0))).then(()=>{setTimeout(()=>g.recalculate(),50)})},handleFilterChangeRadioOption:n,handleFilterChangeMultipleOption:a,handleFilterChangeOption(e,t,r){var l=x["filterStore"];l.multiple?a(0,t,r):n(e,t,r)},handleFilterConfirmFilter:o,handleFilterResetFilter:e};return{...{openFilter(e){const r=Fr(g,e);if(r&&r.filters){const l=i["elemStore"],o=r["fixed"];return g.scrollToColumn(r).then(()=>{var e,t=Sr(l[`${o||"main"}-header-wrapper`]||l["main-header-wrapper"]);t&&(t=t.querySelector(`.vxe-header--column.${r.id} .vxe-filter--btn`),e="click",t=t)&&t.dispatchEvent(new Event(e))})}return(0,gr.nextTick)()},setFilter(e,t){e=Fr(g,e);return e&&e.filters&&(e.filters=X(t||[])),(0,gr.nextTick)()},clearFilter(e){var t=x["filterStore"],r=i["tableFullColumn"],l=m.value;let o;return e?(o=Fr(g,e))&&s.handleClearFilter(o):r.forEach(s.handleClearFilter),e&&o===t.column||Object.assign(t,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),l.remote?(0,gr.nextTick)():g.updateData()},saveFilterPanel(){return o(null),(0,gr.nextTick)()},resetFilterPanel(){return e(null),(0,gr.nextTick)()},getCheckedFilters(){var e=i["tableFullColumn"];const n=[];return e.forEach(e=>{var{field:t,filters:r}=e;const l=[],o=[];r&&r.length&&(r.forEach(e=>{e.checked&&(l.push(e.value),o.push(e.data))}),l.length)&&n.push({column:e,field:t,property:t,values:l,datas:o})}),n},updateFilterOptionStatus(e,t){return e._checked=t,e.checked=t,(0,gr.nextTick)()}},...s}},setupGrid(e){return e.extendTableMethods(Tl)}}),mr.VxeUI),Ml=["closeMenu"],{getConfig:Il,renderer:Fl,hooks:Dl,getI18n:Ol}=(Rl.add("tableMenuModule",{setupTable(v){const{xID:g,props:x,reactData:b,internalData:C}=v,{refElem:w,refTableFilter:y,refTableMenu:T}=v.getRefMaps(),{computeMouseOpts:E,computeIsMenu:i,computeMenuOpts:R}=v.getComputeMaps();let S,s={};const k=(t,e,r)=>{const p=b["ctxMenuStore"];var l=i.value,o=R.value,e=o[e];const n=o.visibleMethod;if(e){const{options:m,disabled:a}=e;a?t.preventDefault():l&&m&&m.length&&(r.options=m,v.preventEvent(t,"event.showMenu",r,()=>{if(!n||n(r)){t.preventDefault(),v.updateZindex();const{scrollTop:a,scrollLeft:i,visibleHeight:s,visibleWidth:c}=ce();let o=t.clientY+a,n=t.clientX+i;const l=()=>{C._currMenuParams=r,Object.assign(p,{visible:!0,list:m,selected:null,selectChild:null,showChild:!1,style:{zIndex:C.tZindex,top:o+"px",left:n+"px"}}),(0,gr.nextTick)(()=>{var e=T.value.getRefMaps().refElem.value,t=e.clientHeight,r=e.clientWidth,{boundingTop:e,boundingLeft:l}=B(e),e=e+t-s,l=l+r-c;-10<e&&(p.style.top=Math.max(a+2,o-t-2)+"px"),-10<l&&(p.style.left=Math.max(i+2,n-r-2)+"px")})},{keyboard:e,row:d,column:u}=r;e&&d&&u?v.scrollToRow(d,u).then(()=>{var e,t,r=v.getCellElement(d,u);r&&({boundingTop:e,boundingLeft:t}=B(r),o=e+a+Math.floor(r.offsetHeight/2),n=t+i+Math.floor(r.offsetWidth/2)),l()}):l()}else S.closeMenu()}))}v.closeFilter()};return S={closeMenu(){return Object.assign(b.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),(0,gr.nextTick)()}},s={moveCtxMenu(e,t,r,l,o,n){let a;var i=hr().findIndexOf(n,e=>t[r]===e);if(l)o&&_r(t.selected)?t.showChild=!0:(t.showChild=!1,t.selectChild=null);else if(Sl.hasKey(e,kl.ARROW_UP)){for(let e=i-1;0<=e;e--)if(!1!==n[e].visible){a=n[e];break}t[r]=a||n[n.length-1]}else if(Sl.hasKey(e,kl.ARROW_DOWN)){for(let e=i+1;e<n.length;e++)if(!1!==n[e].visible){a=n[e];break}t[r]=a||n[0]}else t[r]&&(Sl.hasKey(e,kl.ENTER)||Sl.hasKey(e,kl.SPACEBAR))&&s.ctxMenuLinkEvent(e,t[r])},handleOpenMenuEvent:k,handleGlobalContextmenuEvent(t){var{mouseConfig:e,menuConfig:r}=x,{editStore:l,ctxMenuStore:o}=b,n=C["visibleColumn"],a=y.value,i=T.value,s=E.value,c=R.value,d=w.value,l=l["selected"],u=["header","body","footer"];if(fr(r)){if(o.visible&&i&&yr(t,i.getRefMaps().refElem.value).flag)return void t.preventDefault();if(C._keyCtx){r={type:"body",$table:v,keyboard:!0,columns:n.slice(0),$event:t};if(e&&s.area){o=v.getActiveCellArea();if(o&&o.row&&o.column)return r.row=o.row,r.column=o.column,void k(t,"body",r)}else if(e&&s.selected&&l.row&&l.column)return r.row=l.row,r.column=l.column,void k(t,"body",r)}for(let e=0;e<u.length;e++){var p=u[e],m=yr(t,d,`vxe-${p}--column`,e=>e.parentNode.parentNode.parentNode.getAttribute("xid")===g),h={type:p,$table:v,columns:n.slice(0),$event:t};if(m.flag){var m=m.targetElem,f=v.getColumnNode(m),f=f?f.item:null;let e=p+"-";f&&Object.assign(h,{column:f,columnIndex:v.getColumnIndex(f),cell:m}),"body"===p&&(m=(f=v.getRowNode(m.parentNode))?f.item:null,e="",m)&&(h.row=m,h.rowIndex=v.getRowIndex(m));f=e+"cell-menu";return k(t,p,h),void v.dispatchEvent(f,h,t)}if(yr(t,d,`vxe-table--${p}-wrapper`,e=>e.getAttribute("xid")===g).flag)return void("cell"===c.trigger?t.preventDefault():k(t,p,h))}}a&&!yr(t,a.$el).flag&&v.closeFilter(),S.closeMenu()},ctxMenuMouseoverEvent(e,t,r){const c=e.currentTarget;var l=b["ctxMenuStore"];e.preventDefault(),e.stopPropagation(),l.selected=t,(l.selectChild=r)||(l.showChild=_r(t),l.showChild&&(0,gr.nextTick)(()=>{var o=c.nextElementSibling;if(o){var{boundingTop:n,boundingLeft:a,visibleHeight:i,visibleWidth:s}=B(c),n=n+c.offsetHeight;let e="",t="",r=(a+c.offsetWidth+o.offsetWidth>s-10&&(e="auto",t=c.offsetWidth+"px"),""),l="";n+o.offsetHeight>i-10&&(r="auto",l="0"),o.style.left=e,o.style.right=t,o.style.top=r,o.style.bottom=l}}))},ctxMenuMouseoutEvent(e,t){var r=b["ctxMenuStore"];t.children||(r.selected=null),r.selectChild=null},ctxMenuLinkEvent(e,t){var r;t.disabled||!t.code&&t.children&&t.children.length||(r=El.get(t.code),t=Object.assign({},C._currMenuParams,{menu:t,$table:v,$grid:v.xegrid,$event:e}),(r=r?r.tableMenuMethod||r.menuMethod:null)&&r(t,e),v.dispatchEvent("menu-click",t,e),S.closeMenu())}},{...S,...s}},setupGrid(e){return e.extendTableMethods(Ml)}}),mr.VxeUI),Al=["insert","insertAt","insertNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"],Vl=(Dl.add("tableEditModule",{setupTable(T){const{props:E,reactData:R,internalData:S}=T,o=T.getRefMaps()["refElem"],{computeMouseOpts:u,computeEditOpts:f,computeCheckboxOpts:x,computeTreeOpts:k,computeValidOpts:c}=T.getComputeMaps();let b={},v={};const g=(e,t)=>{var{model:r,editRender:l}=t;l&&(r.value=Er(e,t),r.update=!1)},n=(e,t)=>{var{model:r,editRender:l}=t;l&&r.update&&(Rr(e,t,r.value),r.update=!1,r.value=null)},r=()=>{var e=o.value;e&&(e=e.querySelector(".col--selected"))&&xr(e,"col--selected")};function d(){var{editStore:e,tableColumn:t}=R,r=f.value,e=e["actived"];const{row:l,column:o}=e;(l||o)&&("row"===r.mode?t.forEach(e=>n(l,e)):n(l,o))}function M(e,t){const{tableFullTreeData:a,afterFullData:i,fullDataRowIdData:s,fullAllDataRowIdData:c}=S;var r=k.value;const{rowField:d,parentField:u,mapChildrenField:p}=r,m=r.children||r.childrenField,h=t?"push":"unshift";e.forEach(r=>{const t=r[u];var l=Tr(T,r),o=t?hr().findTree(a,e=>t===e[d],{children:p}):null;if(o){var o=o["item"],n=c[Tr(T,o)],n=n?n.level:0;let e=o[m],t=o[p];hr().isArray(e)||(e=o[m]=[]),hr().isArray(t)||(t=o[m]=[]),e[h](r),t[h](r);o={row:r,rowid:l,seq:-1,index:-1,_index:-1,$index:-1,items:e,parent:o,level:n+1,height:0};s[l]=o,c[l]=o}else{t&&Mr("vxe.error.unableInsert"),i[h](r),a[h](r);n={row:r,rowid:l,seq:-1,index:-1,_index:-1,$index:-1,items:a,parent:null,level:0,height:0};s[l]=n,c[l]=n}})}const l=(t,r,o)=>{const n=E["treeConfig"];var{mergeList:e,editStore:l}=R;const{tableFullTreeData:a,afterFullData:i,tableFullData:s,fullDataRowIdData:c,fullAllDataRowIdData:d}=S,u=k.value,{transform:p,rowField:m,mapChildrenField:h}=u,f=u.children||u.childrenField,v=(hr().isArray(t)||(t=[t]),(0,gr.reactive)(T.defineField(t.map(e=>Object.assign(n&&p?{[h]:[],[f]:[]}:{},e)))));if(hr().eqNull(r))n&&p?M(v,!1):(v.forEach(e=>{var t=Tr(T,e),r={row:e,rowid:t,seq:-1,index:-1,_index:-1,$index:-1,items:i,parent:null,level:0,height:0};c[t]=r,d[t]=r,i.unshift(e),s.unshift(e)}),e.forEach(e=>{var t=e["row"];0<t&&(e.row=t+v.length)}));else if(-1===r)n&&p?M(v,!0):(v.forEach(e=>{var t=Tr(T,e),r={row:e,rowid:t,seq:-1,index:-1,_index:-1,$index:-1,items:i,parent:null,level:0,height:0};c[t]=r,d[t]=r,i.push(e),s.push(e)}),e.forEach(e=>{var{row:t,rowspan:r}=e;t+r>i.length&&(e.rowspan=r+v.length)}));else if(n&&p){const b=hr().findTree(a,e=>r[m]===e[m],{children:h});if(b){const C=b["parent"],w=C?C[h]:a;t=d[Tr(T,C)];const y=t?t.level:0;if(v.forEach((e,t)=>{var r=Tr(T,e);e[u.parentField]&&C&&e[u.parentField]!==C[m]&&Ir("vxe.error.errProp",[u.parentField+"="+e[u.parentField],u.parentField+"="+C[m]]),C&&(e[u.parentField]=C[m]);let l=b.index+t;o&&(l+=1),w.splice(l,0,e);t={row:e,rowid:r,seq:-1,index:-1,_index:-1,$index:-1,items:w,parent:C,level:y+1,height:0};c[r]=t,d[r]=t}),C){t=hr().findTree(a,e=>r[m]===e[m],{children:f});if(t){var g=t.items;let e=t.index;o&&(e+=1),g.splice(e,0,...v)}}}else Mr("vxe.error.unableInsert"),M(v,!0)}else{if(n)throw new Error(Ol("vxe.error.noTree",["insert"]));let l=-1;if(hr().isNumber(r)?r<i.length&&(l=r):l=T.findRowIndexOf(i,r),-1===(l=o?Math.min(i.length,l+1):l))throw new Error(Ol("vxe.error.unableInsert"));i.splice(l,0,...v),s.splice(T.findRowIndexOf(s,r),0,...v),e.forEach(e=>{var{row:t,rowspan:r}=e;t>l?e.row=t+v.length:t+r>l&&(e.rowspan=r+v.length)})}const x=l["insertMaps"];return v.forEach(e=>{var t=Tr(T,e);x[t]=e}),T.cacheRowMap(),T.updateScrollYStatus(),T.handleTableData(n&&p),n&&p||T.updateAfterDataIndex(),T.updateFooter(),T.checkSelectionStatus(),R.scrollYLoad&&T.updateScrollYSpace(),(0,gr.nextTick)().then(()=>(T.updateCellAreas(),T.recalculate())).then(()=>({row:v.length?v[v.length-1]:null,rows:v}))},C=(e,t)=>{const r=E["mouseConfig"];var l=R["editStore"],{actived:l,focused:o}=l,{row:n,column:a}=l,i=c.value;const s=u.value;if(n||a){if(t&&Tr(T,t)!==Tr(T,n))return(0,gr.nextTick)();d(),l.args=null,l.row=null,l.column=null,T.updateFooter(),T.dispatchEvent("edit-closed",{row:n,rowIndex:T.getRowIndex(n),$rowIndex:T.getVMRowIndex(n),column:a,columnIndex:T.getColumnIndex(a),$columnIndex:T.getVMColumnIndex(a)},e||null)}return(0,gr.nextTick)(()=>{if(r&&s.area&&T.handleRecalculateCellAreas)return T.handleRecalculateCellAreas()}),i.autoClear&&("full"!==i.msgMode||"obsolete"===Il().cellVaildMode)&&T.clearValidate?T.clearValidate():(o.row=null,(o.column=null,gr.nextTick)())};return b={insert(e){return l(e,null)},insertAt(e,t){return l(e,t)},insertNextAt(e,t){return l(e,t,!0)},remove(e){var t=E["treeConfig"];const{mergeList:r,editStore:l,selectCheckboxMaps:o}=R,{tableFullTreeData:n,afterFullData:a,tableFullData:i}=S;var s=x.value,c=k.value;const{transform:d,mapChildrenField:u}=c,p=c.children||c.childrenField,{actived:m,removeMaps:h,insertMaps:f}=l;c=s.checkField;let v=[];if(e?hr().isArray(e)||(e=[e]):e=i,e.forEach(e=>{var t;T.isInsertByRow(e)||(t=Tr(T,e),h[t]=e)}),!c){const g={...o};e.forEach(e=>{e=Tr(T,e);g[e]&&delete g[e]}),R.selectCheckboxMaps=g}return i===e?(e=v=i.slice(0),S.tableFullData=[],S.afterFullData=[],T.clearMergeCells()):t&&d?e.forEach(e=>{const t=Tr(T,e);var r=hr().findTree(n,e=>t===Tr(T,e),{children:u}),r=(r&&(r=r.items.splice(r.index,1),v.push(r[0])),hr().findTree(n,e=>t===Tr(T,e),{children:p})),r=(r&&r.items.splice(r.index,1),T.findRowIndexOf(a,e));-1<r&&a.splice(r,1)}):e.forEach(e=>{var t=T.findRowIndexOf(i,e);-1<t&&(t=i.splice(t,1),v.push(t[0]));const l=T.findRowIndexOf(a,e);-1<l&&(r.forEach(e=>{var{row:t,rowspan:r}=e;t>l?e.row=t-1:t+r>l&&(e.rowspan=r-1)}),a.splice(l,1))}),m.row&&-1<T.findRowIndexOf(e,m.row)&&b.clearEdit(),e.forEach(e=>{e=Tr(T,e);f[e]&&delete f[e]}),T.updateFooter(),T.cacheRowMap(),T.handleTableData(t&&d),t&&d||T.updateAfterDataIndex(),T.checkSelectionStatus(),R.scrollYLoad&&T.updateScrollYSpace(),(0,gr.nextTick)().then(()=>(T.updateCellAreas(),T.recalculate())).then(()=>({row:v.length?v[v.length-1]:null,rows:v}))},removeCheckboxRow(){return b.remove(T.getCheckboxRecords()).then(e=>(T.clearCheckboxRow(),e))},removeRadioRow(){var e=T.getRadioRecord();return b.remove(e||[]).then(e=>(T.clearRadioRow(),e))},removeCurrentRow(){var e=T.getCurrentRecord();return b.remove(e||[]).then(e=>(T.clearCurrentRow(),e))},getRecordset(){var e=b.getRemoveRecords(),t=T.getPendingRecords();const r=e.concat(t);var l=b.getUpdateRecords().filter(t=>!r.some(e=>T.eqRow(e,t)));return{insertRecords:b.getInsertRecords(),removeRecords:e,updateRecords:l,pendingRecords:t}},getInsertRecords(){var e=R["editStore"];const r=S["fullAllDataRowIdData"];e=e.insertMaps;const l=[];return hr().each(e,(e,t)=>{r[t]&&l.push(e)}),l},getRemoveRecords(){var e=R["editStore"],e=e["removeMaps"];const t=[];return hr().each(e,e=>{t.push(e)}),t},getUpdateRecords(){var{keepSource:e,treeConfig:t}=E,r=S["tableFullData"],l=k.value;return e?(d(),t?hr().filterTree(r,e=>T.isUpdateByRow(e),l):r.filter(e=>T.isUpdateByRow(e))):[]},getActiveRecord(){return Mr("vxe.error.delFunc",["getActiveRecord","getEditRecord"]),this.getEditRecord()},getEditRecord(){var e=R["editStore"],t=S["afterFullData"],r=o.value,{args:e,row:l}=e.actived;return e&&-1<T.findRowIndexOf(t,l)&&r.querySelectorAll(".vxe-body--column.col--active").length?Object.assign({},e):null},getSelectedCell(){var e=R["editStore"],{args:e,column:t}=e.selected;return e&&t?Object.assign({},e):null},clearActived(e){return Mr("vxe.error.delFunc",["clearActived","clearEdit"]),this.clearEdit(e)},clearEdit(e){return C(null,e)},clearSelected(){var e=R["editStore"],e=e["selected"];return e.row=null,e.column=null,r(),(0,gr.nextTick)()},isActiveByRow(e){return Mr("vxe.error.delFunc",["isActiveByRow","isEditByRow"]),this.isEditByRow(e)},isEditByRow(e){var t=R["editStore"];return t.actived.row===e},setActiveRow(e){return Mr("vxe.error.delFunc",["setActiveRow","setEditRow"]),b.setEditRow(e)},setEditRow(e,t){var r=S["visibleColumn"];let l=hr().find(r,e=>fr(e.editRender));return t&&(l=hr().isString(t)?T.getColumnByField(t):t),T.setEditCell(e,l)},setActiveCell(e,t){return Mr("vxe.error.delFunc",["setActiveCell","setEditCell"]),b.setEditCell(e,t)},setEditCell(t,e){var r=E["editConfig"];const l=hr().isString(e)?T.getColumnByField(e):e;return t&&l&&fr(r)&&fr(l.editRender)?T.scrollToRow(t,l).then(()=>{var e=T.getCellElement(t,l);return e&&(v.handleEdit({row:t,rowIndex:T.getRowIndex(t),column:l,columnIndex:T.getColumnIndex(l),cell:e,$table:T}),S._lastCallTime=Date.now()),(0,gr.nextTick)()}):(0,gr.nextTick)()},setSelectCell(e,t){var r=R["tableData"],l=f.value,t=hr().isString(t)?T.getColumnByField(t):t;return e&&t&&"manual"!==l.trigger&&-1<(l=T.findRowIndexOf(r,e))&&t&&(r=T.getCellElement(e,t),e={row:e,rowIndex:l,column:t,columnIndex:T.getColumnIndex(t),cell:r},T.handleSelected(e,{})),(0,gr.nextTick)()}},v={handleEdit(t,r){var{editConfig:e,mouseConfig:l}=E,{editStore:o,tableColumn:n}=R,a=f.value,i=a["mode"],{actived:o,focused:s}=o;const{row:c,column:d}=t;var u=d["editRender"],p=t.cell||T.getCellElement(c,d),m=a.beforeEditMethod||a.activeMethod;if((t.cell=p)&&fr(e)&&fr(u)&&!T.isPendingByRow(c)){if(o.row!==c||"cell"===i&&o.column!==d){let e="edit-disabled";if(!m||m({...t,$table:T,$grid:T.xegrid})){l&&(b.clearSelected(),T.clearCellAreas)&&(T.clearCellAreas(),T.clearCopyCellArea()),T.closeTooltip(),o.column&&C(r),e="edit-activated",d.renderHeight=p.offsetHeight,o.args=t,o.row=c,o.column=d,"row"===i?n.forEach(e=>g(c,e)):g(c,d);const h=a.afterEditMethod;(0,gr.nextTick)(()=>{v.handleFocus(t,r),h&&h({...t,$table:T,$grid:T.xegrid})})}T.dispatchEvent(e,{row:c,rowIndex:T.getRowIndex(c),$rowIndex:T.getVMRowIndex(c),column:d,columnIndex:T.getColumnIndex(d),$columnIndex:T.getVMColumnIndex(d)},r),"edit-activated"===e&&T.dispatchEvent("edit-actived",{row:c,rowIndex:T.getRowIndex(c),$rowIndex:T.getVMRowIndex(c),column:d,columnIndex:T.getColumnIndex(d),$columnIndex:T.getVMColumnIndex(d)},r)}else{e=o["column"];l&&(b.clearSelected(),T.clearCellAreas)&&(T.clearCellAreas(),T.clearCopyCellArea()),e!==d&&(u=e["model"],u.update&&Rr(c,e,u.value),T.clearValidate)&&T.clearValidate(c,d),d.renderHeight=p.offsetHeight,o.args=t,o.column=d,setTimeout(()=>{v.handleFocus(t,r)})}s.column=null,s.row=null,T.focus()}return(0,gr.nextTick)()},handleActived(e,t){return v.handleEdit(e,t)},handleClearEdit:C,handleFocus(l){var{row:o,column:n,cell:a}=l,i=n["editRender"],s=f.value;if(fr(i)){var c=Fl.get(i.name);let e=i.autofocus||i.autoFocus,t=i.autoSelect||i.autoselect,r;s.autoFocus&&(!e&&c&&(e=c.tableAutoFocus||c.tableAutofocus||c.autofocus),!t&&c&&(t=c.tableAutoSelect||c.autoselect),hr().isFunction(e)?r=e(l):e&&(r=!0===e?a.querySelector("input,textarea"):a.querySelector(e))&&r.focus()),r?t?r.select():al.msie&&((i=r.createTextRange()).collapse(!1),i.select()):s.autoPos&&!n.fixed&&T.scrollToRow(o,n)}},handleSelected(e,t){var r=E["mouseConfig"],l=R["editStore"],o=u.value;const n=f.value,{actived:a,selected:i}=l,{row:s,column:c}=e,d=r&&o.selected;return!d||i.row===s&&i.column===c||(a.row!==s||"cell"===n.mode&&a.column!==c)&&(C(t),b.clearSelected(),T.clearCellAreas&&(T.clearCellAreas(),T.clearCopyCellArea()),i.args=e,i.row=s,i.column=c,d&&v.addCellSelectedClass(),T.focus(),t)&&T.dispatchEvent("cell-selected",e,t),(0,gr.nextTick)()},addCellSelectedClass(){var e=R["editStore"],e=e["selected"],{row:e,column:t}=e;r(),e&&t&&(e=T.getCellElement(e,t))&&br(e,"col--selected")}},{...b,...v}},setupGrid(e){return e.extendTableMethods(Al)}}),'body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}'),{getI18n:L,hooks:Ll,renderer:$l}=mr.VxeUI;let y;const _l="\r\n";function se(e){return e.property||-1<["seq","checkbox","radio"].indexOf(e.type)}const Nl=e=>{const t=[];return e.forEach(e=>{e.childNodes&&e.childNodes.length?(t.push(e),t.push(...Nl(e.childNodes))):t.push(e)}),t};function pe(e){return"TRUE"===e||"true"===e||!0===e}function me(e,t){const r=e["footerFilterMethod"];return r?t.filter((e,t)=>r({items:e,$rowIndex:t})):t}function he(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function V(e,t){return e.getElementsByTagName(t)}function fe(e){return`#${e}@`+hr().uniqueId()}function ve(e,t){return e.replace(/#\d+@\d+/g,e=>hr().hasOwnProp(t,e)?t[e]:e)}function ge(e,t){return ve(e,t).replace(/^"+$/g,e=>'"'.repeat(Math.ceil(e.length/2)))}function xe(e,t,l){t=t.split(_l);const o=[];let n=[];if(t.length){const a={},i=Date.now();t.forEach(e=>{if(e){const r={};e=(e=e.replace(/("")|(\n)/g,(e,t)=>{var r=fe(i);return a[r]=t?'"':"\n",r}).replace(/"(.*?)"/g,(e,t)=>{var r=fe(i);return a[r]=ve(t,a),r})).split(l);n.length?(e.forEach((e,t)=>{t<n.length&&(r[n[t]]=ge(e.trim(),a))}),o.push(r)):n=e.map(e=>ge(e.trim(),a))}})}return{fields:n,rows:o}}function be(e){hr().eachTree(e,e=>{delete e._level,delete e._colSpan,delete e._rowSpan,delete e._children,delete e.childNodes},{children:"children"})}const Hl=["exportData","importByFile","importData","saveFile","readFile","print","getPrintHtml","openImport","closeImport","openExport","closeExport","openPrint","closePrint"],{getConfig:Pl,validators:Bl,hooks:jl}=(Ll.add("tableExportModule",{setupTable(S){const{props:k,reactData:M,internalData:T}=S,{computeTreeOpts:I,computePrintOpts:n,computeExportOpts:E,computeImportOpts:u,computeCustomOpts:C,computeSeqOpts:a,computeRadioOpts:l,computeCheckboxOpts:i,computeColumnOpts:s}=S.getComputeMaps(),R=(0,gr.inject)("$xeGrid",null),g=(e,t,r,l,o)=>{var n=a.value.seqMethod||l.seqMethod;return n?n({row:t,rowIndex:S.getRowIndex(t),$rowIndex:r,column:l,columnIndex:S.getColumnIndex(l),$columnIndex:o}):e};function F(e,t){var r=s.value,r=t.headerExportMethod||r.headerExportMethod;return r?r({column:t,options:e,$table:S}):(e.original?t.property:t.getTitle())||""}const x=e=>hr().isBoolean(e)?e?"TRUE":"FALSE":e,c=(d,o,e)=>{const{isAllExpand:n,mode:u}=d;var t=k["treeConfig"];const p=l.value,m=i.value;var r=I.value;const h=s.value;if(y=y||document.createElement("div"),t){t=r.children||r.childrenField;const f=[],v=new Map;return hr().eachTree(e,(a,i,e,s,t,r)=>{const c=a._row||a;var l,a=t&&t._row?t._row:t;if(n||!a||v.has(a)&&S.isTreeExpandByRow(a)){t=c,l=(l=I.value).children||l.childrenField;t=t[l]&&t[l].length;const a={_row:c,_level:r.length-1,_hasChild:t,_expand:t&&S.isTreeExpandByRow(c)};o.forEach((e,t)=>{let r="";var l=e.editRender||e.cellRender;let o=e.exportMethod||h.exportMethod;if(o=(o=!o&&l&&l.name&&(l=$l.get(l.name))?l.tableExportMethod||l.exportMethod:o)||h.exportMethod)r=o({$table:S,row:c,column:e,options:d});else switch(e.type){case"seq":var n=s.map((e,t)=>t%2==0?Number(e)+1:".").join("");r="all"===u?n:g(n,c,i,e,t);break;case"checkbox":r=x(S.isCheckedByCheckboxRow(c)),a._checkboxLabel=m.labelField?hr().get(c,m.labelField):"",a._checkboxDisabled=m.checkMethod&&!m.checkMethod({row:c});break;case"radio":r=x(S.isCheckedByRadioRow(c)),a._radioLabel=p.labelField?hr().get(c,p.labelField):"",a._radioDisabled=p.checkMethod&&!p.checkMethod({row:c});break;default:d.original?r=Er(c,e):(r=""+S.getCellLabel(c,e),"html"===e.type?(y.innerHTML=r,r=y.innerText.trim()):(n=S.getCellElement(c,e))&&(r=n.innerText.trim()))}a[e.id]=hr().toValueString(r)}),v.set(c,1),f.push(Object.assign(a,c))}},{children:t}),f}return e.map((a,i)=>{const s={_row:a};return o.forEach((e,t)=>{let r="";var l=e.editRender||e.cellRender;let o=e.exportMethod||h.exportMethod;if(o=!o&&l&&l.name&&(l=$l.get(l.name))?l.exportMethod:o)r=o({$table:S,row:a,column:e,options:d});else switch(e.type){case"seq":var n=i+1;r="all"===u?n:g(n,a,i,e,t);break;case"checkbox":r=x(S.isCheckedByCheckboxRow(a)),s._checkboxLabel=m.labelField?hr().get(a,m.labelField):"",s._checkboxDisabled=m.checkMethod&&!m.checkMethod({row:a});break;case"radio":r=x(S.isCheckedByRadioRow(a)),s._radioLabel=p.labelField?hr().get(a,p.labelField):"",s._radioDisabled=p.checkMethod&&!p.checkMethod({row:a});break;default:d.original?r=Er(a,e):(r=""+S.getCellLabel(a,e),"html"===e.type?(y.innerHTML=r,r=y.innerText.trim()):(n=S.getCellElement(a,e))&&(r=n.innerText.trim()))}s[e.id]=hr().toValueString(r)}),s})},D=(e,t,r)=>{var l=s.value,o=r.editRender||r.cellRender;let n=r.footerExportMethod;n=(n=!n&&o&&o.name&&(o=$l.get(o.name))?o.tableFooterExportMethod||o.footerExportMethod:n)||l.footerExportMethod;o=S.getVTColumnIndex(r);return n?n({$table:S,items:t,itemIndex:o,row:t,_columnIndex:o,column:r,options:e}):hr().isArray(t)?hr().toValueString(t[o]):hr().get(t,r.field)},d=(r,e,t)=>{let l="\ufeff";return r.isHeader&&(l+=e.map(e=>he(F(r,e))).join(",")+_l),t.forEach(t=>{l+=e.map(e=>he(function(e,t){if(t){if("seq"===e.type)return`	`+t;switch(e.cellType){case"string":if(isNaN(t))break;return`	`+t;case"number":break;default:if(12<=t.length&&!isNaN(t))return`	`+t}}return t}(e,t[e.id]))).join(",")+_l}),r.isFooter&&(t=M["footerTableData"],me(r,t).forEach(t=>{l+=e.map(e=>he(D(r,t,e))).join(",")+_l})),l},p=(r,e,t)=>{let l="";return r.isHeader&&(l+=e.map(e=>he(F(r,e))).join("\t")+_l),t.forEach(t=>{l+=e.map(e=>he(t[e.id])).join("\t")+_l}),r.isFooter&&(t=M["footerTableData"],me(r,t).forEach(t=>{l+=e.map(e=>he(D(r,t,e))).join("\t")+_l})),l},O=(e,t,r)=>{e=e[t],t=hr().isUndefined(e)||hr().isNull(e)?r:e;let l="title"===t||(!0===t||"tooltip"===t)||"ellipsis"===t;var{scrollXLoad:r,scrollYLoad:e}=M;return l=r||e?l||!0:l},m=(i,e,t)=>{const{id:c,border:r,treeConfig:l,headerAlign:s,align:d,footerAlign:n,showOverflow:u,showHeaderOverflow:p}=k,{isAllSelected:m,isIndeterminate:o,mergeList:h}=M,a=I.value,{print:f,isHeader:v,isFooter:g,isColgroup:x,isMerge:b,colgroups:C,original:w}=i,y="check-all";const T=[`<table class="${["vxe-table","border--"+(!0===(R=r)?"full":R||"default"),f?"is--print":"",v?"is--header":""].filter(e=>e).join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${e.map(e=>`<col style="width:${e.renderWidth}px">`).join("")}</colgroup>`];v&&(T.push("<thead>"),x&&!w?C.forEach(e=>{T.push(`<tr>${e.map(t=>{var e=t.headerAlign||t.align||s||d,r=O(t,"showHeaderOverflow",p)?["col--ellipsis"]:[],l=F(i,t);let o=0,n=0;hr().eachTree([t],e=>{e.childNodes&&t.childNodes.length||n++,o+=e.renderWidth},{children:"childNodes"});var a=o-n;return e&&r.push("col--"+e),"checkbox"===t.type?`<th class="${r.join(" ")}" colspan="${t._colSpan}" rowspan="${t._rowSpan}"><div ${f?"":`style="width: ${a}px"`}><input type="checkbox" class="${y}" ${m?"checked":""}><span>${l}</span></div></th>`:`<th class="${r.join(" ")}" colspan="${t._colSpan}" rowspan="${t._rowSpan}" title="${l}"><div ${f?"":`style="width: ${a}px"`}><span>${vr(l,!0)}</span></div></th>`}).join("")}</tr>`)}):T.push(`<tr>${e.map(e=>{var t=e.headerAlign||e.align||s||d,r=O(e,"showHeaderOverflow",p)?["col--ellipsis"]:[],l=F(i,e);return t&&r.push("col--"+t),"checkbox"===e.type?`<th class="${r.join(" ")}"><div ${f?"":`style="width: ${e.renderWidth}px"`}><input type="checkbox" class="${y}" ${m?"checked":""}><span>${l}</span></div></th>`:`<th class="${r.join(" ")}" title="${l}"><div ${f?"":`style="width: ${e.renderWidth}px"`}><span>${vr(l,!0)}</span></div></th>`}).join("")}</tr>`),T.push("</thead>")),t.length&&(T.push("<tbody>"),l?t.forEach(o=>{T.push("<tr>"+e.map(t=>{var e=t.align||d,r=O(t,"showOverflow",u)?["col--ellipsis"]:[],l=o[t.id];if(e&&r.push("col--"+e),t.treeNode){let e="";return o._hasChild&&(e=`<i class="${o._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),r.push("vxe-table--tree-node"),"radio"===t.type?`<td class="${r.join(" ")}" title="${l}"><div ${f?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${o._level*a.indent}px"><div class="vxe-table--tree-icon-wrapper">${e}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${c}" ${o._radioDisabled?"disabled ":""}${pe(l)?"checked":""}><span>${o._radioLabel}</span></div></div></div></td>`:"checkbox"===t.type?`<td class="${r.join(" ")}" title="${l}"><div ${f?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${o._level*a.indent}px"><div class="vxe-table--tree-icon-wrapper">${e}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${o._checkboxDisabled?"disabled ":""}${pe(l)?"checked":""}><span>${o._checkboxLabel}</span></div></div></div></td>`:`<td class="${r.join(" ")}" title="${l}"><div ${f?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${o._level*a.indent}px"><div class="vxe-table--tree-icon-wrapper">${e}</div><div class="vxe-table--tree-cell">${l}</div></div></div></td>`}return"radio"===t.type?`<td class="${r.join(" ")}"><div ${f?"":`style="width: ${t.renderWidth}px"`}><input type="radio" name="radio_${c}" ${o._radioDisabled?"disabled ":""}${pe(l)?"checked":""}><span>${o._radioLabel}</span></div></td>`:"checkbox"===t.type?`<td class="${r.join(" ")}"><div ${f?"":`style="width: ${t.renderWidth}px"`}><input type="checkbox" ${o._checkboxDisabled?"disabled ":""}${pe(l)?"checked":""}><span>${o._checkboxLabel}</span></div></td>`:`<td class="${r.join(" ")}" title="${l}"><div ${f?"":`style="width: ${t.renderWidth}px"`}>${vr(l,!0)}</div></td>`}).join("")+"</tr>")}):t.forEach(s=>{T.push("<tr>"+e.map(e=>{var t=e.align||d,r=O(e,"showOverflow",u)?["col--ellipsis"]:[],l=s[e.id];let o=1,n=1;if(b&&h.length){var a=S.getVTRowIndex(s._row),i=S.getVTColumnIndex(e),a=Oe(h,a,i);if(a){var{rowspan:i,colspan:a}=a;if(!i||!a)return"";1<i&&(o=i),1<a&&(n=a)}}return t&&r.push("col--"+t),"radio"===e.type?`<td class="${r.join(" ")}" rowspan="${o}" colspan="${n}"><div ${f?"":`style="width: ${e.renderWidth}px"`}><input type="radio" name="radio_${c}" ${s._radioDisabled?"disabled ":""}${pe(l)?"checked":""}><span>${s._radioLabel}</span></div></td>`:"checkbox"===e.type?`<td class="${r.join(" ")}" rowspan="${o}" colspan="${n}"><div ${f?"":`style="width: ${e.renderWidth}px"`}><input type="checkbox" ${s._checkboxDisabled?"disabled ":""}${pe(l)?"checked":""}><span>${s._checkboxLabel}</span></div></td>`:`<td class="${r.join(" ")}" rowspan="${o}" colspan="${n}" title="${l}"><div ${f?"":`style="width: ${e.renderWidth}px"`}>${vr(l,!0)}</div></td>`}).join("")+"</tr>")}),T.push("</tbody>")),g&&(R=M["footerTableData"],(t=me(i,R)).length)&&(T.push("<tfoot>"),t.forEach(o=>{T.push(`<tr>${e.map(e=>{var t=e.footerAlign||e.align||n||d,r=O(e,"showOverflow",u)?["col--ellipsis"]:[],l=D(i,o,e);return t&&r.push("col--"+t),`<td class="${r.join(" ")}" title="${l}"><div ${f?"":`style="width: ${e.renderWidth}px"`}>${vr(l,!0)}</div></td>`}).join("")}</tr>`)}),T.push("</tfoot>"));var E,R=!m&&o?`<script>(function(){var a=document.querySelector(".${y}");if(a){a.indeterminate=true}})()</script>`:"";return T.push("</table>",R),(f?T:(t=i,R=T.join(""),E=t.style,["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${t.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>',`<style>${Vl}</style>`,E?`<style>${E}</style>`:"","</head>",`<body>${R}</body>`,"</html>"])).join("")},h=(r,e,t)=>{let l=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${r.sheetName}">`,"<Table>",e.map(e=>`<Column ss:Width="${e.renderWidth}"/>`).join("")].join("");return r.isHeader&&(l+=`<Row>${e.map(e=>`<Cell><Data ss:Type="String">${F(r,e)}</Data></Cell>`).join("")}</Row>`),t.forEach(t=>{l+="<Row>"+e.map(e=>`<Cell><Data ss:Type="String">${t[e.id]}</Data></Cell>`).join("")+"</Row>"}),r.isFooter&&(t=M["footerTableData"],me(r,t).forEach(t=>{l+=`<Row>${e.map(e=>`<Cell><Data ss:Type="String">${D(r,t,e)}</Data></Cell>`).join("")}</Row>`})),l+"</Table></Worksheet></Workbook>"},f=(e,t)=>{var{filename:r,type:l,download:o}=e;if(!o)return o=new Blob([t],{type:`text/${e.type};charset=utf-8;`}),Promise.resolve({type:l,content:t,blob:o});mr.VxeUI.saveFile&&mr.VxeUI.saveFile({filename:r,type:l,content:t}).then(()=>{!1!==e.message&&mr.VxeUI.modal&&mr.VxeUI.modal.message({content:L("vxe.table.expSuccess"),status:"success"})})},A=l=>{const{remote:o,columns:n,colgroups:a,exportMethod:i,afterExportMethod:t}=l;return new Promise(e=>{if(o){var t={options:l,$table:S,$grid:R};e(i?i(t):t)}else{const r=(e=>{const{columns:t,dataFilterMethod:r}=e;let l=e.data;return r&&(l=l.filter((e,t)=>r({row:e,$rowIndex:t}))),c(e,t,l)})(l);e(S.preventEvent(null,"event.export",{options:l,columns:n,colgroups:a,datas:r},()=>f(l,((e,t,r)=>{if(t.length)switch(e.type){case"csv":return d(e,t,r);case"txt":return p(e,t,r);case"html":return m(e,t,r);case"xml":return h(e,t,r)}return""})(l,n,r))))}}).then(e=>(be(n),l.print||t&&t({status:!0,options:l,$table:S,$grid:R}),Object.assign({status:!0},e))).catch(()=>{be(n),l.print||t&&t({status:!1,options:l,$table:S,$grid:R});return Promise.reject({status:!1})})},v=(e,r)=>{const{tableFullColumn:t,_importResolve:l,_importReject:o}=T;let n={fields:[],rows:[]};switch(r.type){case"csv":n=xe(0,e,",");break;case"txt":n=xe(0,e,"\t");break;case"html":n=function(e){var t,e=V((new DOMParser).parseFromString(e,"text/html"),"body");const l=[],o=[];return e.length&&(e=V(e[0],"table")).length&&(t=V(e[0],"thead")).length&&(hr().arrayEach(V(t[0],"tr"),e=>{hr().arrayEach(V(e,"th"),e=>{o.push(e.textContent)})}),(t=V(e[0],"tbody")).length)&&hr().arrayEach(V(t[0],"tr"),e=>{const r={};hr().arrayEach(V(e,"td"),(e,t)=>{o[t]&&(r[o[t]]=e.textContent||"")}),l.push(r)}),{fields:o,rows:l}}(e);break;case"xml":n=function(e){var e=V((new DOMParser).parseFromString(e,"application/xml"),"Worksheet");const l=[],o=[];return e.length&&(e=V(e[0],"Table")).length&&(e=V(e[0],"Row")).length&&(hr().arrayEach(V(e[0],"Cell"),e=>{o.push(e.textContent)}),hr().arrayEach(e,(e,t)=>{if(t){const r={};t=V(e,"Cell");hr().arrayEach(t,(e,t)=>{o[t]&&(r[o[t]]=e.textContent)}),l.push(r)}})),{fields:o,rows:l}}(e)}const{fields:a,rows:i}=n;(function(e,t){const r=[];return e.forEach(e=>{e=e.property;e&&r.push(e)}),t.some(e=>-1<r.indexOf(e))})(t,a)?S.createData(i).then(e=>{let t;return"insert"!==r.mode&&"insertBottom"!==r.mode||(t=S.insertAt(e,-1)),t="insertTop"===r.mode?S.insert(e):S.reloadData(e),!1!==r.message&&mr.VxeUI.modal&&mr.VxeUI.modal.message({content:L("vxe.table.impSuccess",[i.length]),status:"success"}),t.then(()=>{l&&l({status:!0})})}):!1!==r.message&&(mr.VxeUI.modal&&mr.VxeUI.modal.message({content:L("vxe.error.impFields"),status:"error"}),o)&&o({status:!1})},b=(a,i)=>{const{importMethod:s,afterImportMethod:t}=i,{type:c,filename:d}=N(a);var e=u.value;return s||hr().includes(hr().keys(e._typeMaps),c)?new Promise((t,r)=>{const e=e=>{t(e),T._importResolve=null,T._importReject=null},l=e=>{r(e),T._importResolve=null,T._importReject=null};if(T._importResolve=e,T._importReject=l,window.FileReader){const n=Object.assign({mode:"insertTop"},i,{type:c,filename:d});var o;n.remote?s?Promise.resolve(s({file:a,options:n,$table:S})).then(()=>{e({status:!0})}).catch(()=>{e({status:!0})}):e({status:!0}):(o=T["tableFullColumn"],S.preventEvent(null,"event.import",{file:a,options:n,columns:o},()=>{var e=new FileReader;e.onerror=()=>{Ir("vxe.error.notType",[c]),l({status:!1})},e.onload=e=>{v(e.target.result,n)},e.readAsText(a,n.encoding||"UTF-8")}))}else Ir("vxe.error.notExp"),e({status:!0})}).then(()=>{t&&t({status:!0,options:i,$table:S})}).catch(e=>(t&&t({status:!1,options:i,$table:S}),Promise.reject(e))):(!1!==i.message&&mr.VxeUI.modal&&mr.VxeUI.modal.message({content:L("vxe.error.notType",[c]),status:"error"}),Promise.reject({status:!1}))},r=(e,t)=>{var{treeConfig:r,showHeader:l,showFooter:o}=k;const{initStore:n,mergeList:a,isGroup:i,footerTableData:s,exportStore:c,exportParams:d}=M;var u=T["collectColumn"],p=E.value,m=C.value,h=S.getCheckboxRecords(),f=R?R.getComputeMaps().computeProxyOpts.value:{},v=!!s.length,g=!r&&a.length,l=Object.assign({message:!0,isHeader:l,isFooter:o,current:"current",modes:["current","selected"].concat(f.ajax&&f.ajax.queryAll?["all"]:[])},e),o=l.types||hr().keys(p._typeMaps),f=l.modes||[];const x=m.checkMethod;e=u.slice(0);const b=l["columns"];p=o.map(e=>({value:e,label:L("vxe.export.types."+e)})),m=f.map(e=>e&&e.value?{value:e.value,label:e.label||e.value}:{value:e,label:L("vxe.export.modes."+e)});return hr().eachTree(e,(l,e,t,r,o)=>{(l.children&&l.children.length||se(l))&&(l.checked=b?b.some(e=>{var t,r;return K(e)?l===e:hr().isString(e)?l.field===e:(t=e.id||e.colId,r=e.type,e=e.property||e.field,t?l.id===t:e&&r?l.property===e&&l.type===r:e?l.property===e:!!r&&l.type===r)}):l.visible,l.halfChecked=!1,l.disabled=o&&o.disabled||!!x&&!x({column:l}))}),Object.assign(c,{columns:e,typeList:p,modeList:m,hasFooter:v,hasMerge:g,hasTree:r,isPrint:t,hasColgroup:i,visible:!0}),Object.assign(d,{mode:h.length?"selected":"current"},l),m.some(e=>e.value===d.mode)||(d.mode=m[0].value),p.some(e=>e.value===d.type)||(d.type=p[0].value),n.export=!0,(0,gr.nextTick)()};var e=()=>mr.VxeUI.modal?mr.VxeUI.modal.close("VXE_EXPORT_MODAL"):Promise.resolve();const w={exportData(e){var t=k["treeConfig"],{isGroup:r,tableGroupColumn:l}=M;const{tableFullColumn:n,afterFullData:o}=T;var a=E.value,i=I.value;const s=Object.assign({isHeader:!0,isFooter:!0,isColgroup:!0,download:!0,type:"csv",mode:"current"},a,{print:!1},e);var{type:e,mode:c,columns:d,original:u,beforeExportMethod:p}=s;let m=[];d=d&&d.length?d:null;let h=s.columnFilterMethod;d||(h=h||(u?({column:e})=>e.property:({column:e})=>se(e))),m=d?(s._isCustomColumn=!0,hr().searchTree(hr().mapTree(d,e=>{let t;if(e){if(K(e))t=e;else if(hr().isString(e))t=S.getColumnByField(e);else{var r=e.id||e.colId;const l=e.type,o=e.property||e.field;r?t=S.getColumnById(r):o&&l?t=n.find(e=>e.property===o&&e.type===l):o?t=S.getColumnByField(o):l&&(t=n.find(e=>e.type===l))}return t||{}}},{children:"childNodes",mapChildren:"_children"}),(e,t)=>K(e)&&(!h||h({column:e,$columnIndex:t})),{children:"_children",mapChildren:"childNodes",original:!0})):hr().searchTree(r?l:n,(e,t)=>e.visible&&(!h||h({column:e,$columnIndex:t})),{children:"children",mapChildren:"childNodes",original:!0});const f=[];if(hr().eachTree(m,e=>{e.children&&e.children.length||f.push(e)},{children:"childNodes"}),s.columns=f,s.colgroups=(e=>{let t=1;const l=(r,e)=>{if(e&&(r._level=e._level+1,t<r._level)&&(t=r._level),r.childNodes&&r.childNodes.length){let t=0;r.childNodes.forEach(e=>{l(e,r),t+=e._colSpan}),r._colSpan=t}else r._colSpan=1},r=(e.forEach(e=>{e._level=1,l(e)}),[]);for(let e=0;e<t;e++)r.push([]);return Nl(e).forEach(e=>{e.childNodes&&e.childNodes.length?e._rowSpan=1:e._rowSpan=t-e._level+1,r[e._level-1].push(e)}),r})(m),s.filename||(s.filename=L(s.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[hr().toDateString(Date.now(),"yyyyMMddHHmmss")])),s.sheetName||(s.sheetName=document.title),!s.exportMethod&&!hr().includes(hr().keys(a._typeMaps),e))return Ir("vxe.error.notType",[e]),["xlsx","pdf"].includes(e)&&Mr("vxe.error.reqPlugin",[4,"plugin-export-xlsx"]),Promise.reject({status:!1});if(s.print||p&&p({options:s,$table:S,$grid:R}),!s.data)if(s.data=[],"selected"===c){const v=S.getCheckboxRecords();-1<["html","pdf"].indexOf(e)&&t?s.data=hr().searchTree(S.getTableData().fullData,e=>-1<S.findRowIndexOf(v,e),Object.assign({},i,{data:"_row"})):s.data=v}else if("all"===c){if(R||Mr("vxe.error.errProp",["all","mode=current,selected"]),R&&!s.remote){u=R["reactData"],d=R.getComputeMaps()["computeProxyOpts"],r=u["sortData"];const{beforeQueryAll:g,afterQueryAll:x,ajax:b={},props:k={}}=d.value;l=b.queryAll;const C=b.queryAllSuccess,w=b.queryAllError;if(l||Mr("vxe.error.notFunc",["proxy-config.ajax.queryAll"]),l){const y={$table:S,$grid:R,sort:r.length?r[0]:{},sorts:r,filters:u.filterData,form:u.formData,options:s};return Promise.resolve((g||l)(y)).then(e=>(s.data=(k.list?hr().get(e,k.list):e)||[],x&&x(y),C&&C({...y,response:e}),A(s))).catch(e=>{w&&w({...y,response:e})})}}}else"current"===c&&(s.data=o);return A(s)},importByFile(e,t){var t=Object.assign({},t),r=t["beforeImportMethod"];return r&&r({options:t,$table:S}),b(e,t)},importData(e){var t=u.value;const r=Object.assign({types:hr().keys(t._typeMaps)},t,e),{beforeImportMethod:l,afterImportMethod:o}=r;return l&&l({options:r,$table:S}),mr.VxeUI.readFile(r).catch(e=>(o&&o({status:!1,options:r,$table:S}),Promise.reject(e))).then(e=>{e=e.file;return b(e,r)})},saveFile(e){return mr.VxeUI.saveFile(e)},readFile(e){return mr.VxeUI.readFile(e)},print(e){var t=n.value;const r=Object.assign({original:!1},t,e,{type:"html",download:!1,remote:!1,print:!0}),l=(r.sheetName||(r.sheetName=document.title),r.beforePrintMethod),o=r.html||r.content;return new Promise((e,t)=>{mr.VxeUI.print?o?e(mr.VxeUI.print({title:r.sheetName,html:o,customStyle:r.style,beforeMethod:l?({html:e})=>l({html:e,content:e,options:r,$table:S}):void 0})):e(w.exportData(r).then(({content:e})=>mr.VxeUI.print({title:r.sheetName,html:e,customStyle:r.style,beforeMethod:l?({html:e})=>l({html:e,content:e,options:r,$table:S}):void 0}))):t({status:!1})})},getPrintHtml(e){var t=n.value,t=Object.assign({original:!1},t,e,{type:"html",download:!1,remote:!1,print:!0});return w.exportData(t).then(({content:e})=>({html:e}))},closeImport(){return mr.VxeUI.modal?mr.VxeUI.modal.close("VXE_IMPORT_MODAL"):Promise.resolve()},openImport(e){var{treeConfig:t,importConfig:r}=k;const{initStore:l,importStore:o,importParams:n}=M;var a=u.value,a=Object.assign({mode:"insertTop",message:!0,types:hr().keys(a._typeMaps),modes:["insertTop","covering"]},a,e),e=a.types||[],i=a.modes||[];!t?(r||Ir("vxe.error.reqProp",["import-config"]),t=e.map(e=>({value:e,label:L("vxe.export.types."+e)})),r=i.map(e=>e&&e.value?{value:e.value,label:e.label||e.value}:{value:e,label:L("vxe.import.modes."+e)}),Object.assign(o,{file:null,type:"",filename:"",modeList:r,typeList:t,visible:!0}),Object.assign(n,a),r.some(e=>e.value===n.mode)||(n.mode=r[0].value),l.import=!0):a.message&&mr.VxeUI.modal&&mr.VxeUI.modal.message({content:L("vxe.error.treeNotImp"),status:"error"})},closeExport:e,openExport(e){var t=E.value,t=Object.assign({message:!0,types:hr().keys(t._typeMaps)},t,e);k.exportConfig||Ir("vxe.error.reqProp",["export-config"]),r(t)},closePrint:e,openPrint(e){var t=n.value,t=Object.assign({message:!0},t,e);k.printConfig||Ir("vxe.error.reqProp",["print-config"]),r(t,!0)}};return w},setupGrid(e){return e.extendTableMethods(Hl)}}),(e=mr.VxeUI.hooks).add("tableKeyboardModule",{setupTable(I){const{props:p,reactData:F,internalData:D}=I,a=I.getRefMaps()["refElem"],{computeEditOpts:m,computeCheckboxOpts:s,computeMouseOpts:c,computeTreeOpts:d}=I.getComputeMaps();const u=(e,d)=>{var{column:t,cell:r}=d;if("checkbox"===t.type){const o=a.value;var l=D["elemStore"];const u=e.clientX,p=e.clientY,m=Sr(l[`${t.fixed||"main"}-body-wrapper`]||l["main-body-wrapper"]);if(m){const h=m.querySelector(".vxe-table--checkbox-range"),n=document.onmousemove,f=document.onmouseup,v=r.parentElement,g=I.getCheckboxRecords();let i=[];const x=1;t=function(e,t){let r=0,l=0;var o,n,a=!al.firefox&&jr(e,"vxe-checkbox--label");for(a&&(o=getComputedStyle(e),r-=hr().toNumber(o.paddingTop),l-=hr().toNumber(o.paddingLeft));e&&e!==t;)r+=e.offsetTop,l+=e.offsetLeft,e=e.offsetParent,a&&(n=getComputedStyle(e),r-=hr().toNumber(n.paddingTop),l-=hr().toNumber(n.paddingLeft));return{offsetTop:r,offsetLeft:l}}(e.target,m);const b=t.offsetTop+e.offsetY,C=t.offsetLeft+e.offsetX,w=m.scrollTop,y=v.offsetHeight,T=v.getBoundingClientRect(),E=p-T.y;let a=null,s=!1,c=1;const R=(e,t)=>{I.dispatchEvent("checkbox-range-"+e,{records:I.getCheckboxRecords(),reserves:I.getCheckboxReserveRecords()},t)},S=e=>{var{clientX:t,clientY:r}=e,t=t-u,r=r-p+(m.scrollTop-w);let l=Math.abs(r),o=Math.abs(t),n=b,a=C;r<x?(n+=r)<x&&(n=x,l=b):l=Math.min(l,m.scrollHeight-b-x),t<x?(a+=t,o>C&&(a=x,o=C)):o=Math.min(o,m.clientWidth-C-x),h.style.height=l+"px",h.style.width=o+"px",h.style.left=a+"px",h.style.top=n+"px",h.style.display="block";t=function(e,t,r,l,o,n){let a=0,i=[],s=0;var c=0<n,d=F["scrollYLoad"],{afterFullData:u,scrollYStore:p}=D;if(d){s=c?o+n:l.height-o+Math.abs(n);d=I.getVTRowIndex(t.row);i=c?u.slice(d,d+Math.ceil(s/p.rowHeight)):u.slice(d-Math.floor(s/p.rowHeight),d+1)}else{s=c?e.clientY-l.y:l.y-e.clientY+l.height;for(var m=c?"next":"previous";r&&a<s;){var h=I.getRowNode(r);h&&(i.push(h.item),a+=r.offsetHeight,r=r[m+"ElementSibling"])}}return i}(e,d,v,T,E,r<x?-l:l);10<l&&t.length!==i.length&&(i=t,e.ctrlKey?t.forEach(e=>{I.handleSelectRow({row:e},-1===g.indexOf(e))}):(I.setAllCheckboxRow(!1),I.handleCheckedCheckboxRow(t,!0,!1)),R("change",e))},k=()=>{clearTimeout(a),a=null},M=n=>{k(),a=setTimeout(()=>{var e,t,r,l,o;a&&({scrollLeft:e,scrollTop:t,clientHeight:r,scrollHeight:l}=m,o=Math.ceil(50*c/y),s?t+r<l?(I.scrollTo(e,t+o),M(n),S(n)):k():t?(I.scrollTo(e,t-o),M(n),S(n)):k())},50)};br(o,"drag--range"),document.onmousemove=e=>{e.preventDefault(),e.stopPropagation();var t=e["clientY"],r=B(m)["boundingTop"];t<r?(s=!1,c=r-t,a||M(e)):t>r+m.clientHeight?(s=!0,c=t-r-m.clientHeight,a||M(e)):a&&k(),S(e)},document.onmouseup=e=>{k(),xr(o,"drag--range"),h.removeAttribute("style"),document.onmousemove=n,document.onmouseup=f,R("end",e)},R("start",e)}}};return{moveTabSelected(e,t,r){var l=p["editConfig"],{afterFullData:o,visibleColumn:n}=D,a=m.value;let i,s,c;const d=Object.assign({},e);var e=I.getVTRowIndex(d.row),u=I.getVTColumnIndex(d.column),t=(r.preventDefault(),t?u<=0?0<e&&(s=e-1,i=o[s],c=n.length-1):c=u-1:u>=n.length-1?e<o.length-1&&(s=e+1,i=o[s],c=0):c=u+1,n[c]);t&&(i?(d.rowIndex=s,d.row=i):d.rowIndex=e,d.columnIndex=c,d.column=t,d.cell=I.getCellElement(d.row,d.column),l?"click"!==a.trigger&&"dblclick"!==a.trigger||("row"===a.mode?I.handleEdit(d,r):I.scrollToRow(d.row,d.column).then(()=>I.handleSelected(d,r))):I.scrollToRow(d.row,d.column).then(()=>I.handleSelected(d,r)))},moveCurrentRow(e,t,r){var l=p["treeConfig"];const o=F["currentRow"];var n=D["afterFullData"],a=d.value,a=a.children||a.childrenField;let i;if(r.preventDefault(),o?l?({index:l,items:a}=hr().findTree(n,e=>e===o,{children:a}),e&&0<l?i=a[l-1]:t&&l<a.length-1&&(i=a[l+1])):(a=I.getVTRowIndex(o),e&&0<a?i=n[a-1]:t&&a<n.length-1&&(i=n[a+1])):i=n[0],i){const s={$table:I,row:i,rowIndex:I.getRowIndex(i),$rowIndex:I.getVMRowIndex(i)};I.scrollToRow(i).then(()=>I.triggerCurrentRowEvent(r,s))}},moveSelected(e,t,r,l,o,n){var{afterFullData:a,visibleColumn:i}=D;const s=Object.assign({},e);var e=I.getVTRowIndex(s.row),c=I.getVTColumnIndex(s.column);n.preventDefault(),r&&0<e?(s.rowIndex=e-1,s.row=a[s.rowIndex]):o&&e<a.length-1?(s.rowIndex=e+1,s.row=a[s.rowIndex]):t&&c?(s.columnIndex=c-1,s.column=i[s.columnIndex]):l&&c<i.length-1&&(s.columnIndex=c+1,s.column=i[s.columnIndex]),I.scrollToRow(s.row,s.column).then(()=>{s.cell=I.getCellElement(s.row,s.column),I.handleSelected(s,n)})},triggerHeaderCellMousedownEvent(e,t){var r,l=p["mouseConfig"],o=c.value;l&&o.area&&I.handleHeaderCellAreaEvent&&(o=yr(e,l=e.currentTarget,"vxe-cell--sort").flag,r=yr(e,l,"vxe-cell--filter").flag,I.handleHeaderCellAreaEvent(e,Object.assign({cell:l,triggerSort:o,triggerFilter:r},t))),I.focus(),I.closeMenu&&I.closeMenu()},triggerCellMousedownEvent(e,t){var r=e.currentTarget;t.cell=r,((e,t)=>{var{editConfig:r,checkboxConfig:l,mouseConfig:o}=p,n=s.value,a=c.value,i=m.value;if(o&&a.area&&I.handleMousedownCellAreaEvent)return I.handleMousedownCellAreaEvent(e,t);l&&n.range&&u(e,t),o&&a.selected&&(r&&"cell"!==i.mode||I.handleSelected(t,e))})(e,t),I.focus(),I.closeFilter(),I.closeMenu&&I.closeMenu()}}}}),mr.VxeUI);class Ul{constructor(e){Object.assign(this,{$options:e,required:e.required,min:e.min,max:e.max,type:e.type,pattern:e.pattern,validator:e.validator,trigger:e.trigger,maxWidth:e.maxWidth})}get content(){return Nr(this.$options.content||this.$options.message)}get message(){return this.content}}const zl=["fullValidate","validate","fullValidateField","validateField","clearValidate"],Wl=(jl.add("tableValidatorModule",{setupTable(f){const{props:v,reactData:g,internalData:x}=f,p=f.getRefMaps()["refValidTooltip"],{computeValidOpts:b,computeTreeOpts:C,computeEditOpts:c}=f.getComputeMaps();let w={},y={},T;const r=(e,t,c,n)=>{const d={},{editRules:a,treeConfig:r}=v,{afterFullData:u,visibleColumn:p}=x;var l=C.value,l=l.children||l.childrenField;const m=b.value;let o;!0===e?o=u:e&&(hr().isFunction(e)?c=e:o=hr().isArray(e)?e:[e]),o=o||(f.getInsertRecords?f.getInsertRecords().concat(f.getUpdateRecords()):[]);const i=[],s=(x._lastCallTime=Date.now(),T=!1,w.clearValidate(),{});if(a){const h=t&&t.length?t:f.getColumns();e=o=>{if(n||!T){const e=[];h.forEach(r=>{const l=hr().isString(r)?r:r.field;!n&&T||!hr().has(a,l)||e.push(y.validCellRules("all",o,r).catch(({rule:e,rules:t})=>{t={rule:e,rules:t,rowIndex:f.getRowIndex(o),row:o,columnIndex:f.getColumnIndex(r),column:r,field:l,$table:f};if(d[l]||(d[l]=[]),s[Tr(f,o)+":"+r.id]={column:r,row:o,rule:e,content:e.content},d[l].push(t),!n)return T=!0,Promise.reject(t)}))}),i.push(Promise.all(e))}};return r?hr().eachTree(o,e,{children:l}):o.forEach(e),Promise.all(i).then(()=>{const e=Object.keys(d);var t,r,l;return g.validErrorMaps=(t=s,"single"===b.value.msgMode?(r={},(l=Object.keys(t)).length&&(r[l=l[0]]=t[l]),r):t),(0,gr.nextTick)().then(()=>{if(e.length)return Promise.reject(d[e[0]][0]);c&&c()})}).catch(s=>new Promise((e,t)=>{const r=()=>{(0,gr.nextTick)(()=>{c?(c(d),e()):("obsolete"===Pl().validToReject?t:e)(d)})};var l,o,n,a,i=()=>{var e,t;s.cell=f.getCellElement(s.row,s.column),(e=s.cell)&&(e[Wt]?e[Wt]():e[qt]&&e[qt]()),t=s,new Promise(e=>{!1===b.value.autoPos?(f.dispatchEvent("valid-error",t,null),e()):f.handleEdit(t,{type:"valid-error",trigger:"call"}).then(()=>{e(y.showValidTooltip(t))})}).then(r)};!1===m.autoPos?r():(a=s.row,l=s.column,n=u.indexOf(a),o=p.indexOf(l),n=0<n?u[n-1]:a,a=0<o?p[o-1]:l,f.scrollToRow(n,a).then(i))}))}return g.validErrorMaps={},(0,gr.nextTick)().then(()=>{c&&c()})},h=(w={fullValidate(e,t){return hr().isFunction(t)&&Mr("vxe.error.notValidators",["fullValidate(rows, callback)","fullValidate(rows)"]),r(e,null,t,!0)},validate(e,t){return r(e,null,t)},fullValidateField(e,t){t=(hr().isArray(t)?t:t?[t]:[]).map(e=>Fr(f,e));return t.length?r(e,t,null,!0):(0,gr.nextTick)()},validateField(e,t){t=(hr().isArray(t)?t:t?[t]:[]).map(e=>Fr(f,e));return t.length?r(e,t,null):(0,gr.nextTick)()},clearValidate(e,t){var r=g["validErrorMaps"],l=p.value,o=b.value,e=hr().isArray(e)?e:e?[e]:[];const n=(hr().isArray(t)?t:t?[t]:[]).map(e=>Fr(f,e));let a={};if(l&&l.reactData.visible&&l.close(),"single"===o.msgMode)g.validErrorMaps={};else{if(e.length&&n.length)a=Object.assign({},r),e.forEach(t=>{n.forEach(e=>{e=Tr(f,t)+":"+e.id;a[e]&&delete a[e]})});else if(e.length){const i=e.map(e=>""+Tr(f,e));hr().each(r,(e,t)=>{-1<i.indexOf(t.split(":")[0])&&(a[t]=e)})}else if(n.length){const s=n.map(e=>""+e.id);hr().each(r,(e,t)=>{-1<s.indexOf(t.split(":")[1])&&(a[t]=e)})}g.validErrorMaps=a}return(0,gr.nextTick)()}},(e,t)=>{var{type:e,min:r,max:l,pattern:o}=e,e="number"===e,n=e?hr().toNumber(t):hr().getSize(t);return!(!e||!isNaN(t))||!hr().eqNull(r)&&n<hr().toNumber(r)||!hr().eqNull(l)&&n>hr().toNumber(l)||!(!o||(hr().isRegExp(o)?o:new RegExp(o)).test(t))});return y={validCellRules(e,s,c,t){var r=v["editRules"],l=c["field"];const d=[],u=[];if(l&&r){const p=hr().get(r,l);if(p){const m=hr().isUndefined(t)?hr().get(s,l):t;p.forEach(t=>{const{type:r,trigger:l,required:o,validator:n}=t;if("all"===e||!l||e===l)if(n){var a={cellValue:m,rule:t,rules:p,row:s,rowIndex:f.getRowIndex(s),column:c,columnIndex:f.getColumnIndex(c),field:c.field,$table:f,$grid:f.xegrid};let e;hr().isString(n)?(i=Bl.get(n))?(i=i.tableCellValidatorMethod||i.cellValidatorMethod)?e=i(a):Mr("vxe.error.notValidators",[n]):Ir("vxe.error.notValidators",[n]):e=n(a),e&&(hr().isError(e)?(T=!0,d.push(new Ul({type:"custom",trigger:l,content:e.message,rule:new Ul(t)}))):e.catch&&u.push(e.catch(e=>{T=!0,d.push(new Ul({type:"custom",trigger:l,content:e&&e.message?e.message:t.content||t.message,rule:new Ul(t)}))})))}else{var i="array"===r,a=hr().isArray(m);let e=!0;e=i||a?!a||!m.length:hr().isString(m)?Hr(m.trim()):Hr(m),(o?e||h(t,m):!e&&h(t,m))&&(T=!0,d.push(new Ul(t)))}})}}return Promise.all(u).then(()=>{var e;if(d.length)return e={rules:d,rule:d[0]},Promise.reject(e)})},hasCellRules(t,e,r){var l=v["editRules"],r=r["field"];return!(!r||!l)&&(l=hr().get(l,r))&&!!hr().find(l,e=>"all"===t||!e.trigger||t===e.trigger)},triggerValidate(t){var{editConfig:e,editRules:r}=v,l=g["editStore"],l=l["actived"];const o=c.value;var n=b.value;if(r&&"single"===n.msgMode&&(g.validErrorMaps={}),e&&r&&l.row){const{row:a,column:i,cell:s}=l.args;if(y.hasCellRules(t,a,i))return y.validCellRules(t,a,i).then(()=>{"row"===o.mode&&w.clearValidate(a,i)}).catch(({rule:e})=>{return e.trigger&&t!==e.trigger?Promise.resolve():(e={rule:e,row:a,column:i,cell:s},y.showValidTooltip(e),Promise.reject(e))})}return Promise.resolve()},showValidTooltip(e){var t=v["height"],{tableData:r,validStore:l,validErrorMaps:o}=g,{rule:n,row:a,column:i,cell:s}=e,c=b.value,d=p.value,u=n.content;return l.visible=!0,"single"===c.msgMode?g.validErrorMaps={[Tr(f,a)+":"+i.id]:{column:i,row:a,rule:n,content:u}}:g.validErrorMaps=Object.assign({},o,{[Tr(f,a)+":"+i.id]:{column:i,row:a,rule:n,content:u}}),f.dispatchEvent("valid-error",e,null),d&&("tooltip"===c.message||"default"===c.message&&!t&&r.length<2)?d.open(s,u):(0,gr.nextTick)()}},{...w,...y}},setupGrid(e){return e.extendTableMethods(zl)}}),["openCustom","closeCustom","saveCustom","cancelCustom","resetCustom","toggleCustomAllCheckbox","setCustomAllCheckbox"]),{getConfig:ql,renderer:Xl,getI18n:Kl}=(mr.VxeUI.hooks.add("tableCustomModule",{setupTable(c){const{reactData:u,internalData:a}=c,p=c.getComputeMaps()["computeCustomOpts"],l=c.getRefMaps()["refElem"],r=c.xegrid,i=()=>{var e=u["customStore"],t=l.value;let r=0;t&&(r=t.clientHeight-28),e.maxHeight=Math.max(88,r)},o=()=>{var{initStore:e,customStore:t}=u,r=a["collectColumn"];const l={},o={},n={};return hr().eachTree(r,e=>{var t=e.getKey();e.renderFixed=e.fixed,e.renderVisible=e.visible,e.renderResizeWidth=e.renderWidth,l[t]=e.renderSortNumber,o[t]=e.fixed,n[t]=e.visible},{children:"children"}),t.oldSortMaps=l,t.oldFixedMaps=o,t.oldVisibleMaps=n,u.customColumnList=r.slice(0),t.visible=!0,e.custom=!0,s(),i(),(0,gr.nextTick)().then(()=>i())},n=()=>{var e=u["customStore"],t=p.value;return e.visible&&(e.visible=!1,t.immediate||c.handleCustom()),(0,gr.nextTick)()};const t=e=>{var t=u["customStore"],r=u["customColumnList"],l=p.value;const{checkMethod:o,visibleMethod:n}=l,a=!!e;return l.immediate?(hr().eachTree(r,e=>{n&&!n({column:e})||o&&!o({column:e})||(e.visible=a,e.renderVisible=a,e.halfVisible=!1)}),t.isAll=a,c.handleCustom(),c.saveCustomStore("update:visible")):(hr().eachTree(r,e=>{n&&!n({column:e})||o&&!o({column:e})||(e.renderVisible=a,e.halfVisible=!1)}),t.isAll=a),c.checkCustomStatus(),(0,gr.nextTick)()};var e={openCustom:o,closeCustom:n,saveCustom:()=>{var e=u["customColumnList"];const{allowVisible:n,allowSort:a,allowFixed:i,allowResizable:s}=p.value;return hr().eachTree(e,(e,t,r,l,o)=>{o?e.fixed=o.fixed:(a&&(e.renderSortNumber=t+1),i&&(e.fixed=e.renderFixed)),s&&e.renderVisible&&(!e.children||e.children.length)&&e.renderResizeWidth!==e.renderWidth&&(e.resizeWidth=e.renderResizeWidth,e.renderWidth=e.renderResizeWidth),n&&(e.visible=e.renderVisible)}),u.isDragColMove=!0,setTimeout(()=>{u.isDragColMove=!1},1e3),c.saveCustomStore("confirm")},cancelCustom:()=>{var{customColumnList:e,customStore:t}=u;const{oldSortMaps:o,oldFixedMaps:n,oldVisibleMaps:a}=t,{allowVisible:i,allowSort:s,allowFixed:c,allowResizable:d}=p.value;return hr().eachTree(e,e=>{var t=e.getKey(),r=!!a[t],l=n[t]||"";i&&(e.renderVisible=r,e.visible=r),c&&(e.renderFixed=l,e.fixed=l),s&&(e.renderSortNumber=o[t]||0),d&&(e.renderResizeWidth=e.renderWidth)},{children:"children"}),(0,gr.nextTick)()},resetCustom(e){var t=a["collectColumn"];const r=p.value["checkMethod"],l=Object.assign({visible:!0,resizable:!0===e,fixed:!0===e,sort:!0===e},e);return hr().eachTree(t,e=>{l.resizable&&(e.resizeWidth=0),l.fixed&&(e.fixed=e.defaultFixed),l.sort&&(e.renderSortNumber=e.sortNumber),r&&!r({column:e})||(e.visible=e.defaultVisible),e.renderResizeWidth=e.renderWidth}),c.saveCustomStore("reset"),c.handleCustom()},toggleCustomAllCheckbox(){var e=u["customStore"],e=!e.isAll;return t(e)},setCustomAllCheckbox:t};const s=()=>{var e=u["customStore"],t=a["collectColumn"];const r=p.value["checkMethod"];e.isAll=t.every(e=>!!r&&!r({column:e})||e.renderVisible),e.isIndeterminate=!e.isAll&&t.some(e=>(!r||r({column:e}))&&(e.renderVisible||e.halfVisible))},d=(e,t)=>{(r||c).dispatchEvent("custom",{type:e},t)};var m={checkCustomStatus:s,emitCustomEvent:d,triggerCustomEvent(e){var t=c.reactData["customStore"];t.visible?(n(),d("close",e)):(t.btnEl=e.target,o(),d("open",e))},customOpenEvent(e){var t=u["customStore"];t.visible||(t.activeBtn=!0,t.btnEl=e.target,c.openCustom(),c.emitCustomEvent("open",e))},customCloseEvent(e){var t=u["customStore"];t.visible&&(t.activeBtn=!1,c.closeCustom(),c.emitCustomEvent("close",e))}};return{...e,...m}},setupGrid(e){return e.extendTableMethods(Wl)}}),mr.VxeUI),Yl="modelValue",Gl={};function Ce(e,t,r){var{dateConfig:l={}}=t;return hr().toDateString((t=t,(e=e)&&t.valueFormat?hr().toStringDate(e,t.valueFormat):e),l.labelFormat||r)}function we(e,t){return Ce(e,t,Kl("vxe.input.date.labelFormat."+(t.type||"date")))}function c({name:e}){return(0,gr.resolveComponent)(e)}function ye({name:e}){return(0,gr.resolveComponent)("vxe-"+e.replace("$",""))}function Te(e,t,r){e=e.$panel;e.changeOption({},t,r)}function Ee(e){let{name:t,attrs:r}=e;return r="input"===t?Object.assign({type:"text"},r):r}function Re(e){var{name:e,immediate:t,props:r}=e;return t||("VxeInput"===e||"$input"===e?(t=(r||{})["type"],!(!t||"text"===t||"number"===t||"integer"===t||"float"===t)):"input"!==e&&"textarea"!==e&&"$textarea"!==e)}function Se(e,t,r,l){return hr().assign({immediate:Re(e)},Gl,l,e.props,{[Yl]:r})}function ke(e,t,r,l){return hr().assign({},Gl,l,e.props,{[Yl]:r})}function Ae(e,t){return"cell"===t.$type||Re(e)}function Ve(e,t,r){e=e.placeholder;return[(0,gr.h)("span",{class:"vxe-cell--label"},e&&_(r)?[(0,gr.h)("span",{class:"vxe-cell--placeholder"},vr(Nr(e),1))]:vr(r,1))]}function Le(e,r,t,l){const o=e["events"],n=J(e),a=ee(e),i=a===n,s={};return o&&hr().objectEach(o,(t,e)=>{s[Q(e)]=function(...e){t(r,...e)}}),t&&(s[Q(n)]=function(e){t(e),i&&l&&l(e),o&&o[n]&&o[n](r,e)}),!i&&l&&(s[Q(a)]=function(...e){l(...e),o&&o[a]&&o[a](r,...e)}),s}function $e(e,r,t,l){const o=e["events"],n=J(e),a=ee(e),i={};return hr().objectEach(o,(t,e)=>{i[Q(e)]=function(...e){hr().isFunction(t)||Ir("vxe.error.errFunc",[t]),t(r,...e)}}),t&&(i[Q(n)]=function(e){t(e),o&&o[n]&&o[n](r,e)}),l&&(i[Q(a)]=function(...e){l(...e),o&&o[a]&&o[a](r,...e)}),i}function _e(e,t){const{$table:r,row:l,column:o}=t,n=e["name"],a=o["model"],i=Ae(e,t);return $e(e,t,e=>{a.update=!0,a.value=e,i&&Rr(l,o,e)},e=>{!i&&["VxeInput","VxeNumberInput","VxeTextarea","$input","$textarea"].includes(n)?(e=e.value,a.update=!0,a.value=e,r.updateStatus(t,e)):r.updateStatus(t)})}function Ne(e,t,r){return $e(e,t,e=>{r.data=e},()=>{Te(t,!hr().eqNull(r.data),r)})}function He(t,r){const{$table:l,row:o,column:n}=r,a=n["model"];return Le(t,r,e=>{e=e.target.value;Ae(t,r)?Rr(o,n,e):(a.update=!0,a.value=e)},e=>{e=e.target.value;l.updateStatus(r,e)})}function Pe(e,t,r){return Le(e,t,e=>{r.data=e.target.value},()=>{Te(t,!hr().eqNull(r.data),r)})}function Be(e,t){var{row:r,column:l}=t,o=e["name"],r=Ae(e,t)?Er(r,l):l.model.value;return[(0,gr.h)(o,{class:"vxe-default-"+o,...Ee(e),value:r,...He(e,t)})]}function t(e,t){var{row:r,column:l}=t,r=Er(r,l);return[(0,gr.h)(c(e),{...Se(e,0,r),..._e(e,t)})]}function je(e,t){var r=e["options"],{row:l,column:o}=t,l=Er(l,o);return[(0,gr.h)(c(e),{options:r,...Se(e,0,l),..._e(e,t)})]}function Ue(e,t){var{row:r,column:l}=t,r=Er(r,l);return[(0,gr.h)(ye(e),{...Se(e,0,r),..._e(e,t)})]}function ze(e,t){return[(0,gr.h)((0,gr.resolveComponent)("vxe-button"),{...Se(e,0,null),...$e(e,t)})]}function We(r,l,o){var{optionGroups:e,optionGroupProps:t={}}=r;const n=t.options||"options",a=t.label||"label";return e.map((e,t)=>(0,gr.h)("optgroup",{key:t,label:e[a]},o(e[n],r,l)))}function qe(e,t,r){var{optionProps:l={}}=t,{row:o,column:n}=r;const a=l.label||"label",i=l.value||"value",s=l.disabled||"disabled",c=Ae(t,r)?Er(o,n):n.model.value;return e.map((e,t)=>(0,gr.h)("option",{key:t,value:e[i],disabled:e[s],selected:e[i]==c},e[a]))}function Xe(l,o){var e=o["column"];return e.filters.map((e,t)=>{var r=e.data;return(0,gr.h)(c(l),{key:t,...ke(l,0,r),...Ne(l,o,e)})})}function Ke({option:e,row:t,column:r}){e=e.data;return hr().get(t,r.field)==e}function Ye({option:e,row:t,column:r}){e=e.data,t=hr().get(t,r.field);return-1<hr().toValueString(t).indexOf(e)}function Ge(e,t){return[(0,gr.h)("select",{class:"vxe-default-select",...Ee(e),...He(e,t)},e.optionGroups?We(e,t,qe):qe(e.options,e,t))]}function Ze(e,t){var{row:r,column:l}=t,{options:o,optionProps:n,optionGroups:a,optionGroupProps:i}=e,r=Er(r,l);return[(0,gr.h)(c(e),{...Se(e,0,r,{options:o,optionProps:n,optionGroups:a,optionGroupProps:i}),..._e(e,t)})]}function Qe(e,t){var{row:r,column:l}=t,{options:o,optionProps:n}=e,r=Er(r,l);return[(0,gr.h)(c(e),{...Se(e,0,r,{options:o,optionProps:n}),..._e(e,t)})]}function Je(e,t){var{row:r,column:l}=t,{options:o,optionProps:n,optionGroups:a,optionGroupProps:i}=e,r=Er(r,l);return[(0,gr.h)(ye(e),{...Se(e,0,r,{options:o,optionProps:n,optionGroups:a,optionGroupProps:i}),..._e(e,t)})]}function et(e,{row:t,column:r}){const{options:l,optionGroups:o,optionProps:n={},optionGroupProps:a={}}=e;e=hr().get(t,r.field);let i;const s=n.label||"label",c=n.value||"value";return null!=e?hr().map(hr().isArray(e)?e:[e],o?t=>{var r=a.options||"options";for(let e=0;e<o.length&&!(i=hr().find(o[e][r],e=>e[c]==t));e++);return i?i[s]:t}:t=>(i=hr().find(l,e=>e[c]==t))?i[s]:t).join(", "):""}function tt(e){var{row:t,column:r,options:l}=e;return l.original?Er(t,r):et(r.editRender||r.cellRender,e)}function rt(e,{row:t,column:r}){var{options:e,optionProps:l={}}=e,t=hr().get(t,r.field);const o=l.label||"label",n=l.value||"value";r=l.children||"children";if(null==t)return"";{const a={};return hr().eachTree(e,e=>{a[hr().get(e,n)]=e},{children:r}),hr().map(hr().isArray(t)?t:[t],e=>{e=a[e];return e&&hr().get(e,o)}).join(", ")}}function lt(e){var{row:t,column:r,options:l}=e;return l.original?Er(t,r):rt(r.editRender||r.cellRender,e)}Xl.mixin({input:{tableAutoFocus:"input",renderTableEdit:Be,renderTableDefault:Be,renderTableFilter:function(r,l){var e=l["column"];const o=r["name"],n=Ee(r);return e.filters.map((e,t)=>(0,gr.h)(o,{key:t,class:"vxe-default-"+o,...n,value:e.data,...Pe(r,l,e)}))},tableFilterDefaultMethod:Ye},textarea:{tableAutoFocus:"textarea",renderTableEdit:Be},select:{renderTableEdit:Ge,renderTableDefault:Ge,renderTableCell(e,t){return Ve(e,0,et(e,t))},renderTableFilter(r,l){var e=l["column"];return e.filters.map((e,t)=>(0,gr.h)("select",{key:t,class:"vxe-default-select",...Ee(r),...Pe(r,l,e)},r.optionGroups?We(r,l,qe):qe(r.options,r,l)))},tableFilterDefaultMethod:Ke,tableExportMethod:tt},VxeInput:{tableAutoFocus:"input",renderTableEdit:t,renderTableCell(e,t){var{props:r={}}=e,{row:t,column:l}=t,o=r.digits||ql().input?.digits||2;let n=hr().get(t,l.field);if(n)switch(r.type){case"date":case"week":case"month":case"quarter":case"year":n=we(n,r);break;case"float":n=hr().toFixed(hr().floor(n,o),o)}return Ve(e,0,n)},renderTableDefault:t,renderTableFilter:Xe,tableFilterDefaultMethod:Ye},VxeNumberInput:{tableAutoFocus:"input",renderTableEdit:t,renderTableCell(e,t){var{props:r={}}=e,{row:t,column:l}=t,o=r.digits||ql().numberInput?.digits||2;let n=hr().get(t,l.field);return Ve(e,0,n=n&&"float"===r.type?hr().toFixed(hr().floor(n,o),o):n)},renderTableDefault:t,renderTableFilter:Xe,tableFilterDefaultMethod:Ye},VxeDatePicker:{tableAutoFocus:"input",renderTableEdit:t,renderTableCell(e,t){var{props:r={}}=e,{row:t,column:l}=t;let o=hr().get(t,l.field);return Ve(e,0,o=o&&we(o,r))},renderTableDefault:t,renderTableFilter:Xe,tableFilterDefaultMethod:Ke},VxeTextarea:{tableAutoFocus:"textarea",renderTableEdit:t,renderTableCell(e,t){var{row:t,column:r}=t;return Ve(e,0,hr().get(t,r.field))}},VxeButton:{renderTableDefault:function(e,t){return[(0,gr.h)(c(e),{...Se(e,0,null),...$e(e,t)})]}},VxeButtonGroup:{renderTableDefault(e,t){var r=e["options"];return[(0,gr.h)(c(e),{options:r,...Se(e,0,null),...$e(e,t)})]}},VxeSelect:{tableAutoFocus:"input",renderTableEdit:Ze,renderTableDefault:Ze,renderTableCell(e,t){return Ve(e,0,et(e,t))},renderTableFilter(l,o){var e=o["column"];const{options:n,optionProps:a,optionGroups:i,optionGroupProps:s}=l;return e.filters.map((e,t)=>{var r=e.data;return(0,gr.h)(c(l),{key:t,...ke(l,0,r,{options:n,optionProps:a,optionGroups:i,optionGroupProps:s}),...Ne(l,o,e)})})},tableFilterDefaultMethod:Ke,tableExportMethod:tt},VxeTreeSelect:{tableAutoFocus:"input",renderTableEdit:Qe,renderTableCell(e,t){return Ve(e,0,rt(e,t))},tableExportMethod:lt},VxeTableSelect:{tableAutoFocus:"input",renderTableEdit:Qe,renderTableCell(e,t){return Ve(e,0,rt(e,t))},tableExportMethod:lt},VxeIconPicker:{tableAutoFocus:"input",renderTableEdit:t,renderTableCell(e,t){var{row:t,column:r}=t,t=hr().get(t,r.field);return(0,gr.h)("i",{class:t})}},VxeRadioGroup:{renderTableDefault:je},VxeCheckboxGroup:{renderTableDefault:je},VxeSwitch:{tableAutoFocus:"button",renderTableEdit:t,renderTableDefault:t},VxeUpload:{renderTableEdit:t,renderTableCell:t,renderTableDefault:t},VxeImage:{renderTableDefault(e,t){var{row:r,column:l}=t,o=e["props"],r=Er(r,l);return[(0,gr.h)(c(e),{...o,src:r,..._e(e,t)})]}},VxeImageGroup:{renderTableDefault(e,t){var{row:r,column:l}=t,o=e["props"],r=Er(r,l);return[(0,gr.h)(c(e),{...o,urlList:r,..._e(e,t)})]}},VxeTextEllipsis:{renderTableDefault(e,t){var{row:r,column:l}=t,o=e["props"],r=Er(r,l);return[(0,gr.h)(c(e),{...o,content:r,..._e(e,t)})]}},VxeRate:{renderTableDefault:t},VxeSlider:{renderTableDefault:t},$input:{tableAutoFocus:".vxe-input--inner",renderTableEdit:Ue,renderTableCell(e,t){var{props:r={}}=e,{row:t,column:l}=t,o=r.digits||ql().input?.digits||2;let n=hr().get(t,l.field);if(n)switch(r.type){case"date":case"week":case"month":case"year":n=we(n,r);break;case"float":n=hr().toFixed(hr().floor(n,o),o)}return Ve(e,0,n)},renderTableDefault:Ue,renderTableFilter:function(l,o){return o["column"].filters.map((e,t)=>{var r=e.data;return(0,gr.h)(ye(l),{key:t,...ke(l,0,r),...Ne(l,o,e)})})},tableFilterDefaultMethod:Ye},$textarea:{tableAutoFocus:".vxe-textarea--inner"},$button:{renderTableDefault:ze},$buttons:{renderTableDefault:function(e,t){return e.children.map(e=>ze(e,t)[0])}},$select:{tableAutoFocus:".vxe-input--inner",renderTableEdit:Je,renderTableDefault:Je,renderTableCell(e,t){return Ve(e,0,et(e,t))},renderTableFilter(l,o){var e=o["column"];const{options:n,optionProps:a,optionGroups:i,optionGroupProps:s}=l;return e.filters.map((e,t)=>{var r=e.data;return(0,gr.h)(ye(l),{key:t,...ke(l,0,r,{options:n,optionProps:a,optionGroups:i,optionGroupProps:s}),...Ne(l,o,e)})})},tableFilterDefaultMethod:Ke,tableExportMethod:tt},$radio:{tableAutoFocus:".vxe-radio--input"},$checkbox:{tableAutoFocus:".vxe-checkbox--input"},$switch:{tableAutoFocus:".vxe-switch--button",renderTableEdit:Ue,renderTableDefault:Ue}});const Zl=Object.assign({},ie,{install(e){e.component(ie.name,ie)}}),Ql=(e={useCellView:function(l){var e=(0,gr.computed)(()=>{var e=l["renderParams"];return e.column}),t=(0,gr.computed)(()=>{var e=l["renderParams"];return e.row}),r=(0,gr.computed)(()=>{var e=l["renderOpts"];return e.props||{}});return{currColumn:e,currRow:t,cellModel:(0,gr.computed)({get(){var e=l["renderParams"],{row:e,column:t}=e;return hr().get(e,t.field)},set(e){var t=l["renderParams"],{row:t,column:r}=t;return hr().set(t,r.field,e)}}),cellOptions:r}}},mr.VxeUI.dynamicApp&&mr.VxeUI.dynamicApp.component(ie.name,ie),mr.VxeUI.component(ie),mr.VxeUI.tableHandle=e,Zl);var ot=Zl;const{getConfig:a,getIcon:Jl,getI18n:eo,renderer:to,commands:ro,createEvent:lo,useFns:oo}=mr.VxeUI;var nt=(0,gr.defineComponent)({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],import:[Boolean,Object],export:[Boolean,Object],print:[Boolean,Object],zoom:[Boolean,Object],custom:[Boolean,Object],buttons:{type:Array,default:()=>a().toolbar.buttons},tools:{type:Array,default:()=>a().toolbar.tools},perfect:{type:Boolean,default:()=>a().toolbar.perfect},size:{type:String,default:()=>a().toolbar.size||a().size},className:[String,Function]},emits:["button-click","tool-click"],setup(d,e){const{slots:u,emit:l}=e;var t=hr().uniqueId();const p=mr.VxeUI.getComponent("VxeButton"),m=oo.useSize(d)["computeSize"],h=(0,gr.reactive)({isRefresh:!1,connectFlag:0,columns:[]}),f={connectTable:null},v=(0,gr.ref)(),r={refElem:v},g={xID:t,props:d,context:e,reactData:h,internalData:f,getRefMaps:()=>r};const x=(0,gr.inject)("$xeGrid",null),b=(0,gr.computed)(()=>Object.assign({},hr().clone(a().toolbar.refresh,!0),d.refresh)),C=(0,gr.computed)(()=>Object.assign({},hr().clone(a().toolbar.import,!0),d.import)),w=(0,gr.computed)(()=>Object.assign({},hr().clone(a().toolbar.export,!0),d.export)),y=(0,gr.computed)(()=>Object.assign({},hr().clone(a().toolbar.print,!0),d.print)),T=(0,gr.computed)(()=>Object.assign({},hr().clone(a().toolbar.zoom,!0),d.zoom)),E=(0,gr.computed)(()=>Object.assign({},hr().clone(a().toolbar.custom,!0),d.custom)),o=(0,gr.computed)(()=>{var e=f["connectTable"];if((h.connectFlag||e)&&e)return e=e.getComputeMaps()["computeCustomOpts"],e.value;return{trigger:""}}),R=(0,gr.computed)(()=>{return o.value.trigger}),n=()=>{var e=f["connectTable"];if(e)return!0;Ir("vxe.error.barUnableLink")},S=({$event:e})=>{var t=f["connectTable"];t&&(t.triggerCustomEvent?t.triggerCustomEvent(e):Ir("vxe.error.reqModule",["VxeTableCustomModule"]))},k=({$event:e})=>{var t=f["connectTable"];t?t.customOpenEvent(e):Ir("vxe.error.reqModule",["VxeTableCustomModule"])},M=({$event:e})=>{var t=f["connectTable"];const r=t;if(r){const l=r.reactData["customStore"];l.activeBtn=!1,setTimeout(()=>{l.activeBtn||l.activeWrapper||r.customCloseEvent(e)},350)}},I=({$event:e})=>{var t=h["isRefresh"],r=b.value;if(!t){t=r.queryMethod||r.query;if(t){h.isRefresh=!0;try{Promise.resolve(t({})).catch(e=>e).then(()=>{h.isRefresh=!1})}catch(e){h.isRefresh=!1}}else x&&(h.isRefresh=!0,x.triggerToolbarCommitEvent({code:r.code||"reload"},e).catch(e=>e).then(()=>{h.isRefresh=!1}))}},F=({$event:e})=>{x&&x.triggerZoomEvent(e)},D=(e,t)=>{var r,l=f["connectTable"],o=t["code"];o&&(x?x.triggerToolbarBtnEvent(t,e):(r=ro.get(o),t={code:o,button:t,$table:l,$grid:x,$event:e},r&&((l=r.tableCommandMethod||r.commandMethod)?l(t):Ir("vxe.error.notCommands",[o])),g.dispatchEvent("button-click",t,e)))},O=(e,t)=>{var r,l=f["connectTable"],o=t["code"];o&&(x?x.triggerToolbarTolEvent(t,e):(r=ro.get(o),t={code:o,tool:t,$table:l,$grid:x,$event:e},r&&((l=r.tableCommandMethod||r.commandMethod)?l(t):Ir("vxe.error.notCommands",[o])),g.dispatchEvent("tool-click",t,e)))},A=()=>{var e;n()&&(e=f["connectTable"],e)&&e.openImport()},V=()=>{var e;n()&&(e=f["connectTable"],e)&&e.openExport()},L=()=>{var e;n()&&(e=f["connectTable"],e)&&e.openPrint()};Object.assign(g,{dispatchEvent:(e,t,r)=>{l(e,lo(r,{$toolbar:g},t))},syncUpdate(e){f.connectTable=e.$table,h.columns=e.collectColumn,h.connectFlag++}});const $=(e,r)=>{e=e.dropdowns;return e?e.map((t,e)=>!1!==t.visible&&p?(0,gr.h)(p,{key:e,disabled:t.disabled,loading:t.loading,type:t.type,mode:t.mode,icon:t.icon,circle:t.circle,round:t.round,status:t.status,content:t.name,title:t.title,routerLink:t.routerLink,permissionCode:t.permissionCode,prefixTooltip:t.prefixTooltip,suffixTooltip:t.suffixTooltip,onClick:({$event:e})=>(r?D:O)(e,t)}):(0,gr.createCommentVNode)()):[]};return g.renderVN=()=>{var{perfect:e,loading:t,refresh:r,zoom:l,custom:o,className:n}=d,a=f["connectTable"],i=m.value,s=u.tools,c=u.buttons;return(0,gr.h)("div",{ref:v,class:["vxe-toolbar",n?hr().isFunction(n)?n({$toolbar:g}):n:"",{["size--"+i]:i,"is--perfect":e,"is--loading":t}]},[(0,gr.h)("div",{class:"vxe-buttons--wrapper"},c?c({$grid:x,$table:a}):(()=>{var e=d["buttons"],t=f["connectTable"];const a=t,i=[];return e&&e.forEach(t=>{var e,r,l,{dropdowns:o,buttonRender:n}=t;!1!==t.visible&&(e=n?to.get(n.name):null,n&&e&&e.renderToolbarButton?(r=e.toolbarButtonClassName,l={$grid:x,$table:a,button:t},i.push((0,gr.h)("span",{class:["vxe-button--item",r?hr().isFunction(r)?r(l):r:""]},kr(e.renderToolbarButton(n,l))))):p&&i.push((0,gr.h)(p,{disabled:t.disabled,loading:t.loading,type:t.type,mode:t.mode,icon:t.icon,circle:t.circle,round:t.round,status:t.status,content:t.name,title:t.title,routerLink:t.routerLink,permissionCode:t.permissionCode,prefixTooltip:t.prefixTooltip,suffixTooltip:t.suffixTooltip,destroyOnClose:t.destroyOnClose,placement:t.placement,transfer:t.transfer,onClick:({$event:e})=>D(e,t)},o&&o.length?{dropdowns:()=>$(t,!0)}:{})))}),i})()),(0,gr.h)("div",{class:"vxe-tools--wrapper"},s?s({$grid:x,$table:a}):(()=>{var e=d["tools"],t=f["connectTable"];const s=t,c=[];return e&&e.forEach((t,e)=>{var r,l,o,n,{dropdowns:a,toolRender:i}=t;!1!==t.visible&&(r=i?i.name:null,l=i?to.get(r):null,i&&l&&l.renderToolbarTool?(o=l.toolbarToolClassName,n={$grid:x,$table:s,tool:t},c.push((0,gr.h)("span",{key:r,class:["vxe-tool--item",o?hr().isFunction(o)?o(n):o:""]},kr(l.renderToolbarTool(i,n))))):p&&c.push((0,gr.h)(p,{key:e,disabled:t.disabled,loading:t.loading,type:t.type,mode:t.mode,icon:t.icon,circle:t.circle,round:t.round,status:t.status,content:t.name,title:t.title,routerLink:t.routerLink,permissionCode:t.permissionCode,prefixTooltip:t.prefixTooltip,suffixTooltip:t.suffixTooltip,destroyOnClose:t.destroyOnClose,placement:t.placement,transfer:t.transfer,onClick:({$event:e})=>O(e,t)},a&&a.length?{dropdowns:()=>$(t,!1)}:{})))}),c})()),(0,gr.h)("div",{class:"vxe-tools--operate"},[d.import&&(n=C.value,p)?(0,gr.h)(p,{key:"import",circle:!0,icon:n.icon||Jl().TOOLBAR_TOOLS_IMPORT,title:eo("vxe.toolbar.import"),onClick:A}):(0,gr.createCommentVNode)(),d.export&&(i=w.value,p)?(0,gr.h)(p,{key:"export",circle:!0,icon:i.icon||Jl().TOOLBAR_TOOLS_EXPORT,title:eo("vxe.toolbar.export"),onClick:V}):(0,gr.createCommentVNode)(),d.print&&(e=y.value,p)?(0,gr.h)(p,{key:"print",circle:!0,icon:e.icon||Jl().TOOLBAR_TOOLS_PRINT,title:eo("vxe.toolbar.print"),onClick:L}):(0,gr.createCommentVNode)(),r&&(t=b.value,p)?(0,gr.h)(p,{key:"refresh",circle:!0,icon:h.isRefresh?t.iconLoading||Jl().TOOLBAR_TOOLS_REFRESH_LOADING:t.icon||Jl().TOOLBAR_TOOLS_REFRESH,title:eo("vxe.toolbar.refresh"),onClick:I}):(0,gr.createCommentVNode)(),l&&x&&(c=T.value,x)&&p?(0,gr.h)(p,{key:"zoom",circle:!0,icon:x.isMaximized()?c.iconOut||Jl().TOOLBAR_TOOLS_MINIMIZE:c.iconIn||Jl().TOOLBAR_TOOLS_FULLSCREEN,title:eo("vxe.toolbar.zoom"+(x.isMaximized()?"Out":"In")),onClick:F}):(0,gr.createCommentVNode)(),o&&(s=E.value,a=R.value,n={},"manual"!==a&&("hover"===a?(n.onMouseenter=k,n.onMouseleave=M):n.onClick=S),p)?(0,gr.h)(p,{key:"custom",circle:!0,icon:s.icon||Jl().TOOLBAR_TOOLS_CUSTOM,title:eo("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target",...n}):(0,gr.createCommentVNode)()])])},(0,gr.nextTick)(()=>{var e=d["refresh"],t=b.value,t=t.queryMethod||t.query,e=(!e||x||t||Mr("vxe.error.notFunc",["queryMethod"]),E.value);e.isFooter&&Mr("vxe.error.delProp",["toolbar.custom.isFooter","table.custom-config.showFooter"]),e.showFooter&&Mr("vxe.error.delProp",["toolbar.custom.showFooter","table.custom-config.showFooter"]),e.immediate&&Mr("vxe.error.delProp",["toolbar.custom.immediate","table.custom-config.immediate"]),e.trigger&&Mr("vxe.error.delProp",["toolbar.custom.trigger","table.custom-config.trigger"]),(d.refresh||d.import||d.export||d.print||d.zoom)&&!p&&Ir("vxe.error.reqComp",["vxe-button"])}),g},render(){return this.renderVN()}});const no=Object.assign({},nt,{install(e){e.component(nt.name,nt)}}),ao=(mr.VxeUI.dynamicApp&&mr.VxeUI.dynamicApp.component(nt.name,nt),mr.VxeUI.component(nt),no);var at=no;const{getConfig:io,getI18n:so,commands:co,hooks:uo,useFns:po,createEvent:mo,globalEvents:ho,GLOBAL_EVENT_KEYS:fo}=mr.VxeUI,vo=Object.keys(H),go=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","setRow","createData","createRow","revertData","clearData","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getData","getCheckboxRecords","getParentRow","getTreeParentRow","getRowSeq","getRowById","getRowid","getTableData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","isCheckedByCheckboxRow","isIndeterminateByCheckboxRow","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","setRadioRow","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","getPendingRecords","clearPendingRow","sort","clearSort","isSort","getSortColumns","closeFilter","isFilter","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","getCustomStoreData","openTooltip","getCellLabel","getCellElement","focus","blur","connect"];var e=[...ue,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],it=(0,gr.defineComponent)({name:"VxeGrid",props:{...H,layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>io().grid.size||io().size}},emits:e,setup(K,e){const{slots:i,emit:l}=e;var T=hr().uniqueId();const s=mr.VxeUI.getComponent("VxeForm"),c=mr.VxeUI.getComponent("VxePager"),E=po.useSize(K)["computeSize"],Y=(0,gr.reactive)({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:io().pager?.pageSize||10,currentPage:1}}),d=(0,gr.ref)(),G=(0,gr.ref)(),u=(0,gr.ref)(),n=(0,gr.ref)(),p=(0,gr.ref)(),m=(0,gr.ref)(),h=(0,gr.ref)(),f=(0,gr.ref)(),v=(0,gr.ref)(),g=(0,gr.ref)();var t=e=>{const t={};return e.forEach(r=>{t[r]=(...e)=>{var t=G.value;if(t&&t[r])return t[r](...e)}}),t};const Z=t(go),Q=(go.forEach(r=>{Z[r]=(...e)=>{var t=G.value;if(t&&t[r])return t&&t[r](...e)}}),(0,gr.computed)(()=>hr().merge({},hr().clone(io().grid.proxyConfig,!0),K.proxyConfig))),ie=(0,gr.computed)(()=>{var e=Q.value;return hr().isBoolean(e.message)?e.message:e.showResponseMsg}),J=(0,gr.computed)(()=>{return Q.value.showActiveMsg}),ee=(0,gr.computed)(()=>Object.assign({},io().grid.pagerConfig,K.pagerConfig)),x=(0,gr.computed)(()=>Object.assign({},io().grid.formConfig,K.formConfig)),te=(0,gr.computed)(()=>Object.assign({},io().grid.toolbarConfig,K.toolbarConfig)),r=(0,gr.computed)(()=>Object.assign({},io().grid.zoomConfig,K.zoomConfig)),R=(0,gr.computed)(()=>Y.isZMax?{zIndex:Y.tZindex}:null),S=(0,gr.computed)(()=>{const t={},r=K;return vo.forEach(e=>{t[e]=r[e]}),t}),k=(0,gr.computed)(()=>{var{seqConfig:e,pagerConfig:t,loading:r,editConfig:l,proxyConfig:o}=K,{isZMax:n,tableLoading:a,tablePage:i,tableData:s}=Y,c=S.value,d=Q.value,u=ee.value,p=Object.assign({},c);return n&&(c.maxHeight?p.maxHeight="100%":p.height="100%"),o&&fr(d)&&(p.loading=r||a,p.data=s,t)&&d.seq&&fr(u)&&(p.seqConfig=Object.assign({},e,{startIndex:(i.currentPage-1)*i.pageSize})),l&&(p.editConfig=Object.assign({},l)),p}),M=(0,gr.computed)(()=>{var e=K["layouts"];return e&&e.length?e:io().grid.layouts||["Form","Toolbar","Top","Table","Bottom","Pager"]}),I={refElem:d,refTable:G,refForm:u,refToolbar:n,refPager:p},F={computeProxyOpts:Q,computePagerOpts:ee,computeFormOpts:x,computeToolbarOpts:te,computeZoomOpts:r},re={xID:T,props:K,context:e,reactData:Y,getRefMaps:()=>I,getComputeMaps:()=>F},o=()=>{var e=te.value;K.toolbarConfig&&fr(e)&&(0,gr.nextTick)(()=>{var e=G.value,t=n.value;e&&t&&e.connect(t)})},le=()=>{var e=K["proxyConfig"],t=Y["formData"],r=Q.value,l=x.value;return e&&fr(r)&&r.form?t:l.data},a=()=>{var e=Y["tablePage"],t=K["pagerConfig"],r=ee.value,{currentPage:l,pageSize:o}=r;t&&fr(r)&&(l&&(e.currentPage=l),o)&&(e.pageSize=o)},oe=(e,t)=>{var r=Q.value,r=(r.response||r.props||{}).message;let l;return(l=e&&r?hr().isFunction(r)?r({data:e,$grid:re}):hr().get(e,r):l)||so(t)},ne=(e,t,r)=>{var l=J.value,o=Z.getCheckboxRecords();if(l)if(o.length){if(mr.VxeUI.modal)return mr.VxeUI.modal.confirm({id:"cfm_"+e,content:so(t),escClosable:!0}).then(e=>{if("confirm"===e)return r()})}else mr.VxeUI.modal&&mr.VxeUI.modal.message({id:"msg_"+e,content:so("vxe.grid.selectOneRecord"),status:"warning"});else o.length&&r();return Promise.resolve()},D=e=>{var t=K["proxyConfig"],r=Y["tablePage"];const{$event:l,currentPage:o,pageSize:n}=e;var a=Q.value;r.currentPage=o,r.pageSize=n,ae.dispatchEvent("page-change",e,l),t&&fr(a)&&ae.commitProxy("query").then(e=>{ae.dispatchEvent("proxy-query",e,l)})},O=t=>{var e=G.value,r=K["proxyConfig"],e=e.getComputeMaps()["computeSortOpts"],l=Q.value;e.value.remote&&(Y.sortData=t.sortList,r)&&fr(l)&&(Y.tablePage.currentPage=1,ae.commitProxy("query").then(e=>{ae.dispatchEvent("proxy-query",e,t.$event)})),ae.dispatchEvent("sort-change",t,t.$event)},A=t=>{var e=G.value,r=K["proxyConfig"],e=e.getComputeMaps()["computeFilterOpts"],l=Q.value;e.value.remote&&(Y.filterData=t.filterList,r)&&fr(l)&&(Y.tablePage.currentPage=1,ae.commitProxy("query").then(e=>{ae.dispatchEvent("proxy-query",e,t.$event)})),ae.dispatchEvent("filter-change",t,t.$event)},V=t=>{var e=K["proxyConfig"],r=Q.value;e&&fr(r)&&ae.commitProxy("reload").then(e=>{ae.dispatchEvent("proxy-query",{...e,isReload:!0},t.$event)}),ae.dispatchEvent("form-submit",t,t.$event)},L=e=>{var t=K["proxyConfig"];const r=e["$event"];var l=Q.value;t&&fr(l)&&ae.commitProxy("reload").then(e=>{ae.dispatchEvent("proxy-query",{...e,isReload:!0},r)}),ae.dispatchEvent("form-reset",e,r)},$=e=>{ae.dispatchEvent("form-submit-invalid",e,e.$event)},_=e=>{var t=e["$event"];(0,gr.nextTick)(()=>Z.recalculate(!0)),ae.dispatchEvent("form-toggle-collapse",e,t),ae.dispatchEvent("form-collapse",e,t)},b=e=>{var t=Y["isZMax"];return(e?!t:t)&&(Y.isZMax=!t,Y.tZindex<$r())&&(Y.tZindex=Lr()),(0,gr.nextTick)().then(()=>Z.recalculate(!0)).then(()=>Y.isZMax)},C=(e,t)=>{e=e[t];if(e){if(!hr().isString(e))return e;if(i[e])return i[e];Ir("vxe.error.notSlot",[e])}return null},N=()=>{var{formConfig:e,proxyConfig:t}=K,r=Y["formData"],l=Q.value,o=x.value;if(e&&fr(o)||i.form){let e=[];if(i.form)e=i.form({$grid:re});else if(o.items){const n={};if(!o.inited){o.inited=!0;const a=l.beforeItem;l&&a&&o.items.forEach(e=>{a({$grid:re,item:e})})}o.items.forEach(e=>{hr().each(e.slots,e=>{hr().isFunction(e)||i[e]&&(n[e]=i[e])})}),s&&e.push((0,gr.h)(s,{ref:u,...Object.assign({},o,{data:t&&fr(l)&&l.form?r:o.data}),onSubmit:V,onReset:L,onSubmitInvalid:$,onCollapse:_},n))}return(0,gr.h)("div",{ref:m,key:"form",class:"vxe-grid--form-wrapper"},e)}return(0,gr.createCommentVNode)()},H=()=>{var t,r,l=K["toolbarConfig"],o=te.value;if(l&&fr(o)||i.toolbar){let e=[];return i.toolbar?e=i.toolbar({$grid:re}):(l={},(r=o.slots)&&(t=C(r,"buttons"),r=C(r,"tools"),t&&(l.buttons=t),r)&&(l.tools=r),e.push((0,gr.h)(at,{ref:n,...o},l))),(0,gr.h)("div",{ref:h,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},e)}return(0,gr.createCommentVNode)()},P=()=>i.top?(0,gr.h)("div",{ref:f,key:"top",class:"vxe-grid--top-wrapper"},i.top({$grid:re})):(0,gr.createCommentVNode)(),B=()=>{var e=i.left;return e?(0,gr.h)("div",{class:"vxe-grid--left-wrapper"},e({$grid:re})):(0,gr.createCommentVNode)()},j=()=>{var e=i.right;return e?(0,gr.h)("div",{class:"vxe-grid--right-wrapper"},e({$grid:re})):(0,gr.createCommentVNode)()},U=()=>{var e=K["proxyConfig"],t=k.value,r=Q.value,l=Object.assign({},q);const o=i.empty,n=i.loading;e&&fr(r)&&(r.sort&&(l.onSortChange=O),r.filter)&&(l.onFilterChange=A);e={};return o&&(e.empty=()=>o({$grid:re})),n&&(e.loading=()=>n({$grid:re})),(0,gr.h)("div",{class:"vxe-grid--table-wrapper"},[(0,gr.h)(ot,{ref:G,...t,...l},e)])},z=()=>i.bottom?(0,gr.h)("div",{ref:v,key:"bottom",class:"vxe-grid--bottom-wrapper"},i.bottom({$grid:re})):(0,gr.createCommentVNode)(),W=()=>{var t,r,{proxyConfig:l,pagerConfig:o}=K,n=Q.value,a=ee.value;if(o&&fr(a)||i.pager){let e=[];return i.pager?e=i.pager({$grid:re}):(o={},(r=a.slots)&&(t=C(r,"left"),r=C(r,"right"),t&&(o.left=t),r)&&(o.right=r),c&&e.push((0,gr.h)(c,{ref:p,...a,...l&&fr(n)?Y.tablePage:{},onPageChange:D},o))),(0,gr.h)("div",{ref:g,key:"pager",class:"vxe-grid--pager-wrapper"},e)}return(0,gr.createCommentVNode)()},q={},X=(ue.forEach(t=>{var e=hr().camelCase("on-"+t);q[e]=(...e)=>l(t,...e)}),()=>{var{proxyConfig:e,formConfig:t}=K,r=Y["proxyInited"],l=Q.value,o=x.value;if(e&&fr(l)){if(t&&fr(o)&&l.form&&o.items){const n={};o.items.forEach(t=>{var{field:r,itemRender:l}=t;if(r){let e=null;l&&(l=l["defaultValue"],hr().isFunction(l)?e=l({item:t}):hr().isUndefined(l)||(e=l)),n[r]=e}}),Y.formData=n}r||!(Y.proxyInited=!0)!==l.autoLoad&&(0,gr.nextTick)().then(()=>ae.commitProxy("_init")).then(e=>{ae.dispatchEvent("proxy-query",{...e,isInited:!0},new Event("init"))})}}),se=e=>{var t=r.value;ho.hasKey(e,fo.ESCAPE)&&Y.isZMax&&!1!==t.escRestore&&w.triggerZoomEvent(e)};const ae={dispatchEvent:(e,t,r)=>{l(e,mo(r,{$grid:re},t))},commitProxy(t,...l){const{toolbarConfig:$,pagerConfig:o,editRules:_,validConfig:N}=K,n=Y["tablePage"],H=J.value,r=ie.value;var e=Q.value;const P=ee.value;var a=te.value;const{beforeQuery:B,afterQuery:j,beforeDelete:U,afterDelete:z,beforeSave:W,afterSave:q,ajax:i={}}=e,s=e.response||e.props||{},c=G.value;var d=le();let u=null,p=null;p=hr().isString(t)?(e=a["buttons"],a=$&&fr(a)&&e?hr().findTree(e,e=>e.code===t,{children:"dropdowns"}):null,u=a?a.item:null,t):(u=t).code;var m=u?u.params:null;switch(p){case"insert":return c.insert({});case"insert_edit":return c.insert({}).then(({row:e})=>c.setEditRow(e));case"insert_actived":return c.insert({}).then(({row:e})=>c.setEditRow(e));case"mark_cancel":f=p,g=J.value,h=G.value,(v=h.getCheckboxRecords()).length?(h.togglePendingRow(v),Z.clearCheckboxRow()):g&&mr.VxeUI.modal&&mr.VxeUI.modal.message({id:f,content:so("vxe.grid.selectOneRecord"),status:"warning"});break;case"remove":return ne(p,"vxe.grid.removeSelectRecord",()=>c.removeCheckboxRow());case"import":c.importData(m);break;case"open_import":c.openImport(m);break;case"export":c.exportData(m);break;case"open_export":c.openExport(m);break;case"reset_custom":return c.resetCustom(!0);case"_init":case"reload":case"query":{var h=i.query;const b=i.querySuccess,C=i.queryError;if(h){var f,v="_init"===p,g="reload"===p;let t=[],r=[],e={};if(o&&((v||g)&&(n.currentPage=1),fr(P))&&(e={...n}),v){let e=null;c&&(f=c.getComputeMaps()["computeSortOpts"],x=f.value,e=x.defaultSort),e&&(hr().isArray(e)||(e=[e]),t=e.map(e=>({field:e.field,property:e.field,order:e.order}))),c&&(r=c.getCheckedFilters())}else c&&(g?c.clearAll():(t=c.getSortColumns(),r=c.getCheckedFilters()));const w={code:p,button:u,isInited:v,isReload:g,$grid:re,page:e,sort:t.length?t[0]:{},sorts:t,filters:r,form:d,options:h};return Y.sortData=t,Y.filterData=r,Y.tableLoading=!0,Promise.resolve((B||h)(w,...l)).then(e=>{var t,r;return Y.tableLoading=!1,e?o&&fr(P)?(r=s.total,r=(hr().isFunction(r)?r({data:e,$grid:re}):hr().get(e,r||"page.total"))||0,n.total=hr().toNumber(r),t=s.result,Y.tableData=(hr().isFunction(t)?t({data:e,$grid:re}):hr().get(e,t||"result"))||[],t=Math.max(Math.ceil(r/n.pageSize),1),n.currentPage>t&&(n.currentPage=t)):(r=s.list,Y.tableData=(r?hr().isFunction(r)?r({data:e,$grid:re}):hr().get(e,r):e)||[]):Y.tableData=[],j&&j(w,...l),b&&b({...w,response:e}),{status:!0}}).catch(e=>(Y.tableLoading=!1,C&&C({...w,response:e}),{status:!1}))}Ir("vxe.error.notFunc",["proxy-config.ajax.query"]);break}case"delete":{const y=i.delete,T=i.deleteSuccess,E=i.deleteError;if(y){const R=Z.getCheckboxRecords(),S=R.filter(e=>!c.isInsertByRow(e));var x={removeRecords:S};const k={$grid:re,code:p,button:u,body:x,form:d,options:y};if(R.length)return ne(p,"vxe.grid.deleteSelectRecord",()=>S.length?(Y.tableLoading=!0,Promise.resolve((U||y)(k,...l)).then(e=>(Y.tableLoading=!1,c.setPendingRow(S,!1),r&&mr.VxeUI.modal&&mr.VxeUI.modal.message({content:oe(e,"vxe.grid.delSuccess"),status:"success"}),z?z(k,...l):ae.commitProxy("query"),T&&T({...k,response:e}),{status:!0})).catch(e=>(Y.tableLoading=!1,r&&mr.VxeUI.modal&&mr.VxeUI.modal.message({id:p,content:oe(e,"vxe.grid.operError"),status:"error"}),E&&E({...k,response:e}),{status:!1}))):c.remove(R));H&&mr.VxeUI.modal&&mr.VxeUI.modal.message({id:p,content:so("vxe.grid.selectOneRecord"),status:"warning"})}else Ir("vxe.error.notFunc",["proxy-config.ajax.delete"]);break}case"save":{const M=i.save,I=i.saveSuccess,F=i.saveError;if(M){const D=c.getRecordset(),{insertRecords:O,removeRecords:X,updateRecords:A,pendingRecords:V}=D,L={$grid:re,code:p,button:u,body:D,form:d,options:M};O.length&&(D.pendingRecords=V.filter(e=>-1===c.findRowIndexOf(O,e))),V.length&&(D.insertRecords=O.filter(e=>-1===c.findRowIndexOf(V,e)));let e=Promise.resolve();return(e=_?c[N&&"full"===N.msgMode?"fullValidate":"validate"](D.insertRecords.concat(A)):e).then(e=>{if(!e)return D.insertRecords.length||X.length||A.length||D.pendingRecords.length?(Y.tableLoading=!0,Promise.resolve((W||M)(L,...l)).then(e=>(Y.tableLoading=!1,c.clearPendingRow(),r&&mr.VxeUI.modal&&mr.VxeUI.modal.message({content:oe(e,"vxe.grid.saveSuccess"),status:"success"}),q?q(L,...l):ae.commitProxy("query"),I&&I({...L,response:e}),{status:!0})).catch(e=>(Y.tableLoading=!1,r&&mr.VxeUI.modal&&mr.VxeUI.modal.message({id:p,content:oe(e,"vxe.grid.operError"),status:"error"}),F&&F({...L,response:e}),{status:!1}))):void(H&&mr.VxeUI.modal&&mr.VxeUI.modal.message({id:p,content:so("vxe.grid.dataUnchanged"),status:"info"}))})}Ir("vxe.error.notFunc",["proxy-config.ajax.save"]);break}default:var x=co.get(p);x&&((x=x.tableCommandMethod||x.commandMethod)?x({code:p,button:u,$grid:re,$table:c},...l):Ir("vxe.error.notCommands",[p]))}return(0,gr.nextTick)()},zoom(){return Y.isZMax?ae.revert():ae.maximize()},isMaximized(){return Y.isZMax},maximize(){return b(!0)},revert(){return b()},getFormData:le,getFormItems(e){var t=x.value,r=K["formConfig"],l=t["items"];const o=[];return hr().eachTree(r&&fr(t)&&l?l:[],e=>{o.push(e)},{children:"children"}),hr().isUndefined(e)?o:o[e]},getProxyInfo(){var e,t=G.value;return K.proxyConfig?(e=Y["sortData"],{data:Y.tableData,filter:Y.filterData,form:le(),sort:e.length?e[0]:{},sorts:e,pager:Y.tablePage,pendingRecords:t?t.getPendingRecords():[]}):null},loadColumn:e=>{var t=G.value;return hr().eachTree(e,e=>{e.slots&&hr().each(e.slots,e=>{hr().isFunction(e)||i[e]||Ir("vxe.error.notSlot",[e])})}),t?t.loadColumn(e):(0,gr.nextTick)()},reloadColumn:e=>(Z.clearAll(),ae.loadColumn(e))},w={extendTableMethods:t,callSlot(e,t){return e&&(hr().isString(e)&&(e=i[e]||null),hr().isFunction(e))?kr(e(t)):[]},getExcludeHeight(){var e=K["height"],t=Y["isZMax"],r=d.value,l=m.value,o=h.value,n=f.value,a=v.value,i=g.value;return(t||"auto"!==e&&"100%"!==e?0:Ur(r.parentNode))+Ur(r)+de(l)+de(o)+de(n)+de(a)+de(i)},getParentHeight(){var e=d.value;return e?(Y.isZMax?ce().visibleHeight:hr().toNumber(getComputedStyle(e.parentNode).height))-w.getExcludeHeight():0},triggerToolbarCommitEvent(e,t){const r=e["code"];return ae.commitProxy(e,t).then(e=>{r&&e&&e.status&&["query","reload","delete","save"].includes(r)&&ae.dispatchEvent("delete"===r||"save"===r?"proxy-"+r:"proxy-query",{...e,isReload:"reload"===r},t)})},triggerToolbarBtnEvent(e,t){w.triggerToolbarCommitEvent(e,t),ae.dispatchEvent("toolbar-button-click",{code:e.code,button:e},t)},triggerToolbarTolEvent(e,t){w.triggerToolbarCommitEvent(e,t),ae.dispatchEvent("toolbar-tool-click",{code:e.code,tool:e},t)},triggerZoomEvent(e){ae.zoom(),ae.dispatchEvent("zoom",{type:Y.isZMax?"max":"revert"},e)}},y=(Object.assign(re,Z,ae,w),(0,gr.ref)(0));(0,gr.watch)(()=>K.columns?K.columns.length:-1,()=>{y.value++}),(0,gr.watch)(()=>K.columns,()=>{y.value++}),(0,gr.watch)(y,()=>{(0,gr.nextTick)(()=>re.loadColumn(K.columns||[]))}),(0,gr.watch)(()=>K.toolbarConfig,()=>{o()}),(0,gr.watch)(()=>K.pagerConfig,()=>{a()}),(0,gr.watch)(()=>K.proxyConfig,()=>{X()}),uo.forEach(e=>{var e=e["setupGrid"];e&&(e=e(re))&&hr().isObject(e)&&Object.assign(re,e)}),a(),(0,gr.onMounted)(()=>{(0,gr.nextTick)(()=>{K.formConfig&&!s&&Ir("vxe.error.reqComp",["vxe-form"]),K.pagerConfig&&!c&&Ir("vxe.error.reqComp",["vxe-pager"])}),(0,gr.nextTick)(()=>{var e=K["columns"];e&&e.length&&re.loadColumn(e),o(),X()}),ho.on(re,"keydown",se)}),(0,gr.onUnmounted)(()=>{ho.off(re,"keydown")});return re.renderVN=()=>{var e=E.value,t=R.value;return(0,gr.h)("div",{ref:d,class:["vxe-grid",{["size--"+e]:e,"is--animat":!!K.animat,"is--round":K.round,"is--maximize":Y.isZMax,"is--loading":K.loading||Y.tableLoading}],style:t},(()=>{const t=[];return M.value.forEach(e=>{switch(e){case"Form":t.push(N());break;case"Toolbar":t.push(H());break;case"Top":t.push(P());break;case"Table":t.push((0,gr.h)("div",{key:"table",class:"vxe-grid--table-container"},[B(),U(),j()]));break;case"Bottom":t.push(z());break;case"Pager":t.push(W());break;default:Ir("vxe.error.notProp",["layouts -> "+e])}}),t})())},(0,gr.provide)("$xeGrid",re),re},render(){return this.renderVN()}});const xo=Object.assign({},it,{install(e){e.component(it.name,it)}}),bo=(mr.VxeUI.dynamicApp&&mr.VxeUI.dynamicApp.component(it.name,it),mr.VxeUI.component(it),xo),Co=[Qt,er,xo,Zl,no];function st(t,e){mr.VxeUI.setConfig(e),Co.forEach(e=>e.install(t))}mr.VxeUI.hasLanguage("zh-CN")||(mr.VxeUI.setI18n("zh-CN",{vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择",comma:"，",fullStop:"。"},loading:{text:"加载中..."},error:{downErr:"下载失败",groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqComp:'缺少 "{0}" 组件，请检查是否正确安装。 https://vxeui.com/#/start/useGlobal',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',uniField:'字段名 "{0}" 重复定义，这可能会出现错误',repeatKey:'主键重复 {0}="{1}"，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入",reqPlugin:'可选扩展插件 "{1}" https://vxeui.com/other{0}/#/{1}/install'},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"序号",actionTitle:"操作",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expError:"导出失败",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customClose:"关闭",customCancel:"取消",customRestore:"恢复默认",maxFixedCol:"最大冻结列的数量不能超过 {0} 个",dragTip:"移动：{0}"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{search:"搜索",loadingText:"加载中",emptyText:"暂无数据"},pager:{goto:"前往",gotoTitle:"页数",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整列的排序",colTitle:"标题",colResizable:"列宽（像素）",colVisible:"是否显示",colFixed:"冻结列",colFixedMax:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖方式（直接覆盖表格数据）",insert:"底部追加（在表格的底部追加新数据）",insertTop:"顶部追加（在表格的顶部追加新数据）",insertBottom:"底部追加（在表格的底部追加新数据）"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impMode:"导入模式",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开层级",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{errTitle:"错误提示",zoomMin:"最小化",zoomIn:"最大化",zoomOut:"还原",close:"关闭",miniMaxSize:"最小化窗口的数量不能超过 {0} 个",footPropErr:"show-footer 仅用于启用表尾，需配合 show-confirm-button | show-cancel-button | 插槽使用"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"周",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},imagePreview:{popupTitle:"预览",operBtn:{zoomOut:"缩小",zoomIn:"放大",pctFull:"等比例缩放",pct11:"显示原始尺寸",rotateLeft:"向左旋转",rotateRight:"向右旋转",print:"点击打印图片",download:"点击下载图片"}},upload:{fileBtnText:"点击或拖拽上传",imgBtnText:"点击或拖拽上传",dragPlaceholder:"请把文件拖放到这个区域即可上传",imgSizeHint:"单张{0}",imgCountHint:"最多{0}张",fileTypeHint:"支持 {0} 文件类型",fileSizeHint:"单个文件大小不超过{0}",fileCountHint:"最多可上传{0}个文件",uploadTypeErr:"文件类型不匹配！",overCountErr:"最多只能选择{0}个文件！",overCountExtraErr:"已超出最大数量{0}个，超出的{1}个文件将被忽略！",overSizeErr:"文件大小最大不能超过{0}！",reUpload:"重新上传",uploadProgress:"上传中 {0}%",uploadErr:"上传失败",uploadSuccess:"上传成功",moreBtnText:"更多（{0}）",viewItemTitle:"点击查看",morePopup:{readTitle:"查看列表",imageTitle:"上传图片",fileTitle:"上传文件"}},empty:{defText:"暂无数据"},formDesign:{formName:"表单名称",defFormTitle:"未命名的表单",widgetPropTab:"控件属性",widgetFormTab:"表单属性",error:{wdFormUni:"该类型的控件在表单中只允许添加一个",wdSubUni:"该类型的控件在子表中只允许添加一个"},styleSetting:{btn:"样式设置",title:"表单的样式设置",layoutTitle:"控件布局",verticalLayout:"上下布局",horizontalLayout:"横向布局",styleTitle:"标题样式",boldTitle:"标题加粗",fontBold:"加粗",fontNormal:"常规",colonTitle:"显示冒号",colonVisible:"显示",colonHidden:"隐藏",alignTitle:"对齐方式",widthTitle:"标题宽度",alignLeft:"居左",alignRight:"居右",unitPx:"像素",unitPct:"百分比"},widget:{group:{base:"基础控件",layout:"布局控件",system:"系统控件",module:"模块控件",chart:"图表控件",advanced:"高级控件"},copyTitle:"副本_{0}",component:{input:"输入框",textarea:"文本域",select:"下拉选择",row:"一行多列",title:"标题",text:"文本",subtable:"子表",VxeSwitch:"是/否",VxeInput:"输入框",VxeNumberInput:"数字",VxeDatePicker:"日期",VxeTextarea:"文本域",VxeSelect:"下拉选择",VxeTreeSelect:"树形选择",VxeRadioGroup:"单选框",VxeCheckboxGroup:"复选框",VxeUploadFile:"文件",VxeUploadImage:"图片",VxeRate:"评分",VxeSlider:"滑块"}},widgetProp:{name:"控件名称",placeholder:"提示语",required:"必填校验",multiple:"允许多选",displaySetting:{name:"显示设置",pc:"电脑端",mobile:"手机端",visible:"显示",hidden:"隐藏"},dataSource:{name:"数据源",defValue:"选项{0}",addOption:"添加选项",batchEditOption:"批量编辑",batchEditTip:"每行对应一个选项，支持从表格、Excel、WPS 中直接复制粘贴。",batchEditSubTip:"每行对应一个选项，如果是分组，子项可以是空格或制表键开头，支持从表格、Excel、WPS 中直接复制粘贴。",buildOption:"生成选项"},rowProp:{colSize:"列数",col2:"两列",col3:"三列",col4:"四列",col6:"六列",layout:"布局"},textProp:{name:"内容",alignTitle:"对齐方式",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",colorTitle:"字体颜色",sizeTitle:"字体大小",boldTitle:"字体加粗",fontNormal:"常规",fontBold:"加粗"},subtableProp:{seqTitle:"序号",showSeq:"显示序号",showCheckbox:"允许多选",errSubDrag:"子表不支持该控件，请使用其他控件",colPlace:"将控件拖拽进来"},uploadProp:{limitFileCount:"文件数量限制",limitFileSize:"文件大小限制",multiFile:"允许上传多个文件",limitImgCount:"图片数量限制",limitImgSize:"图片大小限制",multiImg:"允许上传多张图片"}}},listDesign:{fieldSettingTab:"字段设置",listSettingTab:"参数设置",searchTitle:"查询条件",listTitle:"列表字段",searchField:"查询字段",listField:"列表字段",activeBtn:{ActionButtonUpdate:"编辑",ActionButtonDelete:"删除"},search:{addBtn:"编辑",emptyText:"未配置查询条件",editPopupTitle:"编辑查询字段"},searchPopup:{colTitle:"标题",saveBtn:"保存"}},text:{copySuccess:"已复制到剪贴板",copyError:"当前环境不支持该操作"},countdown:{formats:{yyyy:"年",MM:"月",dd:"天",HH:"时",mm:"分",ss:"秒"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",selectErr:"无法操作指定区域的单元格",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结到左侧",fixedRight:"冻结到右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}}),mr.VxeUI.setLanguage("zh-CN")),mr.VxeUI.setTheme("light"),"undefined"!=typeof window&&window.Vue&&!window.VxeUITable&&(window.VxeUITable=s);var ct=s}return i}()});